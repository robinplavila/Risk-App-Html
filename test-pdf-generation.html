<!DOCTYPE html>
<html>
<head>
    <title>Test PDF Generation</title>
    <link rel="stylesheet" href="css/test-styles.css">
</head>
<body>
    <h1>Test PDF Generation</h1>
    
    <h2>Select Sectors:</h2>
    <div class="sector">
        <label><input type="checkbox" id="ai" value="ai"> AI</label>
    </div>
    <div class="sector">
        <label><input type="checkbox" id="defi" value="defi"> DeFi</label>
    </div>
    <div class="sector">
        <label><input type="checkbox" id="robotics" value="robotics"> Robotics</label>
    </div>
    
    <button class="btn" onclick="testPDFGeneration()">Test PDF Generation Logic</button>
    
    <div id="output"></div>
    
    <script>
        // Mock data for testing
        const testFormData = {
            sectors: [],
            ai: {
                ai_functionality_integrated: 'yes',
                ai_functionality_description: 'AI chatbot for customer service',
                develop_proprietary_ai: 'no',
                ai_ethical_policies: 'yes'
            },
            defi: {
                defi_custody_services: 'yes',
                defi_custody_controls: 'Multi-signature wallets with cold storage',
                defi_exchange_platform: 'no',
                defi_smart_contracts: 'yes',
                defi_audit_processes: 'Third-party security audits quarterly'
            },
            robotics: {
                robotics_functions: 'Warehouse automation and inventory management',
                robotics_public_use: 'no',
                robotics_deployed_count: '15',
                robotics_autonomy_level: 'semi_autonomous',
                robotics_realtime_decisions: 'yes'
            }
        };
        
        function testPDFGeneration() {
            // Get selected sectors
            const sectors = [];
            if (document.getElementById('ai').checked) sectors.push('ai');
            if (document.getElementById('defi').checked) sectors.push('defi');
            if (document.getElementById('robotics').checked) sectors.push('robotics');
            
            testFormData.sectors = sectors;
            
            console.log('Testing PDF generation with sectors:', sectors);
            
            let output = '<h2>PDF Generation Test Results:</h2>';
            output += '<p><strong>Selected Sectors:</strong> ' + sectors.join(', ') + '</p>';
            
            // Test AI section
            if (sectors.includes('ai')) {
                output += '<h3>AI Additional Questions Section:</h3>';
                output += '<ul>';
                output += '<li>Question 1: Is AI functionality integrated? Answer: ' + testFormData.ai.ai_functionality_integrated + '</li>';
                if (testFormData.ai.ai_functionality_integrated === 'yes') {
                    output += '<li>Follow-up: ' + testFormData.ai.ai_functionality_description + '</li>';
                }
                output += '<li>Question 2: Do you develop proprietary AI? Answer: ' + testFormData.ai.develop_proprietary_ai + '</li>';
                output += '<li>Question 5: Do you have ethical policies? Answer: ' + testFormData.ai.ai_ethical_policies + '</li>';
                output += '</ul>';
            }
            
            // Test DeFi section
            if (sectors.includes('defi')) {
                output += '<h3>DeFi Additional Questions Section:</h3>';
                output += '<ul>';
                output += '<li>Question 1: Custody services? Answer: ' + testFormData.defi.defi_custody_services + '</li>';
                if (testFormData.defi.defi_custody_services === 'yes') {
                    output += '<li>Follow-up: ' + testFormData.defi.defi_custody_controls + '</li>';
                }
                output += '<li>Question 2: Exchange platform? Answer: ' + testFormData.defi.defi_exchange_platform + '</li>';
                output += '<li>Question 3: Smart contracts? Answer: ' + testFormData.defi.defi_smart_contracts + '</li>';
                if (testFormData.defi.defi_smart_contracts === 'yes') {
                    output += '<li>Follow-up: ' + testFormData.defi.defi_audit_processes + '</li>';
                }
                output += '</ul>';
            }
            
            // Test Robotics section
            if (sectors.includes('robotics')) {
                output += '<h3>Robotics Additional Questions Section:</h3>';
                output += '<ul>';
                output += '<li>Question 1: Robot functions? Answer: ' + testFormData.robotics.robotics_functions + '</li>';
                output += '<li>Question 2: Public use? Answer: ' + testFormData.robotics.robotics_public_use + '</li>';
                output += '<li>Question 3: Deployed count? Answer: ' + testFormData.robotics.robotics_deployed_count + '</li>';
                output += '<li>Question 4: Autonomy level? Answer: ' + testFormData.robotics.robotics_autonomy_level + '</li>';
                output += '<li>Question 5: Real-time decisions? Answer: ' + testFormData.robotics.robotics_realtime_decisions + '</li>';
                output += '</ul>';
            }
            
            output += '<p><strong>✅ PDF Generation Logic Test Completed!</strong></p>';
            output += '<p>The enhanced functions would properly format these questions and answers in the PDF with proper question text, selected options marked with (•), and follow-up answers included when applicable.</p>';
            
            document.getElementById('output').innerHTML = output;
        }
    </script>
</body>
</html>