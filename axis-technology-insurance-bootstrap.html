<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Axis Technology Insurance Application - Comprehensive technology insurance application form">
    <title>Axis Technology Insurance Application</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS for enhanced mobile and touch optimization -->
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #0dcaf0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 1rem 0;
        }

        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin: auto;
            max-width: 900px;
        }

        .header-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, #0056b3 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header-section h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header-section p {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 0;
        }

        /* Step Progress Indicator */
        .step-progress {
            background: #f8f9fa;
            padding: 1.5rem;
            border-bottom: 2px solid #e9ecef;
            overflow-x: auto;
            overflow-y: hidden;
        }

        .step-indicator {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 1rem;
            min-width: max-content;
            padding: 0 1rem;
        }

        .step-item {
            display: flex;
            align-items: center;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.5rem;
            font-weight: 700;
            border: 2px solid;
            transition: all 0.3s ease;
        }

        .step-item.active .step-number {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .step-item.completed .step-number {
            background: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }

        .step-item:not(.active):not(.completed) .step-number {
            background: white;
            color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .step-separator {
            width: 50px;
            height: 2px;
            background: var(--secondary-color);
            margin: 0 1rem;
        }

        .step-item.completed + .step-separator {
            background: var(--success-color);
        }

        /* Form Content */
        .form-content {
            padding: 2rem;
            min-height: 600px;
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            color: var(--primary-color);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        /* Enhanced Form Controls for Touch */
        .form-control, .form-select {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 0.875rem 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-height: 48px;
            background: white;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
            transform: translateY(-1px);
        }

        .form-check-input {
            width: 1.5em;
            height: 1.5em;
            margin-top: 0.125em;
            border: 2px solid #dee2e6;
            border-radius: 4px;
        }

        .form-check-input:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .form-check-label {
            font-weight: 500;
            margin-left: 0.5rem;
            cursor: pointer;
        }

        /* Enhanced Buttons for Touch */
        .btn {
            border-radius: 12px;
            padding: 0.875rem 2rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            min-height: 48px;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, #0056b3 100%);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #0056b3 0%, #004085 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(13, 110, 253, 0.3);
        }

        .btn-outline-secondary {
            border: 2px solid var(--secondary-color);
            color: var(--secondary-color);
            background: transparent;
        }

        .btn-outline-secondary:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
        }

        /* Navigation */
        .navigation-section {
            background: #f8f9fa;
            padding: 1.5rem 2rem;
            border-top: 2px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .step-counter {
            font-weight: 600;
            color: var(--secondary-color);
        }

        /* Conditional Fields Animation */
        .conditional-field {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(13, 110, 253, 0.05);
            border: 1px solid rgba(13, 110, 253, 0.2);
            border-radius: 12px;
        }

        .conditional-field.show {
            display: block;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
                max-height: 0;
            }
            to {
                opacity: 1;
                transform: translateY(0);
                max-height: 200px;
            }
        }

        /* Table Enhancements */
        .table-responsive {
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .table thead th {
            background: var(--primary-color);
            color: white;
            border: none;
            font-weight: 600;
            padding: 1rem;
        }

        .table tbody td {
            padding: 1rem;
            vertical-align: middle;
            border-bottom: 1px solid #e9ecef;
        }

        .table tbody tr:hover {
            background-color: rgba(13, 110, 253, 0.05);
        }

        /* Error/Success States */
        .is-invalid {
            border-color: var(--danger-color);
            animation: shake 0.3s ease;
        }

        .is-valid {
            border-color: var(--success-color);
        }

        @keyframes shake {
            0%, 20%, 40%, 60%, 80% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
        }

        .invalid-feedback {
            color: var(--danger-color);
            font-size: 0.875rem;
            margin-top: 0.5rem;
            font-weight: 500;
        }

        .valid-feedback {
            color: var(--success-color);
            font-size: 0.875rem;
            margin-top: 0.5rem;
            font-weight: 500;
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            .header-section h1 {
                font-size: 2rem;
            }

            .header-section p {
                font-size: 1rem;
            }

            .step-indicator {
                gap: 0.5rem;
            }

            .step-text {
                display: none;
            }

            .step-separator {
                width: 30px;
                margin: 0 0.5rem;
            }

            .form-content {
                padding: 1.5rem;
            }

            .navigation-section {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .btn {
                width: 100%;
                margin-bottom: 0.5rem;
            }

            .navigation-section .d-flex {
                flex-direction: column;
                width: 100%;
            }
        }

        @media (max-width: 576px) {
            .main-container {
                margin: 0;
                border-radius: 0;
            }

            body {
                padding: 0;
            }

            .header-section {
                padding: 1.5rem;
            }

            .form-content {
                padding: 1rem;
            }

            .step-progress {
                padding: 1rem;
            }
        }

        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            .form-control, .form-select {
                border: 3px solid;
            }
            
            .btn {
                border: 2px solid;
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Loading States */
        .btn.loading {
            position: relative;
            color: transparent;
        }

        .btn.loading::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="main-container">
            <!-- Header Section -->
            <div class="header-section">
                <h1>🛡️ Axis Technology Insurance Application</h1>
                <p>Comprehensive technology insurance application form</p>
            </div>

            <!-- Step Progress Indicator -->
            <div class="step-progress">
                <div class="step-indicator">
                    <div class="step-item active" data-step="1">
                        <div class="step-number">1</div>
                        <span class="step-text">Sectors</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="2">
                        <div class="step-number">2</div>
                        <span class="step-text">General Information</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="3">
                        <div class="step-number">3</div>
                        <span class="step-text">Operations</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="4">
                        <div class="step-number">4</div>
                        <span class="step-text">Financials</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="5">
                        <div class="step-number">5</div>
                        <span class="step-text">Contractual Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="6">
                        <div class="step-number">6</div>
                        <span class="step-text">Cybersecurity & Tech Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="7">
                        <div class="step-number">7</div>
                        <span class="step-text">Data Backup & Continuity</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="8">
                        <div class="step-number">8</div>
                        <span class="step-text">Third Party & Vendor Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="9">
                        <div class="step-number">9</div>
                        <span class="step-text">Privacy & Data Security</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="10">
                        <div class="step-number">10</div>
                        <span class="step-text">IP & Content Governance</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="11">
                        <div class="step-number">11</div>
                        <span class="step-text">People & Employment</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="12">
                        <div class="step-number">12</div>
                        <span class="step-text">AI Tools & Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="13">
                        <div class="step-number">13</div>
                        <span class="step-text">Prior Incidents & Claims</span>
                    </div>
                    <div class="step-separator" id="ai-step-separator" style="display: none;"></div>
                    <div class="step-item" data-step="14" id="ai-step-indicator" style="display: none;">
                        <div class="step-number">14</div>
                        <span class="step-text">Artificial Intelligence</span>
                    </div>
                    <div class="step-separator" id="defi-step-separator" style="display: none;"></div>
                    <div class="step-item" data-step="15" id="defi-step-indicator" style="display: none;">
                        <div class="step-number">15</div>
                        <span class="step-text">Decentralized Finance</span>
                    </div>
                    <div class="step-separator" id="robotics-step-separator" style="display: none;"></div>
                    <div class="step-item" data-step="16" id="robotics-step-indicator" style="display: none;">
                        <div class="step-number">16</div>
                        <span class="step-text">Autonomous Robotics</span>
                    </div>
                </div>
            </div>

            <!-- Form Content -->
            <div class="form-content">
                <form id="insuranceForm" novalidate>
                    <!-- Section 1: Sectors -->
                    <div class="form-section active" data-section="1">
                        <h2 class="section-title">📊 Section 1. Sectors</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Instructions:</strong> Please select all sectors that apply to your business. You may select multiple options.
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-bold">
                                Does your business provide products or services within any of the following sectors? <span class="text-danger">*</span>
                                <small class="text-muted">(tick all that apply)</small>
                            </label>
                            
                            <div class="row mt-3">
                                <div class="col-md-4 mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="ai" id="sector_ai" name="sectors[]">
                                        <label class="form-check-label" for="sector_ai">
                                            🤖 Artificial Intelligence
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="defi" id="sector_defi" name="sectors[]">
                                        <label class="form-check-label" for="sector_defi">
                                            💰 Decentralized Finance & Digital Assets
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="robotics" id="sector_robotics" name="sectors[]">
                                        <label class="form-check-label" for="sector_robotics">
                                            🦾 Autonomous Robotics
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="invalid-feedback">
                                Please select at least one sector that applies to your business.
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: General Information -->
                    <div class="form-section" data-section="2">
                        <h2 class="section-title">🏢 Section 2. General Information</h2>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="legal_name" class="form-label">1. Legal Name of Organization</label>
                                <input type="text" class="form-control" id="legal_name" name="legal_name">
                                <div class="invalid-feedback">Please provide the legal name of your organization.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="incorporation_location" class="form-label">Location of Incorporation</label>
                                <input type="text" class="form-control" id="incorporation_location" name="incorporation_location">
                                <div class="invalid-feedback">Please provide the location of incorporation.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="mailing_address" class="form-label">2. Mailing Address</label>
                            <textarea class="form-control" id="mailing_address" name="mailing_address" rows="3"></textarea>
                            <div class="invalid-feedback">Please provide your complete mailing address.</div>
                        </div>

                        <div class="mb-3">
                            <label for="subsidiaries" class="form-label">3. List all subsidiaries & Location of Incorporation</label>
                            <textarea class="form-control" id="subsidiaries" name="subsidiaries" rows="3" placeholder="List each subsidiary and its location of incorporation"></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="physical_locations" class="form-label">4. List all Physical Locations</label>
                            <textarea class="form-control" id="physical_locations" name="physical_locations" rows="3" placeholder="List all physical office/facility locations"></textarea>
                            <div class="invalid-feedback">Please list all physical locations.</div>
                        </div>

                        <div class="mb-3">
                            <label for="urls" class="form-label">5. List all URL's</label>
                            <textarea class="form-control" id="urls" name="urls" rows="3" placeholder="List all company websites and web applications"></textarea>
                            <div class="invalid-feedback">Please list all company URLs.</div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="year_established" class="form-label">6. Year Company Established</label>
                                <input type="number" class="form-control" id="year_established" name="year_established" min="1800" max="2024">
                                <div class="invalid-feedback">Please provide a valid year.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="num_employees" class="form-label">7. Number of Employees</label>
                                <input type="number" class="form-control" id="num_employees" name="num_employees" min="1">
                                <div class="invalid-feedback">Please provide the number of employees.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">8. Are any Employees based outside of Canada?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="employees_outside_canada" id="employees_outside_yes" value="yes">
                                    <label class="form-check-label" for="employees_outside_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="employees_outside_canada" id="employees_outside_no" value="no">
                                    <label class="form-check-label" for="employees_outside_no">No</label>
                                </div>
                            </div>
                            <div class="invalid-feedback">Please select an option.</div>
                            
                            <div class="conditional-field" id="employees_outside_details">
                                <label for="employees_outside_list" class="form-label">If yes, list the country and the number of employees in each:</label>
                                <textarea class="form-control" id="employees_outside_list" name="employees_outside_list" rows="3" placeholder="Country: Number of employees"></textarea>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">9. Breach Response Contact</label>
                            <div class="row">
                                <div class="col-md-6 mb-2">
                                    <input type="text" class="form-control" name="breach_contact_name" placeholder="Name">
                                </div>
                                <div class="col-md-6 mb-2">
                                    <input type="text" class="form-control" name="breach_contact_title" placeholder="Title">
                                </div>
                                <div class="col-md-6 mb-2">
                                    <input type="email" class="form-control" name="breach_contact_email" placeholder="Email">
                                </div>
                                <div class="col-md-6 mb-2">
                                    <input type="tel" class="form-control" name="breach_contact_phone" placeholder="Phone">
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">10. Any recent or planned mergers, acquisitions, or divestitures?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="mergers_acquisitions" id="mergers_yes" value="yes">
                                    <label class="form-check-label" for="mergers_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="mergers_acquisitions" id="mergers_no" value="no">
                                    <label class="form-check-label" for="mergers_no">No</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">11. Any plans to change the business structure in the next 12 months?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="business_structure_change" id="structure_change_yes" value="yes">
                                    <label class="form-check-label" for="structure_change_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="business_structure_change" id="structure_change_no" value="no">
                                    <label class="form-check-label" for="structure_change_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="structure_change_details">
                                <label for="structure_change_description" class="form-label">If yes, describe:</label>
                                <textarea class="form-control" id="structure_change_description" name="structure_change_description" rows="3"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: Operations -->
                    <div class="form-section" data-section="3">
                        <h2 class="section-title">⚙️ Section 3. Operations</h2>
                        
                        <div class="mb-4">
                            <label for="services_description" class="form-label">1. Briefly describe the services and/or technology products your company provides</label>
                            <textarea class="form-control" id="services_description" name="services_description" rows="4"></textarea>
                            <div class="invalid-feedback">Please describe your services and products.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Percentage of revenue derived from each activity</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Activity</th>
                                            <th>Percentage (%)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Software Development</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_software" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td>Consulting Services</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_consulting" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td>Product Sales</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_products" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td>Technology Services</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_tech_services" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td>Other</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_other" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr class="table-primary">
                                            <td><strong>Total</strong></td>
                                            <td><strong><span id="revenue_total">0</span>%</strong></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="invalid-feedback" id="revenue-error">
                                The total percentage must equal 100%.
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. Do you operate in any of the following high-risk areas?</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>High-Risk Area</th>
                                            <th>Yes/No</th>
                                            <th>Details (if Yes)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Critical Infrastructure</td>
                                            <td>
                                                <select class="form-select high-risk-select" name="risk_critical_infrastructure" data-details="critical_infrastructure_details">
                                                    <option value="">Select...</option>
                                                    <option value="yes">Yes</option>
                                                    <option value="no">No</option>
                                                </select>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="critical_infrastructure_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Financial Services</td>
                                            <td>
                                                <select class="form-select high-risk-select" name="risk_financial_services" data-details="financial_services_details">
                                                    <option value="">Select...</option>
                                                    <option value="yes">Yes</option>
                                                    <option value="no">No</option>
                                                </select>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="financial_services_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Healthcare</td>
                                            <td>
                                                <select class="form-select high-risk-select" name="risk_healthcare" data-details="healthcare_details">
                                                    <option value="">Select...</option>
                                                    <option value="yes">Yes</option>
                                                    <option value="no">No</option>
                                                </select>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="healthcare_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Government/Defense</td>
                                            <td>
                                                <select class="form-select high-risk-select" name="risk_government" data-details="government_details">
                                                    <option value="">Select...</option>
                                                    <option value="yes">Yes</option>
                                                    <option value="no">No</option>
                                                </select>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="government_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you sell tangible products?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="sell_tangible_products" id="tangible_yes" value="yes">
                                    <label class="form-check-label" for="tangible_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="sell_tangible_products" id="tangible_no" value="no">
                                    <label class="form-check-label" for="tangible_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="tangible_products_details">
                                <div class="row">
                                    <div class="col-md-8">
                                        <label for="tangible_products_description" class="form-label">If yes, describe the products:</label>
                                        <textarea class="form-control" id="tangible_products_description" name="tangible_products_description" rows="3"></textarea>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="tangible_products_revenue" class="form-label">% Revenue:</label>
                                        <input type="number" class="form-control" id="tangible_products_revenue" name="tangible_products_revenue" min="0" max="100" placeholder="0">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do you (or your subcontractors) install hardware at client sites?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="install_hardware" id="hardware_yes" value="yes">
                                    <label class="form-check-label" for="hardware_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="install_hardware" id="hardware_no" value="no">
                                    <label class="form-check-label" for="hardware_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="hardware_installation_details">
                                <label for="hardware_installation_revenue" class="form-label">If yes, % revenue:</label>
                                <input type="number" class="form-control" id="hardware_installation_revenue" name="hardware_installation_revenue" min="0" max="100" placeholder="0">
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you provide hosting services to third parties?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="hosting_services" id="hosting_yes" value="yes">
                                    <label class="form-check-label" for="hosting_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="hosting_services" id="hosting_no" value="no">
                                    <label class="form-check-label" for="hosting_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="hosting_services_details">
                                <div class="mb-3">
                                    <label class="form-label">If yes, do you use:</label>
                                    <div class="mt-2">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="hosting_infrastructure" id="hosting_own" value="own">
                                            <label class="form-check-label" for="hosting_own">Own Infrastructure</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="hosting_infrastructure" id="hosting_third_party" value="third_party">
                                            <label class="form-check-label" for="hosting_third_party">Third Party</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="conditional-field" id="third_party_hosting_details">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="third_party_name" class="form-label">If Third Party - Name:</label>
                                            <input type="text" class="form-control" id="third_party_name" name="third_party_name" placeholder="Provider name">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="third_party_tier" class="form-label">Tier Rating:</label>
                                            <input type="text" class="form-control" id="third_party_tier" name="third_party_tier" placeholder="Tier rating">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you use artificial intelligence (AI) or machine learning (ML) tools in your business operations?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="ai_ml_usage" id="ai_yes" value="yes">
                                    <label class="form-check-label" for="ai_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="ai_ml_usage" id="ai_no" value="no">
                                    <label class="form-check-label" for="ai_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="ai_ml_details">
                                <label for="ai_ml_description" class="form-label">If yes, please provide details:</label>
                                <textarea class="form-control" id="ai_ml_description" name="ai_ml_description" rows="3" placeholder="Describe your AI/ML tools and usage"></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do you provide any managed IT services?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="managed_it_services" id="managed_it_yes" value="yes">
                                    <label class="form-check-label" for="managed_it_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="managed_it_services" id="managed_it_no" value="no">
                                    <label class="form-check-label" for="managed_it_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="managed_it_details">
                                <label for="managed_it_revenue" class="form-label">If yes, % revenue:</label>
                                <input type="number" class="form-control" id="managed_it_revenue" name="managed_it_revenue" min="0" max="100" placeholder="0">
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="customer_count" class="form-label">9. Approximately how many customers do you have?</label>
                            <input type="number" class="form-control" id="customer_count" name="customer_count" min="0" placeholder="0">
                            <div class="invalid-feedback">Please enter the number of customers.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. List the top 3 clients over the past 3 years</label>
                            <small class="form-text text-muted">Include: name, service provided, duration, value</small>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Client Name</th>
                                            <th>Service Provided</th>
                                            <th>Duration</th>
                                            <th>Value ($)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><input type="text" class="form-control" name="client_1_name" placeholder="Client 1 name"></td>
                                            <td><input type="text" class="form-control" name="client_1_service" placeholder="Service provided"></td>
                                            <td><input type="text" class="form-control" name="client_1_duration" placeholder="e.g., 2 years"></td>
                                            <td><input type="number" class="form-control" name="client_1_value" placeholder="0" min="0"></td>
                                        </tr>
                                        <tr>
                                            <td><input type="text" class="form-control" name="client_2_name" placeholder="Client 2 name"></td>
                                            <td><input type="text" class="form-control" name="client_2_service" placeholder="Service provided"></td>
                                            <td><input type="text" class="form-control" name="client_2_duration" placeholder="e.g., 1.5 years"></td>
                                            <td><input type="number" class="form-control" name="client_2_value" placeholder="0" min="0"></td>
                                        </tr>
                                        <tr>
                                            <td><input type="text" class="form-control" name="client_3_name" placeholder="Client 3 name"></td>
                                            <td><input type="text" class="form-control" name="client_3_service" placeholder="Service provided"></td>
                                            <td><input type="text" class="form-control" name="client_3_duration" placeholder="e.g., 6 months"></td>
                                            <td><input type="number" class="form-control" name="client_3_value" placeholder="0" min="0"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Section 4: Financials -->
                    <div class="form-section" data-section="4">
                        <h2 class="section-title">💰 Section 4. Financials</h2>
                        
                        <div class="mb-4">
                            <label for="financial_year_end" class="form-label">1. Date of financial year end</label>
                            <input type="date" class="form-control" id="financial_year_end" name="financial_year_end">
                            <div class="invalid-feedback">Please provide your financial year end date.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Provide gross revenues for:</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Period</th>
                                            <th>Domestic ($)</th>
                                            <th>USA ($)</th>
                                            <th>Foreign ($)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Last completed fiscal year end</strong></td>
                                            <td><input type="number" class="form-control" name="revenue_last_domestic" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_last_usa" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_last_foreign" min="0" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td><strong>Estimate for current fiscal year end</strong></td>
                                            <td><input type="number" class="form-control" name="revenue_current_domestic" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_current_usa" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_current_foreign" min="0" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td><strong>Estimate for next completed fiscal year end</strong></td>
                                            <td><input type="number" class="form-control" name="revenue_next_domestic" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_next_usa" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_next_foreign" min="0" placeholder="0"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="sales_b2b_percentage" class="form-label">3. Percentage of sales business to business</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="sales_b2b_percentage" name="sales_b2b_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                                <div class="invalid-feedback">Please enter the B2B sales percentage.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="sales_b2c_percentage" class="form-label">4. Percentage of sales business to consumer</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="sales_b2c_percentage" name="sales_b2c_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                                <div class="invalid-feedback">Please enter the B2C sales percentage.</div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="average_contract_value" class="form-label">5. Average contract value</label>
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" class="form-control" id="average_contract_value" name="average_contract_value" min="0" placeholder="0">
                            </div>
                            <div class="invalid-feedback">Please enter the average contract value.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do any single clients represent more than 5% of your total annual revenue?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="single_client_5_percent" id="client_5_percent_yes" value="yes">
                                    <label class="form-check-label" for="client_5_percent_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="single_client_5_percent" id="client_5_percent_no" value="no">
                                    <label class="form-check-label" for="client_5_percent_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="client_5_percent_details">
                                <label for="client_5_percent_description" class="form-label">If yes, provide details:</label>
                                <textarea class="form-control" id="client_5_percent_description" name="client_5_percent_description" rows="3" placeholder="Describe which clients and their percentage of revenue"></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. List your largest 5 Projects or Contracts in the past 2 years</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Project/Contract Name</th>
                                            <th>Client</th>
                                            <th>Value ($)</th>
                                            <th>Duration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td><input type="text" class="form-control" name="project_1_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_1_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_1_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_1_duration" placeholder="e.g., 12 months"></td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td><input type="text" class="form-control" name="project_2_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_2_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_2_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_2_duration" placeholder="e.g., 8 months"></td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td><input type="text" class="form-control" name="project_3_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_3_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_3_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_3_duration" placeholder="e.g., 6 months"></td>
                                        </tr>
                                        <tr>
                                            <td>4</td>
                                            <td><input type="text" class="form-control" name="project_4_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_4_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_4_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_4_duration" placeholder="e.g., 4 months"></td>
                                        </tr>
                                        <tr>
                                            <td>5</td>
                                            <td><input type="text" class="form-control" name="project_5_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_5_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_5_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_5_duration" placeholder="e.g., 3 months"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="total_payroll" class="form-label">8. Total payroll</label>
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" class="form-control" id="total_payroll" name="total_payroll" min="0" placeholder="0">
                            </div>
                            <div class="invalid-feedback">Please enter the total payroll amount.</div>
                        </div>
                    </div>

                    <!-- Section 5: Contractual Controls -->
                    <div class="form-section" data-section="5">
                        <h2 class="section-title">📄 Section 5. Contractual Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do you rely solely on your terms of service to limit your liability to customers?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_tos_only" id="liability_tos_only_yes" value="yes">
                                <label class="form-check-label" for="liability_tos_only_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_tos_only" id="liability_tos_only_no" value="no">
                                <label class="form-check-label" for="liability_tos_only_no">No</label>
                            </div>
                            
                            <div id="liability_tos_details" class="mt-3" style="display: none;">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tos_customer_agreement" id="tos_customer_agreement_yes" value="yes">
                                    <label class="form-check-label" for="tos_customer_agreement_yes">Yes, customers are to agree to our terms of service</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tos_customer_agreement" id="tos_customer_agreement_no" value="no">
                                    <label class="form-check-label" for="tos_customer_agreement_no">No, customers are not to agree to our terms of service</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you use a written contract or agreement for 100% of all product and service engagements?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="written_contract_100" id="written_contract_100_yes" value="yes">
                                <label class="form-check-label" for="written_contract_100_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="written_contract_100" id="written_contract_100_no" value="no">
                                <label class="form-check-label" for="written_contract_100_no">No</label>
                            </div>
                            
                            <div id="written_contract_percentage" class="mt-3" style="display: none;">
                                <label for="contract_percentage" class="form-label">What percentage of engagements are governed by a written contract?</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="contract_percentage" name="contract_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="engagement_contract_split" class="form-label">3. What percentage of engagements are under your own vs customer-provided contract?</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="engagement_contract_split" name="engagement_contract_split" min="0" max="100" placeholder="0">
                                <span class="input-group-text">% (Your own contracts)</span>
                            </div>
                            <small class="form-text text-muted">The remaining percentage will be customer-provided contracts</small>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Has your standard customer contract, including terms of service if applicable, been reviewed by your legal counsel?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legal_counsel_review" id="legal_counsel_review_yes" value="yes">
                                <label class="form-check-label" for="legal_counsel_review_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legal_counsel_review" id="legal_counsel_review_no" value="no">
                                <label class="form-check-label" for="legal_counsel_review_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do you have a clear process for reviewing and approving key contracts, including with clients, vendors, and other partners?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_none" value="No formal contract review or approval process exists.">
                                <label class="form-check-label" for="contract_review_process_none">No formal contract review or approval process exists.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_case_by_case" value="Contracts are reviewed on a case-by-case basis, typically by the CEO, founder, or internal stakeholders, but there is no consistent process, legal review, or formal approval protocol.">
                                <label class="form-check-label" for="contract_review_process_case_by_case">Contracts are reviewed on a case-by-case basis, typically by the CEO, founder, or internal stakeholders, but there is no consistent process, legal review, or formal approval protocol.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_defined" value="There is a defined contract review and approval process involving legal or executive oversight for key agreements.">
                                <label class="form-check-label" for="contract_review_process_defined">There is a defined contract review and approval process involving legal or executive oversight for key agreements.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_documented" value="A documented workflow is in place with legal review, delegated signing authority, contract risk checks, and version control for all major agreements.">
                                <label class="form-check-label" for="contract_review_process_documented">A documented workflow is in place with legal review, delegated signing authority, contract risk checks, and version control for all major agreements.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do your standard contracts include limitations on your financial liability and legal liability, including for missing service levels?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_none" value="Standard contracts do not include any limitations of liability.">
                                <label class="form-check-label" for="liability_limitations_none">Standard contracts do not include any limitations of liability.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_inconsistent" value="Liability limits are included in standard contracts and sometimes negotiated, but they are not consistently applied or reviewed and often do not address consequential damages or SLA breaches.">
                                <label class="form-check-label" for="liability_limitations_inconsistent">Liability limits are included in standard contracts and sometimes negotiated, but they are not consistently applied or reviewed and often do not address consequential damages or SLA breaches.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_defined" value="Contracts include defined financial caps and disclaimers for indirect damages and SLA non-performance.">
                                <label class="form-check-label" for="liability_limitations_defined">Contracts include defined financial caps and disclaimers for indirect damages and SLA non-performance.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_tailored" value="The organization uses tailored limitation clauses covering direct and indirect risks, with regular legal review to align with evolving exposures and jurisdictions.">
                                <label class="form-check-label" for="liability_limitations_tailored">The organization uses tailored limitation clauses covering direct and indirect risks, with regular legal review to align with evolving exposures and jurisdictions.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you have a process to track contract obligations (timelines, deliverables, SLAs) and escalate issues if a project is at risk?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_none" value="We do not have a formal process to track projects.">
                                <label class="form-check-label" for="contract_tracking_none">We do not have a formal process to track projects.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_manual" value="We track key project deadlines and deliverables manually and escalatory actions vary by project or manager.">
                                <label class="form-check-label" for="contract_tracking_manual">We track key project deadlines and deliverables manually and escalatory actions vary by project or manager.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_system" value="A project management system is used to track deliverables, milestones, and SLAs, with internal reviews and escalation as needed.">
                                <label class="form-check-label" for="contract_tracking_system">A project management system is used to track deliverables, milestones, and SLAs, with internal reviews and escalation as needed.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_integrated" value="Contract commitments are integrated into project and performance tracking tools, with automated alerts, escalation processes, and reporting to leadership.">
                                <label class="form-check-label" for="contract_tracking_integrated">Contract commitments are integrated into project and performance tracking tools, with automated alerts, escalation processes, and reporting to leadership.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="scope_change_handling" class="form-label">8. How do you handle changes in project scope, customer feedback, or issues needing corrective action?</label>
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_informal" value="Changes and feedback are handled informally without documentation.">
                                <label class="form-check-label" for="scope_change_handling_informal">Changes and feedback are handled informally without documentation.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_email" value="Changes are typically discussed and approved through email or meetings, with some controls like change request forms in place, but there is no structured tracking or sign-off and these controls are not used consistently.">
                                <label class="form-check-label" for="scope_change_handling_email">Changes are typically discussed and approved through email or meetings, with some controls like change request forms in place, but there is no structured tracking or sign-off and these controls are not used consistently.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_formal" value="There is a formal process for scope changes and issue resolution, including documentation, approvals, and updates to contracts or timelines.">
                                <label class="form-check-label" for="scope_change_handling_formal">There is a formal process for scope changes and issue resolution, including documentation, approvals, and updates to contracts or timelines.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_procedures" value="The company enforces change control procedures, customer feedback loops, root cause analysis, and continuous improvement tracking for service delivery.">
                                <label class="form-check-label" for="scope_change_handling_procedures">The company enforces change control procedures, customer feedback loops, root cause analysis, and continuous improvement tracking for service delivery.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Is there a formal process for customers to accept your product?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="formal_acceptance_process" id="formal_acceptance_process_yes" value="yes">
                                <label class="form-check-label" for="formal_acceptance_process_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="formal_acceptance_process" id="formal_acceptance_process_no" value="no">
                                <label class="form-check-label" for="formal_acceptance_process_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Do you subcontract professional services?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontract_services" id="subcontract_services_yes" value="yes">
                                <label class="form-check-label" for="subcontract_services_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontract_services" id="subcontract_services_no" value="no">
                                <label class="form-check-label" for="subcontract_services_no">No</label>
                            </div>
                            
                            <div id="subcontract_details" class="mt-3" style="display: none;">
                                <label for="subcontract_revenue_percentage" class="form-label">% of revenue to subcontractors</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="subcontract_revenue_percentage" name="subcontract_revenue_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="subcontractor_standards" class="form-label">11. How do you ensure your subcontractors meet the same insurance and risk standards that are required of you in your contracts?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_none" value="Subcontractors are not subject to any formal requirements.">
                                <label class="form-check-label" for="subcontractor_standards_none">Subcontractors are not subject to any formal requirements.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_uneven" value="Our contracts require subcontractors to carry insurance and comply with security terms, but there is no consistent process to verify compliance and enforcement is uneven.">
                                <label class="form-check-label" for="subcontractor_standards_uneven">Our contracts require subcontractors to carry insurance and comply with security terms, but there is no consistent process to verify compliance and enforcement is uneven.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_checked" value="Subcontractors must provide proof of compliance (e.g., COIs), and compliance is checked during onboarding.">
                                <label class="form-check-label" for="subcontractor_standards_checked">Subcontractors must provide proof of compliance (e.g., COIs), and compliance is checked during onboarding.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_embedded" value="Subcontractor risk controls are embedded in procurement and project workflows, with centralized tracking, renewal monitoring, and compliance audits.">
                                <label class="form-check-label" for="subcontractor_standards_embedded">Subcontractor risk controls are embedded in procurement and project workflows, with centralized tracking, renewal monitoring, and compliance audits.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="marketing_accuracy" class="form-label">12. How do you make sure claims about the performance of your products or services in marketing and sales materials are accurate?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_none" value="No process exists to verify marketing or sales claims.">
                                <label class="form-check-label" for="marketing_accuracy_none">No process exists to verify marketing or sales claims.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_basic" value="Marketing materials are created by internal teams with occasional product input and a basic review by product or leadership before release, but they are not reviewed for legal or factual accuracy.">
                                <label class="form-check-label" for="marketing_accuracy_basic">Marketing materials are created by internal teams with occasional product input and a basic review by product or leadership before release, but they are not reviewed for legal or factual accuracy.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_review" value="There is a review process involving legal, product, and marketing to ensure accuracy and compliance with advertising standards.">
                                <label class="form-check-label" for="marketing_accuracy_review">There is a review process involving legal, product, and marketing to ensure accuracy and compliance with advertising standards.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_structured" value="A structured marketing review process exists with documented substantiation for performance claims, legal signoff, and audit trails for compliance.">
                                <label class="form-check-label" for="marketing_accuracy_structured">A structured marketing review process exists with documented substantiation for performance claims, legal signoff, and audit trails for compliance.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">13. Do you have a process to identify and update legacy contracts that may not conform to your current standard templates?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_none" value="No formal process exists. Legacy contracts remain in place without review, regardless of alignment with current standards or protocols.">
                                <label class="form-check-label" for="legacy_contract_process_none">No formal process exists. Legacy contracts remain in place without review, regardless of alignment with current standards or protocols.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_occasional" value="Legacy contracts are occasionally reviewed or updated, but only when issues arise (e.g., disputes, renewals). No systematic approach or central oversight">
                                <label class="form-check-label" for="legacy_contract_process_occasional">Legacy contracts are occasionally reviewed or updated, but only when issues arise (e.g., disputes, renewals). No systematic approach or central oversight</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_structured" value="A structured process is in place to review and update legacy contracts, typically during renewals or major business changes. Some contracts may still fall outside current standards.">
                                <label class="form-check-label" for="legacy_contract_process_structured">A structured process is in place to review and update legacy contracts, typically during renewals or major business changes. Some contracts may still fall outside current standards.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_comprehensive" value="Comprehensive, proactive process in place with regular audits of all contracts. Legacy agreements are systematically identified, tracked, and updated to align with current templates and risk protocols.">
                                <label class="form-check-label" for="legacy_contract_process_comprehensive">Comprehensive, proactive process in place with regular audits of all contracts. Legacy agreements are systematically identified, tracked, and updated to align with current templates and risk protocols.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">14. Do your sales, marketing, or customer-facing materials use terms such as "guarantee" or "warranty" that could create obligations beyond contractual commitments or fall outside the scope of insurance coverage?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_yes" value="Sales and marketing materials may include “guarantee” or “warranty” language without legal or risk review.">
                                <label class="form-check-label" for="marketing_warranty_terms_yes">Sales and marketing materials may include “guarantee” or “warranty” language without legal or risk review.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_no" value="References to “guarantees” or “warranties” are occasionally reviewed, but not consistently controlled or approved by legal/risk teams.">
                                <label class="form-check-label" for="marketing_warranty_terms_no">References to “guarantees” or “warranties” are occasionally reviewed, but not consistently controlled or approved by legal/risk teams.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_managed" value="Marketing and sales content is generally reviewed by legal or compliance before publication. Warranty or guarantee language is identified and managed, though gaps may still exist in older or decentralized materials.">
                                <label class="form-check-label" for="marketing_warranty_terms_managed">Marketing and sales content is generally reviewed by legal or compliance before publication. Warranty or guarantee language is identified and managed, though gaps may still exist in older or decentralized materials.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_systematic" value="All marketing and sales materials are systematically vetted to avoid unintended guarantees/warranties. Employees are trained on the insurance and liability implications of such terms, ensuring alignment with contractual and insurance protections.">
                                <label class="form-check-label" for="marketing_warranty_terms_systematic">All marketing and sales materials are systematically vetted to avoid unintended guarantees/warranties. Employees are trained on the insurance and liability implications of such terms, ensuring alignment with contractual and insurance protections.</label>
                            </div>
                        </div>
                    </div>

                    <!-- Section 6: Cybersecurity, Technical & Crime Controls -->
                    <div class="form-section" data-section="6">
                        <h2 class="section-title">🔒 Section 6. Cybersecurity, Technical & Crime Controls</h2>
                        
                        <div class="mb-4">
                            <label for="cybersecurity_responsibility" class="form-label">1. Who is responsible for overseeing cybersecurity on a day-to-day basis?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_none" value="No one is formally responsible for cybersecurity.">
                                <label class="form-check-label" for="cybersecurity_responsibility_none">No one is formally responsible for cybersecurity.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_informal" value="Cybersecurity responsibilities are informally assigned, usually handled part-time by IT, operations, or a designated staff member.">
                                <label class="form-check-label" for="cybersecurity_responsibility_informal">Cybersecurity responsibilities are informally assigned, usually handled part-time by IT, operations, or a designated staff member.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_fulltime" value="A full-time staff member or external provider is responsible, with defined oversight.">
                                <label class="form-check-label" for="cybersecurity_responsibility_fulltime">A full-time staff member or external provider is responsible, with defined oversight.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_ciso" value="A qualified internal or external CISO manages cybersecurity with clear authority, reporting, and board-level oversight.">
                                <label class="form-check-label" for="cybersecurity_responsibility_ciso">A qualified internal or external CISO manages cybersecurity with clear authority, reporting, and board-level oversight.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="cybersecurity_policy" class="form-label">2. Is there a formal cybersecurity policy in place for employees to follow?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_none" value="No cybersecurity policy exists.">
                                <label class="form-check-label" for="cybersecurity_policy_none">No cybersecurity policy exists.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_outdated" value="A policy exists and is shared with employees during onboarding but it may be outdated or not consistently distributed to all staff beyond initial hiring.">
                                <label class="form-check-label" for="cybersecurity_policy_outdated">A policy exists and is shared with employees during onboarding but it may be outdated or not consistently distributed to all staff beyond initial hiring.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_current" value="The policy is current, distributed to all employees, and acknowledged in writing.">
                                <label class="form-check-label" for="cybersecurity_policy_current">The policy is current, distributed to all employees, and acknowledged in writing.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_comprehensive" value="A comprehensive, regularly updated policy is enforced and supported with training and accountability mechanisms.">
                                <label class="form-check-label" for="cybersecurity_policy_comprehensive">A comprehensive, regularly updated policy is enforced and supported with training and accountability mechanisms.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="cyber_training" class="form-label">3. Do all team members receive regular training to help them recognize cyber threats and scams?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_none" value="No cybersecurity training is provided.">
                                <label class="form-check-label" for="cyber_training_none">No cybersecurity training is provided.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_informal" value="Most employees receive annual training, but it may be informal, one-time, or not consistently tracked.">
                                <label class="form-check-label" for="cyber_training_informal">Most employees receive annual training, but it may be informal, one-time, or not consistently tracked.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_annual" value="All employees receive mandatory cybersecurity training annually.">
                                <label class="form-check-label" for="cyber_training_annual">All employees receive mandatory cybersecurity training annually.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_ongoing" value="Training is ongoing, tailored by role, and includes phishing simulations and tracking of completion and performance.">
                                <label class="form-check-label" for="cyber_training_ongoing">Training is ongoing, tailored by role, and includes phishing simulations and tracking of completion and performance.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="mfa_requirement" class="form-label">4. Is multi-factor authentication (MFA) required for accessing company systems, email, and cloud tools remotely?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_none" value="MFA is not used.">
                                <label class="form-check-label" for="mfa_requirement_none">MFA is not used.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_inconsistent" value="MFA is required for remote access to critical systems and used for some other users or systems, but overall implementation is inconsistent.">
                                <label class="form-check-label" for="mfa_requirement_inconsistent">MFA is required for remote access to critical systems and used for some other users or systems, but overall implementation is inconsistent.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_enforced" value="MFA is enforced for all users across remote and cloud environments.">
                                <label class="form-check-label" for="mfa_requirement_enforced">MFA is enforced for all users across remote and cloud environments.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_universal" value="MFA is universally enforced, regularly tested, and monitored for compliance and anomalies.">
                                <label class="form-check-label" for="mfa_requirement_universal">MFA is universally enforced, regularly tested, and monitored for compliance and anomalies.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="remote_access_security" class="form-label">5. Is remote access to your internal or cloud systems restricted to secure methods like VPN or SSO and protected with MFA?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_open" value="Remote access is open or unmanaged.">
                                <label class="form-check-label" for="remote_access_security_open">Remote access is open or unmanaged.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_passwords" value="Remote access typically relies on passwords and may use VPN or SSO, but secure controls like MFA are not consistently applied.">
                                <label class="form-check-label" for="remote_access_security_passwords">Remote access typically relies on passwords and may use VPN or SSO, but secure controls like MFA are not consistently applied.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_secure" value="Secure access (VPN or SSO) with MFA is required for all remote users.">
                                <label class="form-check-label" for="remote_access_security_secure">Secure access (VPN or SSO) with MFA is required for all remote users.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_controlled" value="Remote access is tightly controlled with policy enforcement, MFA, and centralized access logging.">
                                <label class="form-check-label" for="remote_access_security_controlled">Remote access is tightly controlled with policy enforcement, MFA, and centralized access logging.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="device_protection" class="form-label">6. What tools or protections secure employee devices and email from cyber threats?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_none" value="Devices and email are not protected by security tools.">
                                <label class="form-check-label" for="device_protection_none">Devices and email are not protected by security tools.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_basic" value="Basic antivirus, standard endpoint protection, and email filtering are in place.">
                                <label class="form-check-label" for="device_protection_basic">Basic antivirus, standard endpoint protection, and email filtering are in place.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_edr" value="Devices are protected by centrally managed EDR, and email systems have advanced filtering and threat detection.">
                                <label class="form-check-label" for="device_protection_edr">Devices are protected by centrally managed EDR, and email systems have advanced filtering and threat detection.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_layered" value="A layered security stack is deployed across all devices and email accounts, including EDR, DLP, and sandboxing.">
                                <label class="form-check-label" for="device_protection_layered">A layered security stack is deployed across all devices and email accounts, including EDR, DLP, and sandboxing.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="user_access_management" class="form-label">7. How is user access managed, including setting, adjusting, and promptly removing access?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_manual" value="Access is granted manually and rarely updated.">
                                <label class="form-check-label" for="user_access_management_manual">Access is granted manually and rarely updated.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_reviewed" value="Access rights are adjusted as needed and reviewed occasionally, with revocation upon termination, though delays may occur.">
                                <label class="form-check-label" for="user_access_management_reviewed">Access rights are adjusted as needed and reviewed occasionally, with revocation upon termination, though delays may occur.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_manual" value="Role-based access controls are in place with regular access reviews.">
                                <label class="form-check-label" for="user_access_management_manual">Role-based access controls are in place with regular access reviews.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_central" value="Access is centrally managed, provisioned by role, reviewed quarterly, and automatically revoked upon role change or termination.">
                                <label class="form-check-label" for="user_access_management_reviewed">Access is centrally managed, provisioned by role, reviewed quarterly, and automatically revoked upon role change or termination.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="activity_logs" class="form-label">8. Do you collect and review activity logs across your IT environment?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_none" value="No activity logs are collected or retained.">
                                <label class="form-check-label" for="activity_logs_none">No activity logs are collected or retained.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_reactive" value="Logs are collected from key systems but are not actively monitored, and reviews are performed reactively.">
                                <label class="form-check-label" for="activity_logs_reactive">Logs are collected from key systems but are not actively monitored, and reviews are performed reactively.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_centralized" value="Centralized log management is in place with routine review and alerting.">
                                <label class="form-check-label" for="activity_logs_none">Centralized log management is in place with routine review and alerting.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_siem" value="Logs are collected, analyzed with SIEM tools, and reviewed proactively with incident response integration.">
                                <label class="form-check-label" for="activity_logs_reactive">Logs are collected, analyzed with SIEM tools, and reviewed proactively with incident response integration.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="threat_detection" class="form-label">9. Do you use tools or services to identify cyber threats or unusual system activity in real time?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_none" value="No tools are used to monitor system activity or threats.">
                                <label class="form-check-label" for="threat_detection_none">No tools are used to monitor system activity or threats.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_basic" value="Basic alerts come from standard antivirus or firewall tools, with some real-time monitoring in place, though it is not centrally managed.">
                                <label class="form-check-label" for="threat_detection_basic">Basic alerts come from standard antivirus or firewall tools, with some real-time monitoring in place, though it is not centrally managed.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_realtime" value="Real-time threat detection tools are used and monitored by internal or external IT/security teams.">
                                <label class="form-check-label" for="threat_detection_none">Real-time threat detection tools are used and monitored by internal or external IT/security teams.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_integrated" value="A fully integrated threat detection and response system (e.g., MDR, SIEM) monitors activity 24/7 with alerting and escalation.">
                                <label class="form-check-label" for="threat_detection_basic">A fully integrated threat detection and response system (e.g., MDR, SIEM) monitors activity 24/7 with alerting and escalation.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="technology_management" class="form-label">10. How does your organization manage aging technology and ensure software and systems stay updated and supported?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_irregular" value="Software updates and patching are done irregularly or not at all.">
                                <label class="form-check-label" for="technology_management_irregular">Software updates and patching are done irregularly or not at all.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_periodic" value="Most systems are updated periodically, though some legacy systems remain unsupported, and updates often occur reactively without a set schedule.">
                                <label class="form-check-label" for="technology_management_periodic">Most systems are updated periodically, though some legacy systems remain unsupported, and updates often occur reactively without a set schedule.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_tracked" value="Key systems are tracked, security patches are regularly applied, and major upgrades are planned every few years, though some older systems remain in use if still functional.">
                                <label class="form-check-label" for="technology_management_irregular">Key systems are tracked, security patches are regularly applied, and major upgrades are planned every few years, though some older systems remain in use if still functional.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_proactive" value="Systems are proactively monitored for EOL/EOS, with automated patching and lifecycle management to maintain secure, supported software.">
                                <label class="form-check-label" for="technology_management_periodic">Systems are proactively monitored for EOL/EOS, with automated patching and lifecycle management to maintain secure, supported software.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="firewall_protection" class="form-label">11. Are firewalls in place to protect the network perimeter and to segment internal networks?</label>
                            <textarea class="form-control" id="firewall_protection" name="firewall_protection" rows="2" placeholder="Please describe your firewall configuration..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">12. Are internal/external vulnerability scans or penetration tests of your network performed?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="vulnerability_scans" id="vulnerability_scans_yes" value="yes">
                                <label class="form-check-label" for="vulnerability_scans_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="vulnerability_scans" id="vulnerability_scans_no" value="no">
                                <label class="form-check-label" for="vulnerability_scans_no">No</label>
                            </div>
                            
                            <div id="vulnerability_details" class="mt-3" style="display: none;">
                                <label for="vulnerability_frequency_methods" class="form-label">If yes, frequency and methods:</label>
                                <textarea class="form-control" id="vulnerability_frequency_methods" name="vulnerability_frequency_methods" rows="2" placeholder="Please describe frequency and methods of vulnerability scans/penetration tests..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="user_access_restrictions" class="form-label">13. Do you restrict user access/permissions to a need-to-know basis?</label>
                            <textarea class="form-control" id="user_access_restrictions" name="user_access_restrictions" rows="2" placeholder="Please describe your access restriction policy..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="unused_services" class="form-label">14. Are unused/unneeded network services and ports disabled or closed promptly?</label>
                            <textarea class="form-control" id="unused_services" name="unused_services" rows="2" placeholder="Please describe how you handle unused network services and ports..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">15. Name your service provider for each function:</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="datacenter_provider" class="form-label">Data center/cloud hosting</label>
                                    <input type="text" class="form-control" id="datacenter_provider" name="datacenter_provider" placeholder="Provider name">
                                </div>
                                <div class="col-md-6">
                                    <label for="managed_security_provider" class="form-label">Managed security service</label>
                                    <input type="text" class="form-control" id="managed_security_provider" name="managed_security_provider" placeholder="Provider name">
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <label for="security_monitoring_provider" class="form-label">Security event/alert monitoring</label>
                                    <input type="text" class="form-control" id="security_monitoring_provider" name="security_monitoring_provider" placeholder="Provider name">
                                </div>
                                <div class="col-md-6">
                                    <label for="managed_it_provider" class="form-label">Managed IT service provider</label>
                                    <input type="text" class="form-control" id="managed_it_provider" name="managed_it_provider" placeholder="Provider name">
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="departing_employee_procedure" class="form-label">16. Do you have a formal procedure for departing employees that includes revoking access to systems and recovery of all company devices/credentials?</label>
                            <textarea class="form-control" id="departing_employee_procedure" name="departing_employee_procedure" rows="3" placeholder="Please describe your departing employee procedure..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">17. Do you require more than one person to approve high-risk financial transactions like wire transfers?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_none" value="No approval process is required; a single individual can execute high-risk transactions.">
                                <label class="form-check-label" for="dual_approval_financial_none">No approval process is required; a single individual can execute high-risk transactions.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_inconsistent" value="Dual approval is expected for some transactions and occasionally required, but it is not consistently applied, enforced, or documented.">
                                <label class="form-check-label" for="dual_approval_financial_inconsistent">Dual approval is expected for some transactions and occasionally required, but it is not consistently applied, enforced, or documented.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_enforced" value="A dual-approval policy is enforced for all high-risk transactions (e.g., wire transfers, bank account changes), with audit trail documentation.">
                                <label class="form-check-label" for="dual_approval_financial_none">A dual-approval policy is enforced for all high-risk transactions (e.g., wire transfers, bank account changes), with audit trail documentation.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_mandatory" value="Dual authorization is mandatory for all high-risk transactions, embedded in financial systems, with tiered thresholds, role-based permissions, fraud alerts, and periodic audits to verify compliance.">
                                <label class="form-check-label" for="dual_approval_financial_inconsistent">Dual authorization is mandatory for all high-risk transactions, embedded in financial systems, with tiered thresholds, role-based permissions, fraud alerts, and periodic audits to verify compliance.</label>
                            </div>                            
                        </div>

                        <div class="mb-4">
                            <label for="financial_fraud_controls" class="form-label">18. What controls are in place to prevent and detect financial fraud, including scams targeting incoming and outgoing wire transfers or internal theft?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_none" value=" No formal controls or monitoring systems are in place; the company relies on trust or informal checks.">
                                <label class="form-check-label" for="financial_fraud_controls_none"> No formal controls or monitoring systems are in place; the company relies on trust or informal checks.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_basic" value="Basic safeguards exist, such as accounting software permissions and finance team reviews, with some vendor verification and fraud awareness efforts, but proactive measures against risks like phishing, business email compromise, or internal theft are limited, and monitoring is minimal.">
                                <label class="form-check-label" for="financial_fraud_controls_none">Basic safeguards exist, such as accounting software permissions and finance team reviews, with some vendor verification and fraud awareness efforts, but proactive measures against risks like phishing, business email compromise, or internal theft are limited, and monitoring is minimal.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_documented" value="Documented fraud prevention policies exist, with training, vendor validation, audit logs, and periodic financial audits or reconciliations.">
                                <label class="form-check-label" for="financial_fraud_controls_none">Documented fraud prevention policies exist, with training, vendor validation, audit logs, and periodic financial audits or reconciliations.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_formal" value="A formal fraud prevention framework is in place, including dual controls, transaction monitoring, fraud detection tools, employee training, whistleblower protections, and regular testing or audits of financial systems.">
                                <label class="form-check-label" for="financial_fraud_controls_none">A formal fraud prevention framework is in place, including dual controls, transaction monitoring, fraud detection tools, employee training, whistleblower protections, and regular testing or audits of financial systems.</label>
                            </div>
                        </div>
                    </div>

                    <!-- Section 7: Data Backup & Business Continuity & Supply Chain Controls -->
                    <div class="form-section" data-section="7">
                        <h2 class="section-title">💾 Section 7. Data Backup & Business Continuity & Supply Chain Controls</h2>
                        
                        <div class="mb-4">
                            <label for="breach_detection_response" class="form-label">1. What processes are in place to quickly detect and respond to data breaches or unauthorized access?</label>
                            <textarea class="form-control" id="breach_detection_response" name="breach_detection_response" rows="3" placeholder="Please describe your breach detection and response processes..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="communications_plan" class="form-label">2. Do you have a communications plan to protect your company's reputation in the event of a major issue or breach?</label>
                            <textarea class="form-control" id="communications_plan" name="communications_plan" rows="3" placeholder="Please describe your communications plan..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="backup_systems" class="form-label">3. Do you have backup systems to recover data after a cyber incident or outage?</label>
                            <textarea class="form-control" id="backup_systems" name="backup_systems" rows="3" placeholder="Please describe your backup systems..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="recovery_time" class="form-label">4. If systems go down, how quickly can you get your critical data and operations back online?</label>
                            <textarea class="form-control" id="recovery_time" name="recovery_time" rows="2" placeholder="Please describe your recovery time objectives..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="continuity_recovery_plans" class="form-label">5. Do you maintain business continuity and disaster recovery plans, and what are your key recovery goals?</label>
                            <textarea class="form-control" id="continuity_recovery_plans" name="continuity_recovery_plans" rows="3" placeholder="Please describe your business continuity and disaster recovery plans..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="recovery_testing" class="form-label">6. How often are recovery plans tested, and what improvements have resulted?</label>
                            <textarea class="form-control" id="recovery_testing" name="recovery_testing" rows="3" placeholder="Please describe your testing frequency and improvements..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you rely on third parties for critical business operations (Cloud providers, managed IT, payment processors, API data)?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_reliance" id="third_party_reliance_yes" value="yes">
                                    <label class="form-check-label" for="third_party_reliance_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_reliance" id="third_party_reliance_no" value="no">
                                    <label class="form-check-label" for="third_party_reliance_no">No</label>
                                </div>
                            </div>
                            
                            <div id="third_party_details" class="mt-3" style="display: none;">
                                <div class="mb-3">
                                    <label for="key_suppliers" class="form-label">Please list key suppliers and functions they support:</label>
                                    <textarea class="form-control" id="key_suppliers" name="key_suppliers" rows="3" placeholder="List key suppliers and their functions..."></textarea>
                                </div>
                                <div>
                                    <label class="form-label">Are SLA's in place?</label>
                                    <div class="form-check-container">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="slas_in_place" id="slas_yes" value="yes">
                                            <label class="form-check-label" for="slas_yes">Yes</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="slas_in_place" id="slas_no" value="no">
                                            <label class="form-check-label" for="slas_no">No</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="third_party_outage_plan" class="form-label">8. Does your business continuity or disaster recovery plan specifically address prolonged outages of critical third-party services?</label>
                            <textarea class="form-control" id="third_party_outage_plan" name="third_party_outage_plan" rows="3" placeholder="Please describe how your plan addresses third-party outages..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="cloud_provider_assessment" class="form-label">9. Have you assessed how a primary cloud provider outage would impact your operations, and does your continuity plan address this?</label>
                            <textarea class="form-control" id="cloud_provider_assessment" name="cloud_provider_assessment" rows="3" placeholder="Please describe your cloud provider impact assessment..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="incident_investigation" class="form-label">10. How do you investigate and address the root cause of major security incidents, service problems, or customer complaints?</label>
                            <textarea class="form-control" id="incident_investigation" name="incident_investigation" rows="3" placeholder="Please describe your incident investigation process..."></textarea>
                        </div>
                    </div>

                    <!-- Section 8: Third Party, Vendor & Supply Chain Controls -->
                    <div class="form-section" data-section="8">
                        <h2 class="section-title">🤝 Section 8. Third Party, Vendor & Supply Chain Controls</h2>
                        
                        <div class="mb-4">
                            <label for="customer_risk_assessment" class="form-label">1. What steps are taken when bringing on a new customer to assess potential risks to your business?</label>
                            <textarea class="form-control" id="customer_risk_assessment" name="customer_risk_assessment" rows="3" placeholder="Please describe your customer risk assessment process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="vendor_due_diligence" class="form-label">2. Do you have a formal due diligence process to evaluate potential risks when onboarding new vendors or suppliers?</label>
                            <textarea class="form-control" id="vendor_due_diligence" name="vendor_due_diligence" rows="3" placeholder="Please describe your vendor due diligence process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="vendor_cybersecurity_assessment" class="form-label">3. How does your organization assess and monitor the cybersecurity posture of third-party vendors, and what steps are taken if a vendor is found to pose elevated risk?</label>
                            <textarea class="form-control" id="vendor_cybersecurity_assessment" name="vendor_cybersecurity_assessment" rows="3" placeholder="Please describe your vendor cybersecurity assessment process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="redundant_systems" class="form-label">4. Do you have redundant systems or alternate suppliers in place to minimize disruption if a critical third party fails or is unavailable?</label>
                            <textarea class="form-control" id="redundant_systems" name="redundant_systems" rows="3" placeholder="Please describe your redundant systems and alternate supplier arrangements..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="vendor_liability" class="form-label">5. Do your vendors agree to take responsibility if they mishandle personal or confidential information?</label>
                            <textarea class="form-control" id="vendor_liability" name="vendor_liability" rows="3" placeholder="Please describe your vendor liability arrangements for data mishandling..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="vendor_security_practices" class="form-label">6. Do your critical vendors provide proof of strong security practices (like SOC 2 or ISO 27001), and how often is that reviewed?</label>
                            <textarea class="form-control" id="vendor_security_practices" name="vendor_security_practices" rows="3" placeholder="Please describe your vendor security practice verification and review process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="api_contracts" class="form-label">7. Do your third-party contracts that involve APIs include data protection and liability terms?</label>
                            <textarea class="form-control" id="api_contracts" name="api_contracts" rows="3" placeholder="Please describe your API contract data protection and liability provisions..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="component_security" class="form-label">8. How do you ensure third-party or open-source components meet your company's quality and security expectations before use?</label>
                            <textarea class="form-control" id="component_security" name="component_security" rows="3" placeholder="Please describe your process for vetting third-party and open-source components..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="product_testing" class="form-label">9. What steps are taken to test your products or software to ensure they work as intended before launch?</label>
                            <textarea class="form-control" id="product_testing" name="product_testing" rows="3" placeholder="Please describe your product testing and quality assurance process..."></textarea>
                        </div>
                    </div>

                    <!-- Section 9: Privacy, Data Security & API Controls -->
                    <div class="form-section" data-section="9">
                        <h2 class="section-title">🔒 Section 9. Privacy, Data Security & API Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do you collect, store, or process customer data?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="collect_customer_data" id="collect_customer_data_yes" value="yes">
                                <label class="form-check-label" for="collect_customer_data_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="collect_customer_data" id="collect_customer_data_no" value="no">
                                <label class="form-check-label" for="collect_customer_data_no">No</label>
                            </div>
                            
                            <div id="customer_data_details" class="mt-3" style="display: none;">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="contact_info" value="contact_info">
                                            <label class="form-check-label" for="contact_info">Contact information (Names, addresses, emails)</label>
                                        </div>
                                        <div id="contact_info_details" class="mt-2" style="display: none;">
                                            <label for="contact_info_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="contact_info_records" name="contact_info_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="personal_health_data" value="personal_health_data">
                                            <label class="form-check-label" for="personal_health_data">Personal Health Data</label>
                                        </div>
                                        <div id="personal_health_data_details" class="mt-2" style="display: none;">
                                            <label for="personal_health_data_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="personal_health_data_records" name="personal_health_data_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="payment_card_data" value="payment_card_data">
                                            <label class="form-check-label" for="payment_card_data">Payment Card Data</label>
                                        </div>
                                        <div id="payment_card_data_details" class="mt-2" style="display: none;">
                                            <label for="payment_card_data_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="payment_card_data_records" name="payment_card_data_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="financial_records" value="financial_records">
                                            <label class="form-check-label" for="financial_records">Financial Records</label>
                                        </div>
                                        <div id="financial_records_details" class="mt-2" style="display: none;">
                                            <label for="financial_records_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="financial_records_records" name="financial_records_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="government_id_numbers" value="government_id_numbers">
                                            <label class="form-check-label" for="government_id_numbers">Government ID Numbers</label>
                                        </div>
                                        <div id="government_id_numbers_details" class="mt-2" style="display: none;">
                                            <label for="government_id_numbers_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="government_id_numbers_records" name="government_id_numbers_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="biometric_data" value="biometric_data">
                                            <label class="form-check-label" for="biometric_data">Biometric Data</label>
                                        </div>
                                        <div id="biometric_data_details" class="mt-2" style="display: none;">
                                            <label for="biometric_data_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="biometric_data_records" name="biometric_data_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you maintain a data inventory or data classification policy?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_inventory_policy" id="data_inventory_policy_yes" value="yes">
                                <label class="form-check-label" for="data_inventory_policy_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_inventory_policy" id="data_inventory_policy_no" value="no">
                                <label class="form-check-label" for="data_inventory_policy_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="data_sensitivity_determination" class="form-label">3. How do you determine what data is sensitive, and what protections are applied based on that sensitivity?</label>
                            <textarea class="form-control" id="data_sensitivity_determination" name="data_sensitivity_determination" rows="3" placeholder="Please describe your data sensitivity determination and protection process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you have a process for permanently deleting personal data when it's no longer needed?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_deletion_process" id="data_deletion_process_yes" value="yes">
                                <label class="form-check-label" for="data_deletion_process_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_deletion_process" id="data_deletion_process_no" value="no">
                                <label class="form-check-label" for="data_deletion_process_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Are you PCI compliant if processing payment cards?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="pci_compliance" id="pci_compliance_yes" value="yes">
                                <label class="form-check-label" for="pci_compliance_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="pci_compliance" id="pci_compliance_no" value="no">
                                <label class="form-check-label" for="pci_compliance_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="pci_compliance" id="pci_compliance_na" value="not_applicable">
                                <label class="form-check-label" for="pci_compliance_na">Not Applicable</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you enforce data retention or deletion schedules?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_retention_schedules" id="data_retention_schedules_yes" value="yes">
                                <label class="form-check-label" for="data_retention_schedules_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_retention_schedules" id="data_retention_schedules_no" value="no">
                                <label class="form-check-label" for="data_retention_schedules_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you use data loss prevention (DLP) or file encryption tools?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dlp_encryption_tools" id="dlp_encryption_tools_yes" value="yes">
                                <label class="form-check-label" for="dlp_encryption_tools_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dlp_encryption_tools" id="dlp_encryption_tools_no" value="no">
                                <label class="form-check-label" for="dlp_encryption_tools_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do you encrypt sensitive data in transit over networks and at rest?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_encryption" id="data_encryption_yes" value="yes">
                                <label class="form-check-label" for="data_encryption_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_encryption" id="data_encryption_no" value="no">
                                <label class="form-check-label" for="data_encryption_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="data_encryption" id="data_encryption_partial" value="partial">
                                <label class="form-check-label" for="data_encryption_partial">Partially</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="api_access_control" class="form-label">9. How is access to your APIs controlled, and how is sensitive data protected during transmission?</label>
                            <textarea class="form-control" id="api_access_control" name="api_access_control" rows="3" placeholder="Please describe your API access controls and data protection measures..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="api_security_review" class="form-label">10. Are your APIs regularly reviewed for security risks, and how do you handle any issues that are found?</label>
                            <textarea class="form-control" id="api_security_review" name="api_security_review" rows="3" placeholder="Please describe your API security review process and issue handling..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="api_monitoring" class="form-label">11. How do you monitor API use in real time to detect unusual behavior or potential data leaks?</label>
                            <textarea class="form-control" id="api_monitoring" name="api_monitoring" rows="3" placeholder="Please describe your API monitoring and anomaly detection processes..."></textarea>
                        </div>
                    </div>

                    <!-- Section 10: Intellectual Property & Content Governance Controls -->
                    <div class="form-section" data-section="10">
                        <h2 class="section-title">⚖️ Section 10. Intellectual Property & Content Governance Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do your contracts with customers, partners, or distributors include indemnification provisions that make you responsible for IP infringement claims?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ip_indemnification_provisions" id="ip_indemnification_provisions_yes" value="yes">
                                <label class="form-check-label" for="ip_indemnification_provisions_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ip_indemnification_provisions" id="ip_indemnification_provisions_no" value="no">
                                <label class="form-check-label" for="ip_indemnification_provisions_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="ip_infringement_plan" class="form-label">2. What is your plan if your company is accused of infringing someone else's IP?</label>
                            <textarea class="form-control" id="ip_infringement_plan" name="ip_infringement_plan" rows="3" placeholder="Please describe your plan for handling IP infringement accusations..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="third_party_license_monitoring" class="form-label">3. How do you monitor and manage the use of third-party software licenses?</label>
                            <textarea class="form-control" id="third_party_license_monitoring" name="third_party_license_monitoring" rows="3" placeholder="Please describe your software license monitoring and management process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="ip_misuse_prevention" class="form-label">4. What measures are in place to prevent the misuse of someone else's IP? (like patents, content, or software)</label>
                            <textarea class="form-control" id="ip_misuse_prevention" name="ip_misuse_prevention" rows="3" placeholder="Please describe your measures to prevent IP misuse..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Is there a review process to ensure marketing or public content doesn't violate IP rights or privacy laws?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="content_review_process" id="content_review_process_yes" value="yes">
                                <label class="form-check-label" for="content_review_process_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="content_review_process" id="content_review_process_no" value="no">
                                <label class="form-check-label" for="content_review_process_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="ip_protection_controls" class="form-label">6. What controls does your organization have in place to detect and prevent unauthorized use or infringement of your intellectual property by others?</label>
                            <textarea class="form-control" id="ip_protection_controls" name="ip_protection_controls" rows="3" placeholder="Please describe your IP protection and monitoring controls..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you publish, distribute, or create original media? (images, videos, code, written content)</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="publish_original_media" id="publish_original_media_yes" value="yes">
                                <label class="form-check-label" for="publish_original_media_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="publish_original_media" id="publish_original_media_no" value="no">
                                <label class="form-check-label" for="publish_original_media_no">No</label>
                            </div>
                            
                            <div id="original_media_details" class="mt-3" style="display: none;">
                                <div class="mb-3">
                                    <label for="media_description" class="form-label">Please describe:</label>
                                    <textarea class="form-control" id="media_description" name="media_description" rows="2" placeholder="Please describe the type of original media you create..."></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Do you review content for potential infringement, defamation, and privacy risks?</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="content_risk_review" id="content_risk_review_yes" value="yes">
                                        <label class="form-check-label" for="content_risk_review_yes">Yes</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="content_risk_review" id="content_risk_review_no" value="no">
                                        <label class="form-check-label" for="content_risk_review_no">No</label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Are such content reviews performed by or under the supervision of an attorney?</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="attorney_supervised_review" id="attorney_supervised_review_yes" value="yes">
                                        <label class="form-check-label" for="attorney_supervised_review_yes">Yes</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="attorney_supervised_review" id="attorney_supervised_review_no" value="no">
                                        <label class="form-check-label" for="attorney_supervised_review_no">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. What steps do you take to protect your intellectual property (e.g., registrations, confidentiality agreements, employee IP assignment agreements)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="registered_ip" value="registered_ip">
                                <label class="form-check-label" for="registered_ip">Registered patents or trademarks</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="employee_ip_agreements" value="employee_ip_agreements">
                                <label class="form-check-label" for="employee_ip_agreements">Employee and contractor IP assignment/confidentiality agreements</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="other_ip_protections" value="other_ip_protections">
                                <label class="form-check-label" for="other_ip_protections">Other (please specify):</label>
                            </div>
                            <div id="other_ip_protections_details" class="mt-2" style="display: none;">
                                <input type="text" class="form-control" id="other_ip_protections_text" name="other_ip_protections_text" placeholder="Please specify other IP protections">
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="no_formal_protections" value="no_formal_protections">
                                <label class="form-check-label" for="no_formal_protections">No formal protections</label>
                            </div>
                        </div>
                    </div>

                    <!-- Section 11: People, Employment Practices & Insider Controls -->
                    <div class="form-section" data-section="11">
                        <h2 class="section-title">👥 Section 11. People, Employment Practices & Insider Controls</h2>
                        
                        <div class="mb-4">
                            <label for="background_checks" class="form-label">1. What background checks or screening do you use to evaluate new hires, especially for roles with access to sensitive data or systems?</label>
                            <textarea class="form-control" id="background_checks" name="background_checks" rows="3" placeholder="Please describe your background check and screening process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="new_hire_policy_training" class="form-label">2. What is your process for ensuring new hires understand and follow your company's key policies, like security and acceptable use?</label>
                            <textarea class="form-control" id="new_hire_policy_training" name="new_hire_policy_training" rows="3" placeholder="Please describe your new hire training and policy orientation process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="confidentiality_training" class="form-label">3. How are employees trained to avoid accidentally sharing confidential information through email, messages, or presentations?</label>
                            <textarea class="form-control" id="confidentiality_training" name="confidentiality_training" rows="3" placeholder="Please describe your confidentiality and information security training..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="unusual_behavior_detection" class="form-label">4. What steps are in place to detect unusual employee behavior that could indicate a security or policy issue?</label>
                            <textarea class="form-control" id="unusual_behavior_detection" name="unusual_behavior_detection" rows="3" placeholder="Please describe your employee behavior monitoring and detection processes..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do employment agreements clearly define confidentiality obligations, IP ownership, and terms that continue after someone leaves?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="employment_agreement_terms" id="employment_agreement_terms_yes" value="yes">
                                <label class="form-check-label" for="employment_agreement_terms_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="employment_agreement_terms" id="employment_agreement_terms_no" value="no">
                                <label class="form-check-label" for="employment_agreement_terms_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="nda_enforcement" class="form-label">6. What steps ensure NDAs are signed, enforced, and followed, particularly after employment ends?</label>
                            <textarea class="form-control" id="nda_enforcement" name="nda_enforcement" rows="3" placeholder="Please describe your NDA management and enforcement processes..."></textarea>
                        </div>
                    </div>

                    <!-- Section 12: Artificial Intelligence Tools & Controls -->
                    <div class="form-section" data-section="12">
                        <h2 class="section-title">🤖 Section 12. Artificial Intelligence Tools & Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do you have formal policies governing employee use of generative AI tools in the workplace?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_tool_policies" id="ai_tool_policies_yes" value="yes">
                                <label class="form-check-label" for="ai_tool_policies_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_tool_policies" id="ai_tool_policies_no" value="no">
                                <label class="form-check-label" for="ai_tool_policies_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="ai_data_protection" class="form-label">2. How does your organization ensure sensitive, proprietary or customer data is not inadvertently inputted into public or third-party AI tools?</label>
                            <textarea class="form-control" id="ai_data_protection" name="ai_data_protection" rows="3" placeholder="Please describe your data protection measures for AI tool usage..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="ai_tool_provisioning" class="form-label">3. How are AI tools provisioned and monitored internally to ensure only authorized employees can access and use them?</label>
                            <textarea class="form-control" id="ai_tool_provisioning" name="ai_tool_provisioning" rows="3" placeholder="Please describe your AI tool provisioning and monitoring process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="ai_content_compliance" class="form-label">4. What steps do you take to make sure AI-generated content doesn't violate privacy rules or IP rights?</label>
                            <textarea class="form-control" id="ai_content_compliance" name="ai_content_compliance" rows="3" placeholder="Please describe your AI content compliance verification process..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Have you implemented controls to monitor and validate the accuracy and reliability of outputs generated by third-party AI tools?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_output_validation" id="ai_output_validation_yes" value="yes">
                                <label class="form-check-label" for="ai_output_validation_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_output_validation" id="ai_output_validation_no" value="no">
                                <label class="form-check-label" for="ai_output_validation_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you have incident response procedures in place to address errors, misuse, or breaches resulting from third-party AI tool use?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_incident_response" id="ai_incident_response_yes" value="yes">
                                <label class="form-check-label" for="ai_incident_response_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_incident_response" id="ai_incident_response_no" value="no">
                                <label class="form-check-label" for="ai_incident_response_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Have you reviewed whether your insurance or contracts adequately address risks from using AI, such as errors, reputation damage, or legal issues?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_insurance_review" id="ai_insurance_review_yes" value="yes">
                                <label class="form-check-label" for="ai_insurance_review_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_insurance_review" id="ai_insurance_review_no" value="no">
                                <label class="form-check-label" for="ai_insurance_review_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do you require contractual indemnities or evidence of insurance from third-party AI vendors used in your internal operations?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_vendor_indemnities" id="ai_vendor_indemnities_yes" value="yes">
                                <label class="form-check-label" for="ai_vendor_indemnities_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_vendor_indemnities" id="ai_vendor_indemnities_no" value="no">
                                <label class="form-check-label" for="ai_vendor_indemnities_no">No</label>
                            </div>
                        </div>
                    </div>

                    <!-- Section 13: Prior Incidents & Claims -->
                    <div class="form-section" data-section="13">
                        <h2 class="section-title">⚠️ Section 13. Prior Incidents & Claims</h2>
                            
                            <div class="mb-4">
                                <label class="form-label">1. In the last 5 years, has the Company, or any entity falling within the definition of 'Insured' under the proposed Policy, its partners, directors, officers, or employees ever had a written demand or civil proceedings for compensatory damages made against them?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="written_demands" id="written_demands_yes" value="yes">
                                    <label class="form-check-label" for="written_demands_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="written_demands" id="written_demands_no" value="no">
                                    <label class="form-check-label" for="written_demands_no">No</label>
                                </div>
                                <div id="written_demands_details" class="mt-3" style="display: none;">
                                    <label for="written_demands_details_text" class="form-label">If yes, provide details:</label>
                                    <textarea class="form-control" id="written_demands_details_text" name="written_demands_details_text" rows="4" placeholder="Provide details including dates, nature of claims, and outcomes..."></textarea>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">2. In the past 5 years has the Company, or any entity falling within the definition of 'Insured' under the proposed Policy:</label>
                                
                                <div class="mt-3">
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_privacy_claims" id="incident_privacy_claims" value="yes">
                                        <label class="form-check-label" for="incident_privacy_claims">
                                            Received any claims or complaints regarding privacy, data protection or network security, or unauthorized disclosure of information?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_breach_notification" id="incident_breach_notification" value="yes">
                                        <label class="form-check-label" for="incident_breach_notification">
                                            Notified any persons of a privacy violation and/or data breach incident?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_extortion" id="incident_extortion" value="yes">
                                        <label class="form-check-label" for="incident_extortion">
                                            Received an extortion demand relating to your data and/or computer systems?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_network_outage" id="incident_network_outage" value="yes">
                                        <label class="form-check-label" for="incident_network_outage">
                                            Experienced a network outage that resulted in a significant disruption to your operations?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_government_action" id="incident_government_action" value="yes">
                                        <label class="form-check-label" for="incident_government_action">
                                            Been subject to any government action, investigation, subpoena regarding any alleged violation of privacy law or regulation?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_ip_complaint" id="incident_ip_complaint" value="yes">
                                        <label class="form-check-label" for="incident_ip_complaint">
                                            Received a complaint or cease and desist demand alleging trademark, copyright, invasion of privacy, defamation with regard to content published, displayed, or distributed by or on behalf of the applicant?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_policy_covered" id="incident_policy_covered" value="yes">
                                        <label class="form-check-label" for="incident_policy_covered">
                                            Experienced any incident which may be covered under this policy?
                                        </label>
                                    </div>
                                </div>
                                
                                <div id="incident_details" class="mt-3" style="display: none;">
                                    <label for="incident_details_text" class="form-label">If Yes to any of the above, please provide details on an addendum including relevant dates, brief summary of incident and any preventative measures that have been taken to prevent a reoccurrence:</label>
                                    <textarea class="form-control" id="incident_details_text" name="incident_details_text" rows="6" placeholder="Provide comprehensive details for each applicable incident including dates, circumstances, resolution, and preventative measures implemented..."></textarea>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">3. Is the Applicant, or any person applying for this insurance aware of any fact, circumstance, situation, event, or act that reasonably could give rise to a claim against them for any coverages for which the Applicant is applying?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="potential_claims_awareness" id="potential_claims_yes" value="yes">
                                    <label class="form-check-label" for="potential_claims_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="potential_claims_awareness" id="potential_claims_no" value="no">
                                    <label class="form-check-label" for="potential_claims_no">No</label>
                                </div>
                            </div>
                        </div>

                    <!-- Section 2: Decentralized Finance & Digital Assets (Additional Questions) -->
                    <div class="form-section" data-section="15" id="defi-section" style="display: none;">
                        <h2 class="section-title">💰 Section 2. Decentralized Finance & Digital Assets (Additional Questions)</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Additional DeFi Questions:</strong> Since you selected Decentralized Finance & Digital Assets as a sector, please complete these additional questions.
                        </div>

                        <div class="mb-4">
                            <label class="form-label">1. Do you provide any services involving cryptocurrency custody, wallet management, or private key management on behalf of clients?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_custody_services" id="defi_custody_yes" value="yes">
                                <label class="form-check-label" for="defi_custody_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_custody_services" id="defi_custody_no" value="no">
                                <label class="form-check-label" for="defi_custody_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_custody_details" style="display: none;">
                                <label for="defi_custody_controls" class="form-label">If yes, please describe the controls in place to secure these assets</label>
                                <textarea class="form-control" id="defi_custody_controls" name="defi_custody_controls" rows="3" placeholder="Please describe your security controls for cryptocurrency custody, wallet management, and private key management..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you operate or maintain a cryptocurrency exchange or trading platform?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_exchange_platform" id="defi_exchange_yes" value="yes">
                                <label class="form-check-label" for="defi_exchange_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_exchange_platform" id="defi_exchange_no" value="no">
                                <label class="form-check-label" for="defi_exchange_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_exchange_details" style="display: none;">
                                <label class="form-label">If yes, specify:</label>
                                
                                <div class="mb-3">
                                    <label for="defi_crypto_types" class="form-label">Types of cryptocurrencies supported</label>
                                    <textarea class="form-control" id="defi_crypto_types" name="defi_crypto_types" rows="2" placeholder="List the types of cryptocurrencies supported on your exchange..."></textarea>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="defi_daily_volume" class="form-label">Average daily transaction volume</label>
                                    <input type="text" class="form-control" id="defi_daily_volume" name="defi_daily_volume" placeholder="e.g., $1M USD equivalent">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="defi_geographic_regions" class="form-label">Geographic regions served</label>
                                    <textarea class="form-control" id="defi_geographic_regions" name="defi_geographic_regions" rows="2" placeholder="List the geographic regions where your exchange operates..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. Do you use or develop smart contracts in connection with your services (e.g., for decentralized finance, token issuance, automated settlements)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_smart_contracts" id="defi_smart_contracts_yes" value="yes">
                                <label class="form-check-label" for="defi_smart_contracts_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_smart_contracts" id="defi_smart_contracts_no" value="no">
                                <label class="form-check-label" for="defi_smart_contracts_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_smart_contracts_details" style="display: none;">
                                <label for="defi_audit_processes" class="form-label">If yes, please describe your processes for auditing and testing these smart contracts prior to deployment.</label>
                                <textarea class="form-control" id="defi_audit_processes" name="defi_audit_processes" rows="3" placeholder="Please describe your smart contract auditing and testing processes..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you develop, issue, or advise on the issuance of tokens, coins, or other digital assets?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_token_issuance" id="defi_token_yes" value="yes">
                                <label class="form-check-label" for="defi_token_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_token_issuance" id="defi_token_no" value="no">
                                <label class="form-check-label" for="defi_token_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_token_details" style="display: none;">
                                <label for="defi_token_structure" class="form-label">If yes, please provide details on the token structure and investor protections.</label>
                                <textarea class="form-control" id="defi_token_structure" name="defi_token_structure" rows="3" placeholder="Please describe the token structure and investor protections..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Have you engaged any third-party security firms to perform penetration testing or blockchain code audits on your platforms or products?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_audits" id="defi_security_yes" value="yes">
                                <label class="form-check-label" for="defi_security_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_audits" id="defi_security_no" value="no">
                                <label class="form-check-label" for="defi_security_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_security_details" style="display: none;">
                                <label for="defi_security_findings" class="form-label">If yes, please attach the latest summary findings or certifications.</label>
                                <textarea class="form-control" id="defi_security_findings" name="defi_security_findings" rows="3" placeholder="Please describe the latest security audit findings or attach certifications..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do your standard client agreements include disclaimers, waivers, or limitations of liability specifically addressing risks related to cryptocurrency transactions, volatility, or smart contracts?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_disclaimers" id="defi_disclaimers_yes" value="yes">
                                <label class="form-check-label" for="defi_disclaimers_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_disclaimers" id="defi_disclaimers_no" value="no">
                                <label class="form-check-label" for="defi_disclaimers_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_disclaimers_details" style="display: none;">
                                <label for="defi_contract_clauses" class="form-label">If yes, please attach sample contract clauses.</label>
                                <textarea class="form-control" id="defi_contract_clauses" name="defi_contract_clauses" rows="3" placeholder="Please provide sample contract clauses..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you maintain separate hot and cold wallet infrastructures for cryptocurrency held on behalf of clients?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_wallet_infrastructure" id="defi_wallet_yes" value="yes">
                                <label class="form-check-label" for="defi_wallet_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_wallet_infrastructure" id="defi_wallet_no" value="no">
                                <label class="form-check-label" for="defi_wallet_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_wallet_details" style="display: none;">
                                <label for="defi_wallet_split" class="form-label">If yes, please describe the split and security controls.</label>
                                <textarea class="form-control" id="defi_wallet_split" name="defi_wallet_split" rows="3" placeholder="Please describe the hot/cold wallet split and security controls..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Are any of your blockchain or crypto-related activities regulated by financial services authorities (e.g., FINTRAC, MiCA, VARA, MAS)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulated" id="defi_regulated_yes" value="yes">
                                <label class="form-check-label" for="defi_regulated_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulated" id="defi_regulated_no" value="no">
                                <label class="form-check-label" for="defi_regulated_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_regulated_details" style="display: none;">
                                <label for="defi_regulators" class="form-label">If yes, please list regulators and licenses held</label>
                                <textarea class="form-control" id="defi_regulators" name="defi_regulators" rows="3" placeholder="Please list regulators and licenses held..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Do you have documented policies and procedures in place for Anti-Money Laundering (AML), Counter Terrorist Financing (CFT), and customer onboarding (KYC/KYB)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_aml_policies" id="defi_aml_yes" value="yes">
                                <label class="form-check-label" for="defi_aml_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_aml_policies" id="defi_aml_no" value="no">
                                <label class="form-check-label" for="defi_aml_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_aml_details" style="display: none;">
                                <label for="defi_aml_policy" class="form-label">Please attach your AML/KYC policy</label>
                                <textarea class="form-control" id="defi_aml_policy" name="defi_aml_policy" rows="3" placeholder="Please describe your AML/KYC policy or attach documentation..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="defi_sanctions_compliance" class="form-label">10. What processes do you have to ensure compliance with international sanctions laws (e.g., OFAC, EU sanctions) in transactions involving digital assets?</label>
                            <textarea class="form-control" id="defi_sanctions_compliance" name="defi_sanctions_compliance" rows="3" placeholder="Please describe your sanctions compliance processes..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">11. Do you maintain logs or blockchain analytics to monitor and trace the source of funds to help mitigate fraud, money laundering, or sanctions violations?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_blockchain_analytics" id="defi_analytics_yes" value="yes">
                                <label class="form-check-label" for="defi_analytics_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_blockchain_analytics" id="defi_analytics_no" value="no">
                                <label class="form-check-label" for="defi_analytics_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_analytics_details" style="display: none;">
                                <label for="defi_analytics_systems" class="form-label">If yes, please describe the systems or vendors used.</label>
                                <textarea class="form-control" id="defi_analytics_systems" name="defi_analytics_systems" rows="3" placeholder="Please describe the blockchain analytics systems or vendors used..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">12. Do you use any decentralized protocols (DEXs, liquidity pools, DeFi protocols) as part of your business operations or investment strategies?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_protocols" id="defi_protocols_yes" value="yes">
                                <label class="form-check-label" for="defi_protocols_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_protocols" id="defi_protocols_no" value="no">
                                <label class="form-check-label" for="defi_protocols_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">13. Do you use third-party custodians, liquidity providers, or technology vendors for any part of your crypto operations?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_third_party" id="defi_third_party_yes" value="yes">
                                <label class="form-check-label" for="defi_third_party_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_third_party" id="defi_third_party_no" value="no">
                                <label class="form-check-label" for="defi_third_party_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_third_party_details" style="display: none;">
                                <label class="form-label">If yes, do your contracts with these providers include indemnity and hold harmless provisions in your favor?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="defi_indemnity" id="defi_indemnity_yes" value="yes">
                                    <label class="form-check-label" for="defi_indemnity_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="defi_indemnity" id="defi_indemnity_no" value="no">
                                    <label class="form-check-label" for="defi_indemnity_no">No</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">14. Do you hold or have custody digital assets on your own balance sheet for investment purposes?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_investment_assets" id="defi_investment_yes" value="yes">
                                <label class="form-check-label" for="defi_investment_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_investment_assets" id="defi_investment_no" value="no">
                                <label class="form-check-label" for="defi_investment_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_investment_details" style="display: none;">
                                <label for="defi_investment_value" class="form-label">If yes, please indicate the approximate value and percentage of total assets.</label>
                                <textarea class="form-control" id="defi_investment_value" name="defi_investment_value" rows="2" placeholder="Please indicate approximate value and percentage of total assets..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="defi_revenue_percentage" class="form-label">15. What percentage of your business revenue is derived from blockchain or cryptocurrency-related services versus traditional financial or technology services?</label>
                            <input type="text" class="form-control" id="defi_revenue_percentage" name="defi_revenue_percentage" placeholder="e.g., 75% crypto-related, 25% traditional">
                        </div>

                        <div class="mb-4">
                            <label class="form-label">16. Do you have incident response plans specific to handling cryptocurrency or blockchain-related security events, including notifying customers and regulators?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_incident_response" id="defi_incident_yes" value="yes">
                                <label class="form-check-label" for="defi_incident_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_incident_response" id="defi_incident_no" value="no">
                                <label class="form-check-label" for="defi_incident_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">17. Do you have insurance coverage in place (separate from E&O) to protect against loss or theft of cryptocurrency assets (crime / cyber crime / specie)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_crypto_insurance" id="defi_crypto_insurance_yes" value="yes">
                                <label class="form-check-label" for="defi_crypto_insurance_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_crypto_insurance" id="defi_crypto_insurance_no" value="no">
                                <label class="form-check-label" for="defi_crypto_insurance_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">18. Do you carry directors & officers (D&O) insurance that specifically contemplates exposures arising from cryptocurrency or blockchain-related activities?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_do_insurance" id="defi_do_yes" value="yes">
                                <label class="form-check-label" for="defi_do_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_do_insurance" id="defi_do_no" value="no">
                                <label class="form-check-label" for="defi_do_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">19. Have you ever been the subject of any regulatory investigation, audit, inquiry, or received a warning letter in relation to your crypto or blockchain activities?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulatory_issues" id="defi_regulatory_yes" value="yes">
                                <label class="form-check-label" for="defi_regulatory_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulatory_issues" id="defi_regulatory_no" value="no">
                                <label class="form-check-label" for="defi_regulatory_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">20. Have you experienced any hacks, data breaches, theft of cryptocurrency assets, or significant transaction errors in the last five years?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_incidents" id="defi_security_incidents_yes" value="yes">
                                <label class="form-check-label" for="defi_security_incidents_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_incidents" id="defi_security_incidents_no" value="no">
                                <label class="form-check-label" for="defi_security_incidents_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_security_incidents_details" style="display: none;">
                                <label for="defi_incident_details" class="form-label">If yes, please provide details, including remedial actions taken.</label>
                                <textarea class="form-control" id="defi_incident_details" name="defi_incident_details" rows="4" placeholder="Please provide details of any security incidents and remedial actions taken..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: Autonomous Robotics (Additional Questions) -->
                    <div class="form-section" data-section="16" id="robotics-section" style="display: none;">
                        <h2 class="section-title">🦾 Section 3. Autonomous Robotics (Additional Questions)</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Additional Robotics Questions:</strong> Since you selected Autonomous Robotics as a sector, please complete these additional questions.
                        </div>

                        <div class="mb-4">
                            <label for="robotics_functions" class="form-label">1. What functions do your autonomous robots perform?</label>
                            <textarea class="form-control" id="robotics_functions" name="robotics_functions" rows="3" placeholder="Please describe the functions and capabilities of your autonomous robots..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Are your robots used in public or semi-public environments (e.g., hospitals, airports, malls)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_use" id="robotics_public_yes" value="yes">
                                <label class="form-check-label" for="robotics_public_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_use" id="robotics_public_no" value="no">
                                <label class="form-check-label" for="robotics_public_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="robotics_deployed_count" class="form-label">3. How many autonomous robots are currently deployed in the field?</label>
                            <input type="number" class="form-control" id="robotics_deployed_count" name="robotics_deployed_count" min="0" placeholder="Number of deployed robots">
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. What level of autonomy do your robots operate at?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_autonomy_level" id="robotics_remote_controlled" value="remote_controlled">
                                <label class="form-check-label" for="robotics_remote_controlled">Remote controlled</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_autonomy_level" id="robotics_semi_autonomous" value="semi_autonomous">
                                <label class="form-check-label" for="robotics_semi_autonomous">Semi – autonomous</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_autonomy_level" id="robotics_fully_autonomous" value="fully_autonomous">
                                <label class="form-check-label" for="robotics_fully_autonomous">Fully autonomous (no human in the loop)</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Can the robot make real-time decisions without human oversight?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_realtime_decisions" id="robotics_realtime_yes" value="yes">
                                <label class="form-check-label" for="robotics_realtime_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_realtime_decisions" id="robotics_realtime_no" value="no">
                                <label class="form-check-label" for="robotics_realtime_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Are there human override or emergency shutdown capabilities built into each unit?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_emergency_shutdown" id="robotics_shutdown_yes" value="yes">
                                <label class="form-check-label" for="robotics_shutdown_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_emergency_shutdown" id="robotics_shutdown_no" value="no">
                                <label class="form-check-label" for="robotics_shutdown_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. What navigation methods are used? (select all that apply)</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_gps" value="gps">
                                <label class="form-check-label" for="nav_gps">GPS</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_slam" value="slam">
                                <label class="form-check-label" for="nav_slam">SLAM</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_lidar" value="lidar">
                                <label class="form-check-label" for="nav_lidar">LiDAR</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_computer_vision" value="computer_vision">
                                <label class="form-check-label" for="nav_computer_vision">Computer Vision</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_beacon" value="beacon_infrared">
                                <label class="form-check-label" for="nav_beacon">Beacon/Infrared</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_other" value="other">
                                <label class="form-check-label" for="nav_other">Other</label>
                            </div>
                            <div class="conditional-field mt-3" id="nav_other_details" style="display: none;">
                                <label for="nav_other_specify" class="form-label">Please specify other navigation methods:</label>
                                <input type="text" class="form-control" id="nav_other_specify" name="nav_other_specify" placeholder="Please specify other navigation methods">
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Are the robots equipped with real-time obstacle detection and collision avoidance systems?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_obstacle_detection" id="robotics_obstacle_yes" value="yes">
                                <label class="form-check-label" for="robotics_obstacle_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_obstacle_detection" id="robotics_obstacle_no" value="no">
                                <label class="form-check-label" for="robotics_obstacle_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Have you had any reported incidents involving physical harm or property damage caused by a robot?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_incidents" id="robotics_incidents_yes" value="yes">
                                <label class="form-check-label" for="robotics_incidents_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_incidents" id="robotics_incidents_no" value="no">
                                <label class="form-check-label" for="robotics_incidents_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="robotics_incidents_details" style="display: none;">
                                <label for="robotics_incident_description" class="form-label">If yes please describe</label>
                                <textarea class="form-control" id="robotics_incident_description" name="robotics_incident_description" rows="3" placeholder="Please describe any incidents involving physical harm or property damage..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Do your robots use AI agents or machine learning models to support decision-making?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_ai_ml" id="robotics_ai_yes" value="yes">
                                <label class="form-check-label" for="robotics_ai_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_ai_ml" id="robotics_ai_no" value="no">
                                <label class="form-check-label" for="robotics_ai_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="robotics_update_frequency" class="form-label">11. How often is the software or firmware on the robots updated?</label>
                            <input type="text" class="form-control" id="robotics_update_frequency" name="robotics_update_frequency" placeholder="e.g., Monthly, Quarterly, As needed">
                        </div>

                        <div class="mb-4">
                            <label class="form-label">12. Do you maintain logs of robot activity and decision-making for audit or incident response purposes?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_activity_logs" id="robotics_logs_yes" value="yes">
                                <label class="form-check-label" for="robotics_logs_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_activity_logs" id="robotics_logs_no" value="no">
                                <label class="form-check-label" for="robotics_logs_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">13. Are communications between robots and your servers encrypted and authenticated?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_encrypted_comms" id="robotics_encrypted_yes" value="yes">
                                <label class="form-check-label" for="robotics_encrypted_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_encrypted_comms" id="robotics_encrypted_no" value="no">
                                <label class="form-check-label" for="robotics_encrypted_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">14. Have your systems undergone independent safety, cybersecurity, or compliance audits?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_audits" id="robotics_audits_yes" value="yes">
                                <label class="form-check-label" for="robotics_audits_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_audits" id="robotics_audits_no" value="no">
                                <label class="form-check-label" for="robotics_audits_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">15. Are your robots certified or compliant with any relevant safety or robotics standards (e.g., ISO 13482, UL 3100)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_standards" id="robotics_standards_yes" value="yes">
                                <label class="form-check-label" for="robotics_standards_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_standards" id="robotics_standards_no" value="no">
                                <label class="form-check-label" for="robotics_standards_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">16. Do you perform regular maintenance or diagnostics on deployed robotic units?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_maintenance" id="robotics_maintenance_scheduled" value="scheduled_protocols">
                                <label class="form-check-label" for="robotics_maintenance_scheduled">Yes – per scheduled maintenance protocols</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_maintenance" id="robotics_maintenance_failure" value="failure_only">
                                <label class="form-check-label" for="robotics_maintenance_failure">Yes – only upon failure or customer report</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_maintenance" id="robotics_maintenance_none" value="no_formal">
                                <label class="form-check-label" for="robotics_maintenance_none">No formal maintenance program</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">17. Are any robots deployed at customer or third-party locations where you do not have direct operational control?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_third_party_deployment" id="robotics_third_party_no" value="no">
                                <label class="form-check-label" for="robotics_third_party_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_third_party_deployment" id="robotics_third_party_monitored" value="yes_monitored">
                                <label class="form-check-label" for="robotics_third_party_monitored">Yes – with active monitoring</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_third_party_deployment" id="robotics_third_party_unmonitored" value="yes_unmonitored">
                                <label class="form-check-label" for="robotics_third_party_unmonitored">Yes – without active monitoring</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">18. Do your robots interact directly with members of the public or end users (e.g., customers, patients, pedestrians)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_interaction" id="robotics_interaction_frequent" value="yes_frequently">
                                <label class="form-check-label" for="robotics_interaction_frequent">Yes – frequently</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_interaction" id="robotics_interaction_occasional" value="occasionally">
                                <label class="form-check-label" for="robotics_interaction_occasional">Occasionally</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_interaction" id="robotics_interaction_none" value="no_direct">
                                <label class="form-check-label" for="robotics_interaction_none">No direct interaction</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">19. Do you have contracts in place with customers or partners that include:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_contract_terms[]" id="contract_liability" value="limitations_liability">
                                <label class="form-check-label" for="contract_liability">Limitations of liability?</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_contract_terms[]" id="contract_indemnification" value="indemnification">
                                <label class="form-check-label" for="contract_indemnification">Indemnification terms?</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_contract_terms[]" id="contract_insurance" value="insurance_requirements">
                                <label class="form-check-label" for="contract_insurance">Insurance requirements?</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">20. Do you carry insurance coverage specific to autonomous hardware/software risks (e.g., product liability, tech E&O, cyber)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_insurance_coverage" id="robotics_insurance_adequate" value="yes_adequate">
                                <label class="form-check-label" for="robotics_insurance_adequate">Yes – adequate and reviewed annually</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_insurance_coverage" id="robotics_insurance_review" value="yes_needs_review">
                                <label class="form-check-label" for="robotics_insurance_review">Yes – but may need review</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_insurance_coverage" id="robotics_insurance_none" value="no_coverage">
                                <label class="form-check-label" for="robotics_insurance_none">No specific coverage</label>
                            </div>
                        </div>
                    </div>

                    <!-- AI Section: Conditional (only shown if AI is selected in sectors) -->
                    <div class="form-section" data-section="14" id="ai-section" style="display: none;">
                        <h2 class="section-title">🤖 Section 1. Artificial Intelligence (Additional Questions)</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Additional AI Questions:</strong> Since you selected Artificial Intelligence as a sector, please complete these additional questions.
                        </div>

                        <div class="mb-4">
                            <label class="form-label">1. Is AI functionality integrated into any of your software products or services provided to customers or third parties?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_functionality_integrated" id="ai_functionality_yes" value="yes">
                                <label class="form-check-label" for="ai_functionality_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_functionality_integrated" id="ai_functionality_no" value="no">
                                <label class="form-check-label" for="ai_functionality_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="ai_functionality_details" style="display: none;">
                                <label for="ai_functionality_description" class="form-label">If yes, specify which products/services and describe the functionality</label>
                                <textarea class="form-control" id="ai_functionality_description" name="ai_functionality_description" rows="3" placeholder="Please describe which products/services include AI functionality and how it works..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you develop your own proprietary AI or ML models?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="develop_proprietary_ai" id="develop_proprietary_yes" value="yes">
                                <label class="form-check-label" for="develop_proprietary_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="develop_proprietary_ai" id="develop_proprietary_no" value="no">
                                <label class="form-check-label" for="develop_proprietary_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="develop_proprietary_details" style="display: none;">
                                <label for="proprietary_ai_description" class="form-label">If yes, please describe the types of models and applications</label>
                                <textarea class="form-control" id="proprietary_ai_description" name="proprietary_ai_description" rows="3" placeholder="Please describe the types of AI/ML models you develop and their applications..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. Do you use third-party or open-source AI/ML models in your offerings?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="use_third_party_ai" id="use_third_party_yes" value="yes">
                                <label class="form-check-label" for="use_third_party_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="use_third_party_ai" id="use_third_party_no" value="no">
                                <label class="form-check-label" for="use_third_party_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="use_third_party_details" style="display: none;">
                                <label for="third_party_ai_description" class="form-label">If yes, please describe the types of models and applications</label>
                                <textarea class="form-control" id="third_party_ai_description" name="third_party_ai_description" rows="3" placeholder="Please describe the third-party or open-source AI/ML models you use and their applications..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you have formal processes to test, validate, and monitor the performance and reliability of AI/ML models before and after deployment?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_testing_processes" id="ai_testing_yes" value="yes">
                                <label class="form-check-label" for="ai_testing_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_testing_processes" id="ai_testing_no" value="no">
                                <label class="form-check-label" for="ai_testing_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="ai_testing_details" style="display: none;">
                                <label for="ai_testing_description" class="form-label">If yes, please describe</label>
                                <textarea class="form-control" id="ai_testing_description" name="ai_testing_description" rows="3" placeholder="Please describe your AI/ML testing, validation, and monitoring processes..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do you have internal policies addressing the ethical or regulatory use of AI, including issues such as bias, fairness, explainability, or compliance with applicable AI legislation?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ethical_policies" id="ai_ethical_yes" value="yes">
                                <label class="form-check-label" for="ai_ethical_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ethical_policies" id="ai_ethical_no" value="no">
                                <label class="form-check-label" for="ai_ethical_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you train AI/ML models on customer or third-party data?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_train_customer_data" id="ai_train_yes" value="yes">
                                <label class="form-check-label" for="ai_train_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_train_customer_data" id="ai_train_no" value="no">
                                <label class="form-check-label" for="ai_train_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="ai_train_details" style="display: none;">
                                <label for="ai_data_permissions" class="form-label">If yes, do you have processes to obtain appropriate permissions, anonymize, or secure the data?</label>
                                <textarea class="form-control" id="ai_data_permissions" name="ai_data_permissions" rows="3" placeholder="Please describe your processes for obtaining permissions, anonymizing, or securing customer/third-party data..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Have you taken steps to ensure that the use of data in training or operating your AI systems does not infringe third-party intellectual property rights?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ip_protection" id="ai_ip_yes" value="yes">
                                <label class="form-check-label" for="ai_ip_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ip_protection" id="ai_ip_no" value="no">
                                <label class="form-check-label" for="ai_ip_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do your customer contracts include disclaimers or limitations of liability specifically addressing your AI functionality (e.g., output reliability, errors, or recommendations generated by AI)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contract_disclaimers" id="ai_disclaimers_yes" value="yes">
                                <label class="form-check-label" for="ai_disclaimers_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contract_disclaimers" id="ai_disclaimers_no" value="no">
                                <label class="form-check-label" for="ai_disclaimers_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Have you been subject to any complaints, demands, or legal proceedings arising out of your use or provision of AI systems?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_legal_proceedings" id="ai_legal_yes" value="yes">
                                <label class="form-check-label" for="ai_legal_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_legal_proceedings" id="ai_legal_no" value="no">
                                <label class="form-check-label" for="ai_legal_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Are AI agents integrated into any of your software products or services provided to customers or third parties?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_agents_integrated" id="ai_agents_yes" value="yes">
                                <label class="form-check-label" for="ai_agents_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_agents_integrated" id="ai_agents_no" value="no">
                                <label class="form-check-label" for="ai_agents_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="ai_agents_details" style="display: none;">
                                <label class="form-label">11. Describe the primary functions of your AI agents (check all that apply)</label>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="ai_function_decision" name="ai_agent_functions[]" value="decision_making">
                                            <label class="form-check-label" for="ai_function_decision">Decision making</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="ai_function_user_interaction" name="ai_agent_functions[]" value="user_interaction">
                                            <label class="form-check-label" for="ai_function_user_interaction">User interaction (chat, voice, etc)</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="ai_function_automation" name="ai_agent_functions[]" value="autonomous_task_execution">
                                            <label class="form-check-label" for="ai_function_automation">Autonomous task execution</label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="ai_function_analysis" name="ai_agent_functions[]" value="data_analysis">
                                            <label class="form-check-label" for="ai_function_analysis">Data analysis</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="ai_function_other" name="ai_agent_functions[]" value="other">
                                            <label class="form-check-label" for="ai_function_other">Other</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <textarea class="form-control" id="ai_agents_description" name="ai_agents_description" rows="3" placeholder="Please provide additional details about your AI agents' functions..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">12. Do your AI agents have the ability to take autonomous action without human review or intervention?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_autonomous_action" id="ai_autonomous_no" value="no">
                                <label class="form-check-label" for="ai_autonomous_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_autonomous_action" id="ai_autonomous_limited" value="limited">
                                <label class="form-check-label" for="ai_autonomous_limited">Yes - in limited, low-risk scenarios</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_autonomous_action" id="ai_autonomous_critical" value="critical">
                                <label class="form-check-label" for="ai_autonomous_critical">Yes – in critical or user-facing scenarios</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">13. What controls are in place to prevent prompt injection, adversarial manipulation, or misuse of AI agents?</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_sanitization" name="ai_controls[]" value="input_sanitization">
                                        <label class="form-check-label" for="ai_control_sanitization">Input sanitization</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_access" name="ai_controls[]" value="role_based_access">
                                        <label class="form-check-label" for="ai_control_access">Role-based access</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_monitoring" name="ai_controls[]" value="behavior_monitoring">
                                        <label class="form-check-label" for="ai_control_monitoring">Behavior monitoring/logging</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_enforcement" name="ai_controls[]" value="automated_policy">
                                        <label class="form-check-label" for="ai_control_enforcement">Automated policy enforcement</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_audit" name="ai_controls[]" value="external_audit">
                                        <label class="form-check-label" for="ai_control_audit">External audit or red teaming</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">14. Have you assessed whether the outputs or actions of your AI agents could result in:</label>
                            <div class="mb-3">
                                <small class="text-muted">Check one that best describes your assessment level:</small>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_risk_assessment" id="ai_assessment_full" value="full_review">
                                <label class="form-check-label" for="ai_assessment_full">
                                    <strong>Yes – full legal/compliance review conducted</strong><br>
                                    <small class="text-muted">Comprehensive assessment of privacy law violations (GDPR, CCPA), IP infringement, and regulatory risks</small>
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_risk_assessment" id="ai_assessment_partial" value="partial_assessment">
                                <label class="form-check-label" for="ai_assessment_partial">
                                    <strong>Partial or informal assessment</strong><br>
                                    <small class="text-muted">Some evaluation conducted but not comprehensive</small>
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_risk_assessment" id="ai_assessment_none" value="not_reviewed">
                                <label class="form-check-label" for="ai_assessment_none">
                                    <strong>Not yet reviewed</strong><br>
                                    <small class="text-muted">No formal assessment has been conducted</small>
                                </label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">15. Do you have contractual limitations of liability and indemnities in place where customers or third parties may rely on agent-generated outputs or actions?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contractual_limitations" id="ai_contract_all" value="all_contracts">
                                <label class="form-check-label" for="ai_contract_all">Yes – included in all contracts</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contractual_limitations" id="ai_contract_some" value="some_contracts">
                                <label class="form-check-label" for="ai_contract_some">In some contracts or pilot programs</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contractual_limitations" id="ai_contract_none" value="no_contracts">
                                <label class="form-check-label" for="ai_contract_none">No</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">16. Are your AI agents integrated into any systems that can initiate financial transactions, access sensitive data, or control physical infrastructure (e.g., IoT devices, robotics)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_critical_systems" id="ai_critical_no" value="no_access">
                                <label class="form-check-label" for="ai_critical_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_critical_systems" id="ai_critical_readonly" value="readonly_monitored">
                                <label class="form-check-label" for="ai_critical_readonly">Yes – in read-only or monitored mode</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_critical_systems" id="ai_critical_autonomous" value="autonomous_execution">
                                <label class="form-check-label" for="ai_critical_autonomous">Yes – Autonomous execution without human oversight</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">17. Do you maintain logs and version control for AI agent behavior, prompts, and outputs?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_logs_version_control" id="ai_logs_comprehensive" value="comprehensive">
                                <label class="form-check-label" for="ai_logs_comprehensive">Yes – Comprehensive and retained for 12+ months</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_logs_version_control" id="ai_logs_limited" value="limited">
                                <label class="form-check-label" for="ai_logs_limited">Yes – Limited or partial logging</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_logs_version_control" id="ai_logs_no" value="no_logging">
                                <label class="form-check-label" for="ai_logs_no">No</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Navigation Section -->
            <div class="navigation-section">
                <button type="button" class="btn btn-outline-secondary" id="prevBtn" style="display: none;">
                    ← Previous
                </button>
                
                <div class="step-counter">
                    Step <span id="currentStep">1</span> of <span id="totalSteps">13</span>
                </div>
                
                <div class="d-flex gap-2">
                    <button type="button" class="btn btn-outline-primary" id="saveBtn">
                        💾 Save Progress
                    </button>
                    <button type="button" class="btn btn-primary" id="nextBtn">
                        Next →
                    </button>
                    <button type="button" class="btn btn-primary" id="submitBtn" style="display: none;">
                        🚀 Submit Application
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Custom jQuery Script for Form Logic -->
    <script>
        // Global conditional step flags
        let aiStepEnabled = false;
        let defiStepEnabled = false;
        let roboticsStepEnabled = false;

        $(document).ready(function() {
            let currentStep = 1;
            let totalSteps = 13; // Base steps, conditional steps (14-16) added when sectors selected
            const formData = {};

            // Initialize form
            initializeForm();
            loadSavedData();
            updateStepIndicator();
            updateNavigation();

            function initializeForm() {
                // Set up event handlers
                $('#nextBtn').on('click', nextStep);
                $('#prevBtn').on('click', prevStep);
                $('#saveBtn').on('click', saveProgress);
                $('#submitBtn').on('click', submitForm);

                // Set up conditional logic handlers
                setupConditionalLogic();

                // Set up revenue calculation
                setupRevenueCalculation();

                // Set up form validation
                setupFormValidation();

                // Set up keyboard navigation
                setupKeyboardNavigation();

                // Set up auto-save
                setupAutoSave();
            }

            function setupConditionalLogic() {
                // Employees outside Canada conditional logic
                $('input[name="employees_outside_canada"]').on('change', function() {
                    const $details = $('#employees_outside_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Business structure change conditional logic
                $('input[name="business_structure_change"]').on('change', function() {
                    const $details = $('#structure_change_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Tangible products conditional logic
                $('input[name="sell_tangible_products"]').on('change', function() {
                    const $details = $('#tangible_products_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea, input').attr('required', false).val('');
                    }
                });

                // Hardware installation conditional logic
                $('input[name="install_hardware"]').on('change', function() {
                    const $details = $('#hardware_installation_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('input').attr('required', false).val('');
                    }
                });

                // Hosting services conditional logic
                $('input[name="hosting_services"]').on('change', function() {
                    const $details = $('#hosting_services_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input[name="hosting_infrastructure"]').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('input, textarea').attr('required', false).val('');
                        $('#third_party_hosting_details').removeClass('show').hide();
                    }
                });

                // Third party hosting conditional logic
                $('input[name="hosting_infrastructure"]').on('change', function() {
                    const $details = $('#third_party_hosting_details');
                    if ($(this).val() === 'third_party') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('input').attr('required', false).val('');
                    }
                });

                // AI/ML tools conditional logic
                $('input[name="ai_ml_usage"]').on('change', function() {
                    const $details = $('#ai_ml_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Managed IT services conditional logic
                $('input[name="managed_it_services"]').on('change', function() {
                    const $details = $('#managed_it_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('input').attr('required', false).val('');
                    }
                });

                // High-risk areas conditional logic
                $('.high-risk-select').on('change', function() {
                    const detailsName = $(this).data('details');
                    const $detailsInput = $(`input[name="${detailsName}"]`);
                    
                    if ($(this).val() === 'yes') {
                        $detailsInput.prop('disabled', false).attr('required', true);
                        $detailsInput.closest('td').removeClass('text-muted');
                    } else {
                        $detailsInput.prop('disabled', true).attr('required', false).val('');
                        $detailsInput.closest('td').addClass('text-muted');
                    }
                });

                // Single client 5% revenue conditional logic
                $('input[name="single_client_5_percent"]').on('change', function() {
                    const $details = $('#client_5_percent_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Section 5: Contractual Controls conditional logic
                
                // Terms of service liability conditional logic
                $('input[name="liability_tos_only"]').on('change', function() {
                    const $details = $('#liability_tos_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('input[name="tos_customer_agreement"]').prop('checked', false);
                    }
                });

                // Written contract 100% conditional logic
                $('input[name="written_contract_100"]').on('change', function() {
                    const $details = $('#written_contract_percentage');
                    if ($(this).val() === 'no') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#contract_percentage').val('');
                    }
                });

                // Subcontract services conditional logic
                $('input[name="subcontract_services"]').on('change', function() {
                    const $details = $('#subcontract_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#subcontract_revenue_percentage').val('');
                    }
                });
                
                // Section 6: Cybersecurity conditional logic
                
                // Vulnerability scans conditional logic
                $('input[name="vulnerability_scans"]').on('change', function() {
                    const $details = $('#vulnerability_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#vulnerability_frequency_methods').val('');
                    }
                });

                // Financial approval conditional logic
                $('input[name="financial_approval"]').on('change', function() {
                    const $details = $('#financial_approval_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#financial_approval_process').val('');
                    }
                });

                // Section 7: Data Backup & Business Continuity conditional logic
                
                // Third party reliance conditional logic
                $('input[name="third_party_reliance"]').on('change', function() {
                    const $details = $('#third_party_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#key_suppliers').val('');
                        $('input[name="slas_in_place"]').prop('checked', false);
                    }
                });

                // B2B + B2C percentage validation
                $('#sales_b2b_percentage, #sales_b2c_percentage').on('input', function() {
                    const b2b = parseFloat($('#sales_b2b_percentage').val()) || 0;
                    const b2c = parseFloat($('#sales_b2c_percentage').val()) || 0;
                    const total = b2b + b2c;
                    
                    if (total === 100) {
                        $('#sales_b2b_percentage, #sales_b2c_percentage').removeClass('is-invalid').addClass('is-valid');
                    } else {
                        $('#sales_b2b_percentage, #sales_b2c_percentage').removeClass('is-valid').addClass('is-invalid');
                    }
                });

                // Section 9: Privacy, Data Security & API Controls conditional logic
                
                // Customer data collection conditional logic
                $('input[name="collect_customer_data"]').on('change', function() {
                    const $details = $('#customer_data_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        // Clear all data type checkboxes and record counts
                        $('input[name="data_types[]"]').prop('checked', false);
                        $('input[name$="_records"]').val('');
                        // Hide all sub-details
                        $('.col-md-6 div[id$="_details"]').slideUp(200);
                    }
                });

                // Data type checkboxes conditional logic
                $('input[name="data_types[]"]').on('change', function() {
                    const dataType = $(this).val();
                    const $details = $(`#${dataType}_details`);
                    if ($(this).is(':checked')) {
                        $details.slideDown(300);
                    } else {
                        $details.slideUp(300);
                        $(`#${dataType}_records`).val('');
                    }
                });

                // Section 10: Intellectual Property & Content Governance Controls conditional logic
                
                // Original media publishing conditional logic
                $('input[name="publish_original_media"]').on('change', function() {
                    const $details = $('#original_media_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        // Clear all sub-fields
                        $('#media_description').val('');
                        $('input[name="content_risk_review"]').prop('checked', false);
                        $('input[name="attorney_supervised_review"]').prop('checked', false);
                    }
                });

                // IP protection steps conditional logic
                $('input[name="ip_protection_steps[]"]').on('change', function() {
                    if ($(this).val() === 'other_ip_protections') {
                        const $details = $('#other_ip_protections_details');
                        if ($(this).is(':checked')) {
                            $details.slideDown(300);
                        } else {
                            $details.slideUp(300);
                            $('#other_ip_protections_text').val('');
                        }
                    }
                });

                // Conditional sections logic - manage visibility and dynamic step numbering for AI, DeFi, and Robotics
                function updateConditionalSteps() {
                    const aiSelected = $('#sector_ai').is(':checked');
                    const defiSelected = $('#sector_defi').is(':checked');
                    const roboticsSelected = $('#sector_robotics').is(':checked');
                    
                    // Reset all conditional steps
                    $('#ai-step-indicator, #defi-step-indicator, #robotics-step-indicator').hide();
                    $('#ai-step-separator, #defi-step-separator, #robotics-step-separator').hide();
                    $('#ai-section, #defi-section, #robotics-section').removeClass('active').css('display', 'none');
                    
                    // Clear data-section attributes for all conditional sections to prevent conflicts
                    $('#ai-section').removeAttr('data-section');
                    $('#defi-section').removeAttr('data-section');
                    $('#robotics-section').removeAttr('data-section');
                    
                    // Clear form data when sections are hidden
                    if (!aiSelected) {
                        $('#ai-section').find('input, textarea').val('').prop('checked', false);
                        $('#ai-section').find('.conditional-field').hide();
                        $('#ai-section').find('.ai-agent-conditional').hide();
                    }
                    if (!defiSelected) {
                        $('#defi-section').find('input, textarea').val('').prop('checked', false);
                        $('#defi-section').find('.conditional-field').hide();
                    }
                    if (!roboticsSelected) {
                        $('#robotics-section').find('input, textarea').val('').prop('checked', false);
                        $('#robotics-section').find('.conditional-field').hide();
                    }
                    
                    // Dynamically assign step numbers starting from 14
                    let nextStep = 14;
                    const sectorSteps = [];
                    
                    if (aiSelected) {
                        sectorSteps.push({
                            sector: 'ai',
                            stepNumber: nextStep,
                            indicator: '#ai-step-indicator',
                            separator: '#ai-step-separator',
                            section: '#ai-section'
                        });
                        nextStep++;
                    }
                    
                    if (defiSelected) {
                        sectorSteps.push({
                            sector: 'defi',
                            stepNumber: nextStep,
                            indicator: '#defi-step-indicator',
                            separator: '#defi-step-separator',
                            section: '#defi-section'
                        });
                        nextStep++;
                    }
                    
                    if (roboticsSelected) {
                        sectorSteps.push({
                            sector: 'robotics',
                            stepNumber: nextStep,
                            indicator: '#robotics-step-indicator',
                            separator: '#robotics-step-separator',
                            section: '#robotics-section'
                        });
                        nextStep++;
                    }
                    
                    // Update step indicators and sections with new step numbers
                    sectorSteps.forEach(step => {
                        // Update step indicator
                        const $indicator = $(step.indicator);
                        $indicator.attr('data-step', step.stepNumber);
                        $indicator.find('.step-number').text(step.stepNumber);
                        $indicator.slideDown(300);
                        
                        // Update separator
                        $(step.separator).slideDown(300);
                        
                        // Update form section data-step attribute
                        $(step.section).attr('data-section', step.stepNumber);
                    });
                    
                    // Update enabled flags
                    aiStepEnabled = aiSelected;
                    defiStepEnabled = defiSelected;
                    roboticsStepEnabled = roboticsSelected;
                    
                    // Update total steps
                    totalSteps = 13 + sectorSteps.length;
                    
                    // If current step is beyond the new total, go back to step 13
                    if (currentStep > totalSteps) {
                        currentStep = 13;
                        showStep(currentStep);
                    }
                    
                    updateStepIndicator();
                    updateNavigation();
                }
                
                $('input[name="sectors[]"]').on('change', function() {
                    updateConditionalSteps();
                });

                // DeFi Questions conditional logic
                $('input[name="defi_custody_services"]').on('change', function() {
                    const $details = $('#defi_custody_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_custody_controls').val('');
                    }
                });

                $('input[name="defi_exchange_platform"]').on('change', function() {
                    const $details = $('#defi_exchange_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_crypto_types, #defi_daily_volume, #defi_geographic_regions').val('');
                    }
                });

                $('input[name="defi_smart_contracts"]').on('change', function() {
                    const $details = $('#defi_smart_contracts_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_audit_processes').val('');
                    }
                });

                // Additional DeFi conditional logic for new fields
                $('input[name="defi_token_issuance"]').on('change', function() {
                    const $details = $('#defi_token_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_token_structure').val('');
                    }
                });

                $('input[name="defi_security_audits"]').on('change', function() {
                    const $details = $('#defi_security_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_security_findings').val('');
                    }
                });

                $('input[name="defi_disclaimers"]').on('change', function() {
                    const $details = $('#defi_disclaimers_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_contract_clauses').val('');
                    }
                });

                $('input[name="defi_wallet_infrastructure"]').on('change', function() {
                    const $details = $('#defi_wallet_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_wallet_split').val('');
                    }
                });

                $('input[name="defi_regulated"]').on('change', function() {
                    const $details = $('#defi_regulated_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_regulators').val('');
                    }
                });

                $('input[name="defi_aml_policies"]').on('change', function() {
                    const $details = $('#defi_aml_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_aml_policy').val('');
                    }
                });

                $('input[name="defi_blockchain_analytics"]').on('change', function() {
                    const $details = $('#defi_analytics_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_analytics_systems').val('');
                    }
                });

                $('input[name="defi_third_party"]').on('change', function() {
                    const $details = $('#defi_third_party_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('input[name="defi_indemnity"]').prop('checked', false);
                    }
                });

                $('input[name="defi_investment_assets"]').on('change', function() {
                    const $details = $('#defi_investment_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_investment_value').val('');
                    }
                });

                $('input[name="defi_security_incidents"]').on('change', function() {
                    const $details = $('#defi_security_incidents_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_incident_details').val('');
                    }
                });

                // Robotics Questions conditional logic for new fields
                $('input[name="robotics_navigation[]"][value="other"]').on('change', function() {
                    const $details = $('#nav_other_details');
                    if ($(this).is(':checked')) {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#nav_other_specify').val('');
                    }
                });

                $('input[name="robotics_incidents"]').on('change', function() {
                    const $details = $('#robotics_incidents_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#robotics_incident_description').val('');
                    }
                });

                // AI Questions conditional logic
                $('input[name="ai_functionality_integrated"]').on('change', function() {
                    const $details = $('#ai_functionality_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#ai_functionality_description').val('');
                    }
                });

                $('input[name="develop_proprietary_ai"]').on('change', function() {
                    const $details = $('#develop_proprietary_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#proprietary_ai_description').val('');
                    }
                });

                $('input[name="use_third_party_ai"]').on('change', function() {
                    const $details = $('#use_third_party_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#third_party_ai_description').val('');
                    }
                });

                $('input[name="ai_testing_processes"]').on('change', function() {
                    const $details = $('#ai_testing_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#ai_testing_description').val('');
                    }
                });

                $('input[name="ai_train_customer_data"]').on('change', function() {
                    const $details = $('#ai_train_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#ai_data_permissions').val('');
                    }
                });

                $('input[name="ai_agents_integrated"]').on('change', function() {
                    const $details = $('#ai_agents_details');
                    const $conditionalQuestions = $('.ai-agent-conditional');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                        $conditionalQuestions.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $conditionalQuestions.slideUp(400);
                        $('input[name="ai_agent_functions[]"]').prop('checked', false);
                        $('#ai_agents_description').val('');
                        // Clear all AI agent conditional questions
                        $('input[name="ai_autonomous_action"]').prop('checked', false);
                        $('input[name="ai_controls[]"]').prop('checked', false);
                        $('input[name="ai_risk_assessment"]').prop('checked', false);
                        $('input[name="ai_contractual_limitations"]').prop('checked', false);
                        $('input[name="ai_critical_systems"]').prop('checked', false);
                        $('input[name="ai_logs_version_control"]').prop('checked', false);
                    }
                });

                // Section 13: Prior Incidents & Claims conditional logic
                
                // Written demands conditional logic
                $('input[name="written_demands"]').on('change', function() {
                    const $details = $('#written_demands_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#written_demands_details_text').val('');
                    }
                });

                // Incident checkboxes conditional logic
                $('.incident-checkbox').on('change', function() {
                    const $details = $('#incident_details');
                    const anyChecked = $('.incident-checkbox:checked').length > 0;
                    
                    if (anyChecked) {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#incident_details_text').val('');
                    }
                });
            }

            function setupRevenueCalculation() {
                $('.revenue-input').on('input', function() {
                    let total = 0;
                    $('.revenue-input').each(function() {
                        const value = parseFloat($(this).val()) || 0;
                        total += value;
                    });
                    
                    $('#revenue_total').text(total);
                    
                    // Validate total
                    if (total === 100) {
                        $('.revenue-input').removeClass('is-invalid').addClass('is-valid');
                        $('#revenue-error').hide();
                    } else {
                        $('.revenue-input').removeClass('is-valid').addClass('is-invalid');
                        $('#revenue-error').show();
                    }
                });
            }

            function setupFormValidation() {
                $('input, textarea, select').on('blur', function() {
                    validateField($(this));
                });

                $('input[type="checkbox"][name="sectors[]"]').on('change', function() {
                    validateSectors();
                });
            }

            function validateField($field) {
                const field = $field[0];
                
                if (field.checkValidity()) {
                    $field.removeClass('is-invalid').addClass('is-valid');
                    return true;
                } else {
                    $field.removeClass('is-valid').addClass('is-invalid');
                    return false;
                }
            }

            function validateSectors() {
                const checked = $('input[name="sectors[]"]:checked').length > 0;
                const $inputs = $('input[name="sectors[]"]');
                
                if (checked) {
                    $inputs.removeClass('is-invalid').addClass('is-valid');
                    return true;
                } else {
                    $inputs.removeClass('is-valid').addClass('is-invalid');
                    return false;
                }
            }

            function validateCurrentStep() {
                let isValid = true;
                const $currentSection = $(`.form-section[data-section="${currentStep}"]`);
                
                // Validate fields in current step (only required fields)
                $currentSection.find('input[required], textarea[required], select[required]').each(function() {
                    if (!validateField($(this))) {
                        isValid = false;
                    }
                });

                // Special validation for sectors (step 1) - this is the only required section
                if (currentStep === 1) {
                    if (!validateSectors()) {
                        isValid = false;
                    }
                }

                return isValid;
            }

            function nextStep() {
                if (!validateCurrentStep()) {
                    showNotification('Please fill in all fields correctly before proceeding.', 'error');
                    return;
                }

                if (currentStep < totalSteps) {
                    currentStep++;
                    showStep(currentStep);
                    updateStepIndicator();
                    updateNavigation();
                    saveProgress();
                    
                    // Scroll to top
                    $('html, body').animate({ scrollTop: 0 }, 300);
                }
            }

            function prevStep() {
                if (currentStep > 1) {
                    currentStep--;
                    showStep(currentStep);
                    updateStepIndicator();
                    updateNavigation();
                    
                    // Scroll to top
                    $('html, body').animate({ scrollTop: 0 }, 300);
                }
            }

            function showStep(step) {
                $('.form-section').removeClass('active');
                const $targetSection = $(`.form-section[data-section="${step}"]`);
                $targetSection.addClass('active');
                
                // For conditional sections, remove inline display:none to allow CSS to take effect
                if (step >= 14) {
                    $targetSection.css('display', '');
                }
            }

            function updateStepIndicator() {
                $('.step-item').each(function() {
                    const stepNum = parseInt($(this).data('step'));
                    
                    if (stepNum < currentStep) {
                        $(this).addClass('completed').removeClass('active');
                    } else if (stepNum === currentStep) {
                        $(this).addClass('active').removeClass('completed');
                    } else {
                        $(this).removeClass('active completed');
                    }
                });

                $('#currentStep').text(currentStep);
                $('#totalSteps').text(totalSteps);
            }

            function updateNavigation() {
                // Previous button
                if (currentStep === 1) {
                    $('#prevBtn').hide();
                } else {
                    $('#prevBtn').show();
                }

                // Next/Submit button
                if (currentStep === totalSteps) {
                    $('#nextBtn').hide();
                    $('#submitBtn').show();
                } else {
                    $('#nextBtn').show();
                    $('#submitBtn').hide();
                }
            }

            function setupKeyboardNavigation() {
                $(document).on('keydown', function(e) {
                    if (e.ctrlKey) {
                        if (e.key === 'ArrowRight' && currentStep < totalSteps) {
                            e.preventDefault();
                            nextStep();
                        } else if (e.key === 'ArrowLeft' && currentStep > 1) {
                            e.preventDefault();
                            prevStep();
                        }
                    }
                });
            }

            function setupAutoSave() {
                // Auto-save every 30 seconds
                setInterval(saveProgress, 30000);

                // Save on form field changes
                $('input, textarea, select').on('change', function() {
                    setTimeout(saveProgress, 1000);
                });
            }

            function saveProgress() {
                try {
                    const data = {
                        currentStep: currentStep,
                        formData: $('#insuranceForm').serializeArray(),
                        timestamp: new Date().toISOString()
                    };
                    
                    localStorage.setItem('axisInsuranceForm', JSON.stringify(data));
                    
                    // Show brief save indicator
                    const $saveBtn = $('#saveBtn');
                    const originalText = $saveBtn.text();
                    $saveBtn.text('✓ Saved').addClass('btn-success').removeClass('btn-outline-primary');
                    
                    setTimeout(() => {
                        $saveBtn.text(originalText).removeClass('btn-success').addClass('btn-outline-primary');
                    }, 2000);
                    
                } catch (error) {
                    console.error('Error saving progress:', error);
                }
            }

            function loadSavedData() {
                try {
                    const saved = localStorage.getItem('axisInsuranceForm');
                    if (saved) {
                        const data = JSON.parse(saved);
                        
                        // Restore form data
                        data.formData.forEach(field => {
                            const $element = $(`[name="${field.name}"]`);
                            if ($element.attr('type') === 'checkbox' || $element.attr('type') === 'radio') {
                                if (field.value) {
                                    $element.filter(`[value="${field.value}"]`).prop('checked', true);
                                }
                            } else {
                                $element.val(field.value);
                            }
                        });

                        // Restore current step
                        currentStep = data.currentStep || 1;
                        showStep(currentStep);
                        updateStepIndicator();
                        updateNavigation();

                        // Trigger conditional logic
                        $('input[name="employees_outside_canada"]:checked').trigger('change');
                        $('input[name="business_structure_change"]:checked').trigger('change');
                        $('input[name="sell_tangible_products"]:checked').trigger('change');
                        $('.high-risk-select').trigger('change');
                        $('.revenue-input').trigger('input');
                        
                        // Trigger conditional section logic
                        $('input[name="sectors[]"]').trigger('change');
                        $('input[name="ai_functionality_integrated"]:checked').trigger('change');
                        $('input[name="develop_proprietary_ai"]:checked').trigger('change');
                        $('input[name="use_third_party_ai"]:checked').trigger('change');
                        $('input[name="ai_testing_processes"]:checked').trigger('change');
                        $('input[name="ai_train_customer_data"]:checked').trigger('change');
                        $('input[name="ai_agents_integrated"]:checked').trigger('change');
                        
                        // Trigger DeFi conditional logic
                        $('input[name="defi_custody_services"]:checked').trigger('change');
                        $('input[name="defi_exchange_platform"]:checked').trigger('change');
                        $('input[name="defi_smart_contracts"]:checked').trigger('change');
                        $('input[name="defi_token_issuance"]:checked').trigger('change');
                        $('input[name="defi_security_audits"]:checked').trigger('change');
                        $('input[name="defi_disclaimers"]:checked').trigger('change');
                        $('input[name="defi_wallet_infrastructure"]:checked').trigger('change');
                        $('input[name="defi_regulated"]:checked').trigger('change');
                        $('input[name="defi_aml_policies"]:checked').trigger('change');
                        $('input[name="defi_blockchain_analytics"]:checked').trigger('change');
                        $('input[name="defi_third_party"]:checked').trigger('change');
                        $('input[name="defi_investment_assets"]:checked').trigger('change');
                        $('input[name="defi_security_incidents"]:checked').trigger('change');
                        
                        // Trigger Robotics conditional logic
                        $('input[name="robotics_navigation[]"]:checked').trigger('change');
                        $('input[name="robotics_incidents"]:checked').trigger('change');

                        showNotification('Previous progress restored.', 'success');
                    }
                } catch (error) {
                    console.error('Error loading saved data:', error);
                }
            }

            function submitForm() {
                if (!validateCurrentStep()) {
                    showNotification('Please fill in all fields correctly before submitting.', 'error');
                    return;
                }

                // Show loading state
                const $submitBtn = $('#submitBtn');
                $submitBtn.addClass('loading').prop('disabled', true);

                // Simulate form submission
                setTimeout(() => {
                    // Clear saved data
                    localStorage.removeItem('axisInsuranceForm');
                    
                    // Show success message with PDF download option
                    showSubmissionSuccess();
                    
                    // Reset submit button and replace with PDF download button
                    $submitBtn.removeClass('loading').prop('disabled', false);
                    $submitBtn.html('📄 Download PDF Application').off('click').on('click', generatePDF);
                    
                }, 2000);
            }

            function showSubmissionSuccess() {
                // Remove existing notifications
                $('.notification').remove();
                
                const $notification = $(`
                    <div class="notification alert alert-success alert-dismissible fade show position-fixed" 
                         style="top: 20px; right: 20px; z-index: 9999; max-width: 450px;">
                        <div class="d-flex align-items-center">
                            <div class="flex-grow-1">
                                <strong>✅ Application submitted successfully!</strong><br>
                                <small>You will receive a confirmation email shortly. You can now download your application as a PDF.</small>
                            </div>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);

                $('body').append($notification);

                // Auto-dismiss after 10 seconds (longer for PDF download option)
                setTimeout(() => {
                    $notification.alert('close');
                }, 10000);
            }

            function collectFormData() {
                const formData = {
                    submissionDate: new Date().toLocaleDateString(),
                    submissionTime: new Date().toLocaleTimeString(),
                    sectors: [],
                    generalInfo: {},
                    operations: {},
                    financials: {},
                    contractualControls: {},
                    cybersecurity: {},
                    dataBackup: {},
                    thirdParty: {},
                    privacy: {},
                    intellectualProperty: {},
                    employment: {},
                    aiTools: {},
                    priorIncidents: {},
                    ai: {},
                    defi: {},
                    robotics: {}
                };

                // Collect sectors
                $('input[name="sectors"]:checked').each(function() {
                    formData.sectors.push($(this).val());
                });

                // Collect all form inputs by section
                const sections = [
                    { step: 2, key: 'generalInfo' },
                    { step: 3, key: 'operations' },
                    { step: 4, key: 'financials' },
                    { step: 5, key: 'contractualControls' },
                    { step: 6, key: 'cybersecurity' },
                    { step: 7, key: 'dataBackup' },
                    { step: 8, key: 'thirdParty' },
                    { step: 9, key: 'privacy' },
                    { step: 10, key: 'intellectualProperty' },
                    { step: 11, key: 'employment' },
                    { step: 12, key: 'aiTools' },
                    { step: 13, key: 'priorIncidents' }
                ];

                // Add conditional sections based on their current step numbers (dynamic)
                if (aiStepEnabled) {
                    const aiStep = $('#ai-section').attr('data-section');
                    if (aiStep) sections.push({ step: parseInt(aiStep), key: 'ai' });
                }
                if (defiStepEnabled) {
                    const defiStep = $('#defi-section').attr('data-section');
                    if (defiStep) sections.push({ step: parseInt(defiStep), key: 'defi' });
                }
                if (roboticsStepEnabled) {
                    const roboticsStep = $('#robotics-section').attr('data-section');
                    if (roboticsStep) sections.push({ step: parseInt(roboticsStep), key: 'robotics' });
                }

                sections.forEach(section => {
                    $(`#step${section.step} input, #step${section.step} textarea, #step${section.step} select`).each(function() {
                        const $input = $(this);
                        const name = $input.attr('name');
                        const type = $input.attr('type');
                        
                        if (name) {
                            if (type === 'checkbox') {
                                if (!formData[section.key][name]) {
                                    formData[section.key][name] = [];
                                }
                                if ($input.is(':checked')) {
                                    formData[section.key][name].push($input.val());
                                }
                            } else if (type === 'radio') {
                                if ($input.is(':checked')) {
                                    formData[section.key][name] = $input.val();
                                }
                            } else {
                                const value = $input.val();
                                if (value && value.trim() !== '') {
                                    formData[section.key][name] = value;
                                }
                            }
                        }
                    });
                });

                return formData;
            }

            function generatePDF() {
                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    // Collect all form data
                    const formData = collectFormData();
                    
                    let yPosition = 20;
                    const pageHeight = doc.internal.pageSize.height;
                    const margin = 20;
                    const lineHeight = 6;
                    
                    // Helper function to add new page if needed
                    function checkPageBreak(additionalHeight = 15) {
                        if (yPosition + additionalHeight > pageHeight - margin) {
                            doc.addPage();
                            yPosition = 20;
                        }
                    }
                    
                    // Helper function to add text with word wrapping
                    function addWrappedText(text, x, fontSize = 10, maxWidth = 170) {
                        doc.setFontSize(fontSize);
                        const splitText = doc.splitTextToSize(text, maxWidth);
                        splitText.forEach(line => {
                            checkPageBreak();
                            doc.text(line, x, yPosition);
                            yPosition += lineHeight;
                        });
                    }
                    
                    // Header
                    doc.setFontSize(18);
                    doc.setFont(undefined, 'bold');
                    doc.text('Axis Technology Insurance Application', margin, yPosition);
                    yPosition += 10;
                    
                    doc.setFontSize(10);
                    doc.setFont(undefined, 'normal');
                    doc.text(`Submitted: ${formData.submissionDate} at ${formData.submissionTime}`, margin, yPosition);
                    yPosition += 15;
                    
                    // Section 1: Sectors
                    doc.setFontSize(14);
                    doc.setFont(undefined, 'bold');
                    addWrappedText('Section 1: Sectors', margin);
                    yPosition += 5;
                    
                    doc.setFontSize(10);
                    doc.setFont(undefined, 'normal');
                    if (formData.sectors.length > 0) {
                        addWrappedText('Selected sectors: ' + formData.sectors.join(', '), margin + 10);
                    } else {
                        addWrappedText('No sectors selected', margin + 10);
                    }
                    yPosition += 10;
                    
                    // Helper function to add section data
                    function addSectionData(sectionTitle, sectionData) {
                        checkPageBreak(20);
                        doc.setFontSize(14);
                        doc.setFont(undefined, 'bold');
                        addWrappedText(sectionTitle, margin);
                        yPosition += 5;
                        
                        doc.setFontSize(10);
                        doc.setFont(undefined, 'normal');
                        
                        if (Object.keys(sectionData).length === 0) {
                            addWrappedText('No data entered for this section', margin + 10);
                            yPosition += 5;
                            return;
                        }
                        
                        Object.entries(sectionData).forEach(([key, value]) => {
                            if (value !== undefined && value !== null && value !== '') {
                                checkPageBreak();
                                // Format field name
                                const fieldName = key.replace(/_/g, ' ').replace(/([A-Z])/g, ' $1').toLowerCase();
                                const capitalizedName = fieldName.charAt(0).toUpperCase() + fieldName.slice(1);
                                
                                // Format value
                                let displayValue = value;
                                if (Array.isArray(value)) {
                                    displayValue = value.join(', ');
                                }
                                
                                addWrappedText(`${capitalizedName}: ${displayValue}`, margin + 10);
                            }
                        });
                        yPosition += 10;
                    }
                    
                    // Add all sections
                    addSectionData('Section 2: General Information', formData.generalInfo);
                    addSectionData('Section 3: Operations', formData.operations);
                    addSectionData('Section 4: Financials', formData.financials);
                    addSectionData('Section 5: Contractual Controls', formData.contractualControls);
                    addSectionData('Section 6: Cybersecurity, Technical & Crime Controls', formData.cybersecurity);
                    addSectionData('Section 7: Data Backup & Business Continuity', formData.dataBackup);
                    addSectionData('Section 8: Third Party, Vendor & Supply Chain Controls', formData.thirdParty);
                    addSectionData('Section 9: Privacy, Data Security & API Controls', formData.privacy);
                    addSectionData('Section 10: Intellectual Property & Content Governance Controls', formData.intellectualProperty);
                    addSectionData('Section 11: People, Employment Practices & Insider Controls', formData.employment);
                    addSectionData('Section 12: Artificial Intelligence Tools & Controls', formData.aiTools);
                    addSectionData('Section 13: Prior Incidents & Claims', formData.priorIncidents);
                    
                    // Conditional sections (only if respective sectors were selected)
                    if (formData.sectors.includes('ai')) {
                        addSectionData('Section 1: Artificial Intelligence (Additional Questions)', formData.ai);
                    }
                    
                    if (formData.sectors.includes('defi')) {
                        addSectionData('Section 2: Decentralized Finance & Digital Assets (Additional Questions)', formData.defi);
                    }
                    
                    if (formData.sectors.includes('robotics')) {
                        addSectionData('Section 3: Autonomous Robotics (Additional Questions)', formData.robotics);
                    }
                    
                    // Footer
                    const pageCount = doc.internal.getNumberOfPages();
                    for (let i = 1; i <= pageCount; i++) {
                        doc.setPage(i);
                        doc.setFontSize(8);
                        doc.setFont(undefined, 'normal');
                        doc.text(`Page ${i} of ${pageCount}`, doc.internal.pageSize.width - 40, doc.internal.pageSize.height - 10);
                        doc.text('Axis Technology Insurance Application', margin, doc.internal.pageSize.height - 10);
                    }
                    
                    // Generate filename with timestamp
                    const timestamp = new Date().toISOString().slice(0,19).replace(/:/g,'-');
                    const filename = `Axis-Technology-Insurance-Application-${timestamp}.pdf`;
                    
                    // Save the PDF
                    doc.save(filename);
                    
                    showNotification('✅ PDF downloaded successfully!', 'success');
                    
                } catch (error) {
                    console.error('Error generating PDF:', error);
                    showNotification('❌ Error generating PDF. Please try again.', 'error');
                }
            }

            function showNotification(message, type = 'info') {
                // Remove existing notifications
                $('.notification').remove();
                
                const alertClass = {
                    'success': 'alert-success',
                    'error': 'alert-danger',
                    'warning': 'alert-warning',
                    'info': 'alert-info'
                }[type];

                const $notification = $(`
                    <div class="notification alert ${alertClass} alert-dismissible fade show position-fixed" 
                         style="top: 20px; right: 20px; z-index: 9999; max-width: 400px;">
                        ${message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);

                $('body').append($notification);

                // Auto-dismiss after 5 seconds
                setTimeout(() => {
                    $notification.alert('close');
                }, 5000);
            }

            // Initialize step indicator click handlers
            $('.step-item').on('click', function() {
                const targetStep = parseInt($(this).data('step'));
                
                // Don't allow navigation to conditional steps if they are not enabled
                if (targetStep >= 14) {
                    const aiStep = $('#ai-section').attr('data-section');
                    const defiStep = $('#defi-section').attr('data-section');
                    const roboticsStep = $('#robotics-section').attr('data-section');
                    
                    const isValidConditionalStep = 
                        (aiStepEnabled && targetStep == aiStep) ||
                        (defiStepEnabled && targetStep == defiStep) ||
                        (roboticsStepEnabled && targetStep == roboticsStep);
                    
                    if (!isValidConditionalStep) {
                        return;
                    }
                }
                
                // Only allow navigation to completed steps or next step
                if (targetStep < currentStep || (targetStep === currentStep + 1 && validateCurrentStep())) {
                    currentStep = targetStep;
                    showStep(currentStep);
                    updateStepIndicator();
                    updateNavigation();
                }
            });

            // Show welcome message
            showNotification('Welcome! Your progress will be automatically saved. Use Ctrl+Arrow keys for quick navigation.', 'info');
        });
    </script>
</body>
</html>