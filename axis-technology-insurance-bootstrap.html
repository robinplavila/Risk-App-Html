<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Axis Technology Insurance Application - Comprehensive technology insurance application form">
    <title>Axis Technology Insurance Application</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS for enhanced mobile and touch optimization -->
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #0dcaf0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 1rem 0;
        }

        .main-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin: auto;
            max-width: 900px;
        }

        .header-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, #0056b3 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header-section h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .header-section p {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 0;
        }

        /* Step Progress Indicator */
        .step-progress {
            background: #f8f9fa;
            padding: 1.5rem;
            border-bottom: 2px solid #e9ecef;
            overflow-x: auto;
            overflow-y: hidden;
        }

        .step-indicator {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 1rem;
            min-width: max-content;
            padding: 0 1rem;
        }

        .step-item {
            display: flex;
            align-items: center;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.5rem;
            font-weight: 700;
            border: 2px solid;
            transition: all 0.3s ease;
        }

        .step-item.active .step-number {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .step-item.completed .step-number {
            background: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }

        .step-item:not(.active):not(.completed) .step-number {
            background: white;
            color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .step-separator {
            width: 50px;
            height: 2px;
            background: var(--secondary-color);
            margin: 0 1rem;
        }

        .step-item.completed + .step-separator {
            background: var(--success-color);
        }

        /* Form Content */
        .form-content {
            padding: 2rem;
            min-height: 600px;
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            color: var(--primary-color);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        /* Enhanced Form Controls for Touch */
        .form-control, .form-select {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 0.875rem 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            min-height: 48px;
            background: white;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
            transform: translateY(-1px);
        }

        .form-check-input {
            width: 1.5em;
            height: 1.5em;
            margin-top: 0.125em;
            border: 2px solid #dee2e6;
            border-radius: 4px;
        }

        .form-check-input:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .form-check-label {
            font-weight: 500;
            margin-left: 0.5rem;
            cursor: pointer;
        }

        /* Enhanced Buttons for Touch */
        .btn {
            border-radius: 12px;
            padding: 0.875rem 2rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            min-height: 48px;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, #0056b3 100%);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #0056b3 0%, #004085 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(13, 110, 253, 0.3);
        }

        .btn-outline-secondary {
            border: 2px solid var(--secondary-color);
            color: var(--secondary-color);
            background: transparent;
        }

        .btn-outline-secondary:hover {
            background: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
        }

        /* Navigation */
        .navigation-section {
            background: #f8f9fa;
            padding: 1.5rem 2rem;
            border-top: 2px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .step-counter {
            font-weight: 600;
            color: var(--secondary-color);
        }

        /* Conditional Fields Animation */
        .conditional-field {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(13, 110, 253, 0.05);
            border: 1px solid rgba(13, 110, 253, 0.2);
            border-radius: 12px;
        }

        .conditional-field.show {
            display: block;
            animation: slideDown 0.4s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
                max-height: 0;
            }
            to {
                opacity: 1;
                transform: translateY(0);
                max-height: 200px;
            }
        }

        /* Table Enhancements */
        .table-responsive {
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .table thead th {
            background: var(--primary-color);
            color: white;
            border: none;
            font-weight: 600;
            padding: 1rem;
        }

        .table tbody td {
            padding: 1rem;
            vertical-align: middle;
            border-bottom: 1px solid #e9ecef;
        }

        .table tbody tr:hover {
            background-color: rgba(13, 110, 253, 0.05);
        }

        /* Error/Success States */
        .is-invalid {
            border-color: var(--danger-color);
            animation: shake 0.3s ease;
        }

        .is-valid {
            border-color: var(--success-color);
        }

        @keyframes shake {
            0%, 20%, 40%, 60%, 80% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
        }

        .invalid-feedback {
            color: var(--danger-color);
            font-size: 0.875rem;
            margin-top: 0.5rem;
            font-weight: 500;
        }

        .valid-feedback {
            color: var(--success-color);
            font-size: 0.875rem;
            margin-top: 0.5rem;
            font-weight: 500;
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            .header-section h1 {
                font-size: 2rem;
            }

            .header-section p {
                font-size: 1rem;
            }

            .step-indicator {
                gap: 0.5rem;
            }

            .step-text {
                display: none;
            }

            .step-separator {
                width: 30px;
                margin: 0 0.5rem;
            }

            .form-content {
                padding: 1.5rem;
            }

            .navigation-section {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .btn {
                width: 100%;
                margin-bottom: 0.5rem;
            }

            .navigation-section .d-flex {
                flex-direction: column;
                width: 100%;
            }
        }

        @media (max-width: 576px) {
            .main-container {
                margin: 0;
                border-radius: 0;
            }

            body {
                padding: 0;
            }

            .header-section {
                padding: 1.5rem;
            }

            .form-content {
                padding: 1rem;
            }

            .step-progress {
                padding: 1rem;
            }
        }

        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            .form-control, .form-select {
                border: 3px solid;
            }
            
            .btn {
                border: 2px solid;
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Loading States */
        .btn.loading {
            position: relative;
            color: transparent;
        }

        .btn.loading::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="main-container">
            <!-- Header Section -->
            <div class="header-section">
                <h1>🛡️ Axis Technology Insurance Application</h1>
                <p>Comprehensive technology insurance application form</p>
            </div>

            <!-- Step Progress Indicator -->
            <div class="step-progress">
                <div class="step-indicator">
                    <div class="step-item active" data-step="1">
                        <div class="step-number">1</div>
                        <span class="step-text">Sectors</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="2">
                        <div class="step-number">2</div>
                        <span class="step-text">General Information</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="3">
                        <div class="step-number">3</div>
                        <span class="step-text">Operations</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="4">
                        <div class="step-number">4</div>
                        <span class="step-text">Financials</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="5">
                        <div class="step-number">5</div>
                        <span class="step-text">Contractual Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="6">
                        <div class="step-number">6</div>
                        <span class="step-text">Cybersecurity & Tech Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="7">
                        <div class="step-number">7</div>
                        <span class="step-text">Data Backup & Continuity</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="8">
                        <div class="step-number">8</div>
                        <span class="step-text">Third Party & Vendor Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="9">
                        <div class="step-number">9</div>
                        <span class="step-text">Privacy & Data Security</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="10">
                        <div class="step-number">10</div>
                        <span class="step-text">IP & Content Governance</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="11">
                        <div class="step-number">11</div>
                        <span class="step-text">People & Employment</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="12">
                        <div class="step-number">12</div>
                        <span class="step-text">AI Tools & Controls</span>
                    </div>
                    <div class="step-separator"></div>
                    <div class="step-item" data-step="13">
                        <div class="step-number">13</div>
                        <span class="step-text">Prior Incidents & Claims</span>
                    </div>
                    <div class="step-separator" id="ai-step-separator" style="display: none;"></div>
                    <div class="step-item" data-step="14" id="ai-step-indicator" style="display: none;">
                        <div class="step-number">14</div>
                        <span class="step-text">Artificial Intelligence</span>
                    </div>
                    <div class="step-separator" id="defi-step-separator" style="display: none;"></div>
                    <div class="step-item" data-step="15" id="defi-step-indicator" style="display: none;">
                        <div class="step-number">15</div>
                        <span class="step-text">Decentralized Finance</span>
                    </div>
                    <div class="step-separator" id="robotics-step-separator" style="display: none;"></div>
                    <div class="step-item" data-step="16" id="robotics-step-indicator" style="display: none;">
                        <div class="step-number">16</div>
                        <span class="step-text">Autonomous Robotics</span>
                    </div>
                </div>
            </div>

            <!-- Form Content -->
            <div class="form-content">
                <form id="insuranceForm" novalidate>
                    <!-- Section 1: Sectors -->
                    <div class="form-section active" data-section="1">
                        <h2 class="section-title">1. Sectors</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Instructions:</strong> Please select all sectors that apply to your business. You may select multiple options.
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-bold">
                                Does your business provide products or services within any of the following sectors? <span class="text-danger">*</span>
                                <small class="text-muted">(tick all that apply)</small>
                            </label>
                            
                            <div class="row mt-3">
                                <div class="col-md-4 mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="ai" id="sector_ai" name="sectors[]">
                                        <label class="form-check-label" for="sector_ai">
                                            🤖 Artificial Intelligence
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="defi" id="sector_defi" name="sectors[]">
                                        <label class="form-check-label" for="sector_defi">
                                            💰 Decentralized Finance & Digital Assets
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" value="robotics" id="sector_robotics" name="sectors[]">
                                        <label class="form-check-label" for="sector_robotics">
                                            🦾 Autonomous Robotics
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="invalid-feedback">
                                Please select at least one sector that applies to your business.
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: General Information -->
                    <div class="form-section" data-section="2">
                        <h2 class="section-title">2. General Information</h2>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="legal_name" class="form-label">1. Legal Name of Organization</label>
                                <input type="text" class="form-control" id="legal_name" name="legal_name">
                                <div class="invalid-feedback">Please provide the legal name of your organization.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="incorporation_location" class="form-label">Location of Incorporation</label>
                                <input type="text" class="form-control" id="incorporation_location" name="incorporation_location">
                                <div class="invalid-feedback">Please provide the location of incorporation.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="mailing_address" class="form-label">2. Mailing Address</label>
                            <textarea class="form-control" id="mailing_address" name="mailing_address" rows="3"></textarea>
                            <div class="invalid-feedback">Please provide your complete mailing address.</div>
                        </div>

                        <div class="mb-3">
                            <label for="subsidiaries" class="form-label">3. List all subsidiaries & Location of Incorporation</label>
                            <textarea class="form-control" id="subsidiaries" name="subsidiaries" rows="3" placeholder="List each subsidiary with full legal name and its location of incorporation"></textarea>
                            <small class="form-text text-muted">Please provide the complete legal name of each subsidiary and its jurisdiction of incorporation.</small>
                        </div>

                        <div class="mb-3">
                            <label for="physical_locations" class="form-label">4. List all Physical Locations</label>
                            <textarea class="form-control" id="physical_locations" name="physical_locations" rows="3" placeholder="List all physical office/facility locations"></textarea>
                            <div class="invalid-feedback">Please list all physical locations.</div>
                        </div>

                        <div class="mb-3">
                            <label for="urls" class="form-label">5. List all URL's</label>
                            <textarea class="form-control" id="urls" name="urls" rows="3" placeholder="List all company websites and web applications"></textarea>
                            <div class="invalid-feedback">Please list all company URLs.</div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="year_established" class="form-label">6. Year Company Established</label>
                                <input type="number" class="form-control" id="year_established" name="year_established" min="1800" max="2024">
                                <div class="invalid-feedback">Please provide a valid year.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="num_employees" class="form-label">7. Number of Employees</label>
                                <input type="number" class="form-control" id="num_employees" name="num_employees" min="1">
                                <div class="invalid-feedback">Please provide the number of employees.</div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">8. Are any Employees based outside of Canada?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="employees_outside_canada" id="employees_outside_yes" value="yes">
                                    <label class="form-check-label" for="employees_outside_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="employees_outside_canada" id="employees_outside_no" value="no">
                                    <label class="form-check-label" for="employees_outside_no">No</label>
                                </div>
                            </div>
                            <div class="invalid-feedback">Please select an option.</div>
                            
                            <div class="conditional-field" id="employees_outside_details">
                                <label for="employees_outside_list" class="form-label">If yes, list the country and the number of employees in each:</label>
                                <textarea class="form-control" id="employees_outside_list" name="employees_outside_list" rows="3" placeholder="Country: Number of employees"></textarea>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">9. Breach Response Contact</label>
                            <div class="row">
                                <div class="col-md-6 mb-2">
                                    <input type="text" class="form-control" name="breach_contact_name" placeholder="Name">
                                </div>
                                <div class="col-md-6 mb-2">
                                    <input type="text" class="form-control" name="breach_contact_title" placeholder="Title">
                                </div>
                                <div class="col-md-6 mb-2">
                                    <input type="email" class="form-control" name="breach_contact_email" placeholder="Email">
                                </div>
                                <div class="col-md-6 mb-2">
                                    <input type="tel" class="form-control" name="breach_contact_phone" placeholder="Phone">
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">10. Any recent or planned mergers, acquisitions, or divestitures?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="mergers_acquisitions" id="mergers_yes" value="yes">
                                    <label class="form-check-label" for="mergers_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="mergers_acquisitions" id="mergers_no" value="no">
                                    <label class="form-check-label" for="mergers_no">No</label>
                                </div>
                            </div>
                            <div class="conditional-field mt-3" id="mergers_details" style="display: none;">
                                <label for="mergers_description" class="form-label">Please provide details:</label>
                                <textarea class="form-control" id="mergers_description" name="mergers_description" rows="3" placeholder="Please describe the mergers, acquisitions, or divestitures including timeline, entities involved, and current status..."></textarea>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">11. Is your organization regulated by any governing body or required to comply with specific legislation, standards, or licensing requirements?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="organization_regulated" id="regulated_yes" value="yes">
                                    <label class="form-check-label" for="regulated_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="organization_regulated" id="regulated_no" value="no">
                                    <label class="form-check-label" for="regulated_no">No</label>
                                </div>
                            </div>
                            <div class="conditional-field mt-3" id="regulated_details" style="display: none;">
                                <label for="regulated_description" class="form-label">If yes, please specify the authority and relevant legislation:</label>
                                <textarea class="form-control" id="regulated_description" name="regulated_description" rows="3" placeholder="Please specify the governing body/authority and relevant legislation, standards, or licensing requirements..."></textarea>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">12. Does your organization hold any recognized certifications (e.g., ISO 27001, SOC 2, PCI DSS, or equivalent)?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="organization_certifications" id="certifications_yes" value="yes">
                                    <label class="form-check-label" for="certifications_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="organization_certifications" id="certifications_no" value="no">
                                    <label class="form-check-label" for="certifications_no">No</label>
                                </div>
                            </div>
                            <div class="conditional-field mt-3" id="certifications_details" style="display: none;">
                                <label for="certifications_description" class="form-label">If yes, please specify:</label>
                                <textarea class="form-control" id="certifications_description" name="certifications_description" rows="3" placeholder="Please specify the certifications held (e.g., ISO 27001, SOC 2, PCI DSS, etc.)..."></textarea>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">13. Does your organization undergo any independent audits, assessments, or third-party evaluations of its internal controls or risk management practices?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="organization_audits" id="audits_yes" value="yes">
                                    <label class="form-check-label" for="audits_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="organization_audits" id="audits_no" value="no">
                                    <label class="form-check-label" for="audits_no">No</label>
                                </div>
                            </div>
                            <div class="conditional-field mt-3" id="audits_details" style="display: none;">
                                <label for="audits_description" class="form-label">If yes, please specify the scope, frequency, and auditing party:</label>
                                <textarea class="form-control" id="audits_description" name="audits_description" rows="3" placeholder="Please specify the scope, frequency, and auditing party for independent audits or assessments..."></textarea>
                            </div>
                        </div>
                        
                    </div>

                    <!-- Section 3: Operations -->
                    <div class="form-section" data-section="3">
                        <h2 class="section-title">3. Operations</h2>
                        
                        <div class="mb-4">
                            <label for="services_description" class="form-label">1. Briefly describe the services and/or technology products your company provides</label>
                            <textarea class="form-control" id="services_description" name="services_description" rows="4"></textarea>
                            <div class="invalid-feedback">Please describe your services and products.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Percentage of revenue derived from each activity</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Activity</th>
                                            <th>Percentage (%)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Custom Software Development</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_software" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td>Software as a Service</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_saas" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td>Consulting Services</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_consulting" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        
                                        <tr>
                                            <td>Hardware</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_hardware" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td>Other</td>
                                            <td><input type="number" class="form-control revenue-input" name="revenue_other" min="0" max="100" placeholder="0"></td>
                                        </tr>
                                        <tr class="table-primary">
                                            <td><strong>Total</strong></td>
                                            <td><strong><span id="revenue_total">0</span>%</strong></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="invalid-feedback" id="revenue-error">
                                The total percentage must equal 100%.
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. Do you operate in any of the following areas?</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Area</th>
                                            <th>Yes/No</th>
                                            <th>Details (if Yes)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Critical Infrastructure</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_critical_infrastructure" id="critical_infrastructure_yes" value="yes" data-details="critical_infrastructure_details">
                                                        <label class="form-check-label" for="critical_infrastructure_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_critical_infrastructure" id="critical_infrastructure_no" value="no" data-details="critical_infrastructure_details">
                                                        <label class="form-check-label" for="critical_infrastructure_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="critical_infrastructure_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Financial Services</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_financial_services" id="financial_services_yes" value="yes" data-details="financial_services_details">
                                                        <label class="form-check-label" for="financial_services_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_financial_services" id="financial_services_no" value="no" data-details="financial_services_details">
                                                        <label class="form-check-label" for="financial_services_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="financial_services_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Healthcare</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_healthcare" id="healthcare_yes" value="yes" data-details="healthcare_details">
                                                        <label class="form-check-label" for="healthcare_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_healthcare" id="healthcare_no" value="no" data-details="healthcare_details">
                                                        <label class="form-check-label" for="healthcare_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="healthcare_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Government/Defense</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_government" id="government_yes" value="yes" data-details="government_details">
                                                        <label class="form-check-label" for="government_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_government" id="government_no" value="no" data-details="government_details">
                                                        <label class="form-check-label" for="government_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="government_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Aerospace</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_aerospace" id="aerospace_yes" value="yes" data-details="aerospace_details">
                                                        <label class="form-check-label" for="aerospace_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_aerospace" id="aerospace_no" value="no" data-details="aerospace_details">
                                                        <label class="form-check-label" for="aerospace_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="aerospace_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Rail</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_rail" id="rail_yes" value="yes" data-details="rail_details">
                                                        <label class="form-check-label" for="rail_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_rail" id="rail_no" value="no" data-details="rail_details">
                                                        <label class="form-check-label" for="rail_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="rail_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Mining/Oil & Gas</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_mining_oil_gas" id="mining_oil_gas_yes" value="yes" data-details="mining_oil_gas_details">
                                                        <label class="form-check-label" for="mining_oil_gas_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_mining_oil_gas" id="mining_oil_gas_no" value="no" data-details="mining_oil_gas_details">
                                                        <label class="form-check-label" for="mining_oil_gas_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="mining_oil_gas_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Energy</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_energy" id="energy_yes" value="yes" data-details="energy_details">
                                                        <label class="form-check-label" for="energy_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_energy" id="energy_no" value="no" data-details="energy_details">
                                                        <label class="form-check-label" for="energy_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="energy_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Adult Entertainment/Gambling</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_adult_entertainment" id="adult_entertainment_yes" value="yes" data-details="adult_entertainment_details">
                                                        <label class="form-check-label" for="adult_entertainment_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_adult_entertainment" id="adult_entertainment_no" value="no" data-details="adult_entertainment_details">
                                                        <label class="form-check-label" for="adult_entertainment_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="adult_entertainment_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Semi-Conductors</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_semiconductors" id="semiconductors_yes" value="yes" data-details="semiconductors_details">
                                                        <label class="form-check-label" for="semiconductors_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_semiconductors" id="semiconductors_no" value="no" data-details="semiconductors_details">
                                                        <label class="form-check-label" for="semiconductors_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="semiconductors_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Architecture/Engineering</td>
                                            <td>
                                                <div class="d-flex gap-3">
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_architecture_engineering" id="architecture_engineering_yes" value="yes" data-details="architecture_engineering_details">
                                                        <label class="form-check-label" for="architecture_engineering_yes">Yes</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input high-risk-radio" type="radio" name="risk_architecture_engineering" id="architecture_engineering_no" value="no" data-details="architecture_engineering_details">
                                                        <label class="form-check-label" for="architecture_engineering_no">No</label>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control risk-details" name="architecture_engineering_details" placeholder="Provide details..." disabled>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you sell tangible products?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="sell_tangible_products" id="tangible_yes" value="yes">
                                    <label class="form-check-label" for="tangible_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="sell_tangible_products" id="tangible_no" value="no">
                                    <label class="form-check-label" for="tangible_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="tangible_products_details">
                                <div class="row">
                                    <div class="col-md-8">
                                        <label for="tangible_products_description" class="form-label">If yes, describe the products:</label>
                                        <textarea class="form-control" id="tangible_products_description" name="tangible_products_description" rows="3"></textarea>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="tangible_products_revenue" class="form-label">% Revenue:</label>
                                        <input type="number" class="form-control" id="tangible_products_revenue" name="tangible_products_revenue" min="0" max="100" placeholder="0">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do you (or your subcontractors) install hardware at client sites?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="install_hardware" id="hardware_yes" value="yes">
                                    <label class="form-check-label" for="hardware_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="install_hardware" id="hardware_no" value="no">
                                    <label class="form-check-label" for="hardware_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="hardware_installation_details">
                                <label for="hardware_installation_revenue" class="form-label">If yes, % revenue:</label>
                                <input type="number" class="form-control" id="hardware_installation_revenue" name="hardware_installation_revenue" min="0" max="100" placeholder="0">
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you provide hosting services to third parties?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="hosting_services" id="hosting_yes" value="yes">
                                    <label class="form-check-label" for="hosting_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="hosting_services" id="hosting_no" value="no">
                                    <label class="form-check-label" for="hosting_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="hosting_services_details">
                                <div class="mb-3">
                                    <label class="form-label">If yes, do you use:</label>
                                    <div class="mt-2">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="hosting_infrastructure" id="hosting_own" value="own">
                                            <label class="form-check-label" for="hosting_own">Own Infrastructure</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="hosting_infrastructure" id="hosting_third_party" value="third_party">
                                            <label class="form-check-label" for="hosting_third_party">Third Party</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="conditional-field" id="third_party_hosting_details">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="third_party_name" class="form-label">If Third Party - Name:</label>
                                            <input type="text" class="form-control" id="third_party_name" name="third_party_name" placeholder="Provider name">
                                        </div>
                                        <div class="col-md-6">
                                            <label for="third_party_tier" class="form-label">Tier Rating:</label>
                                            <input type="text" class="form-control" id="third_party_tier" name="third_party_tier" placeholder="Tier rating">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you use artificial intelligence (AI) or machine learning (ML) tools in your business operations?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="ai_ml_usage" id="ai_yes" value="yes">
                                    <label class="form-check-label" for="ai_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="ai_ml_usage" id="ai_no" value="no">
                                    <label class="form-check-label" for="ai_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="ai_ml_details">
                                <label for="ai_ml_description" class="form-label">If yes, please provide details:</label>
                                <textarea class="form-control" id="ai_ml_description" name="ai_ml_description" rows="3" placeholder="Describe your AI/ML tools and usage"></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do you provide any managed IT services?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="managed_it_services" id="managed_it_yes" value="yes">
                                    <label class="form-check-label" for="managed_it_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="managed_it_services" id="managed_it_no" value="no">
                                    <label class="form-check-label" for="managed_it_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="managed_it_details">
                                <label for="managed_it_revenue" class="form-label">If yes, % revenue:</label>
                                <input type="number" class="form-control" id="managed_it_revenue" name="managed_it_revenue" min="0" max="100" placeholder="0">
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="customer_count" class="form-label">9. Approximately how many customers do you have?</label>
                            <input type="number" class="form-control" id="customer_count" name="customer_count" min="0" placeholder="0">
                            <div class="invalid-feedback">Please enter the number of customers.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. List the top 3 clients over the past 3 years</label>
                            <small class="form-text text-muted">Include: name, service provided, duration, value</small>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Client Name</th>
                                            <th>Service Provided</th>
                                            <th>Duration</th>
                                            <th>Value ($)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><input type="text" class="form-control" name="client_1_name" placeholder="Client 1 name"></td>
                                            <td><input type="text" class="form-control" name="client_1_service" placeholder="Service provided"></td>
                                            <td><input type="text" class="form-control" name="client_1_duration" placeholder="e.g., 2 years"></td>
                                            <td><input type="number" class="form-control" name="client_1_value" placeholder="0" min="0"></td>
                                        </tr>
                                        <tr>
                                            <td><input type="text" class="form-control" name="client_2_name" placeholder="Client 2 name"></td>
                                            <td><input type="text" class="form-control" name="client_2_service" placeholder="Service provided"></td>
                                            <td><input type="text" class="form-control" name="client_2_duration" placeholder="e.g., 1.5 years"></td>
                                            <td><input type="number" class="form-control" name="client_2_value" placeholder="0" min="0"></td>
                                        </tr>
                                        <tr>
                                            <td><input type="text" class="form-control" name="client_3_name" placeholder="Client 3 name"></td>
                                            <td><input type="text" class="form-control" name="client_3_service" placeholder="Service provided"></td>
                                            <td><input type="text" class="form-control" name="client_3_duration" placeholder="e.g., 6 months"></td>
                                            <td><input type="number" class="form-control" name="client_3_value" placeholder="0" min="0"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Section 4: Financials -->
                    <div class="form-section" data-section="4">
                        <h2 class="section-title">4. Financials</h2>
                        
                        <div class="mb-4">
                            <label for="financial_year_end" class="form-label">1. Date of financial year end</label>
                            <input type="date" class="form-control" id="financial_year_end" name="financial_year_end">
                            <div class="invalid-feedback">Please provide your financial year end date.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Provide gross revenues for:</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Period</th>
                                            <th>Canada ($)</th>
                                            <th>USA ($)</th>
                                            <th>Foreign ($)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>Last completed fiscal year end</strong></td>
                                            <td><input type="number" class="form-control" name="revenue_last_domestic" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_last_usa" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_last_foreign" min="0" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td><strong>Estimate for current fiscal year end</strong></td>
                                            <td><input type="number" class="form-control" name="revenue_current_domestic" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_current_usa" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_current_foreign" min="0" placeholder="0"></td>
                                        </tr>
                                        <tr>
                                            <td><strong>Estimate for next completed fiscal year end</strong></td>
                                            <td><input type="number" class="form-control" name="revenue_next_domestic" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_next_usa" min="0" placeholder="0"></td>
                                            <td><input type="number" class="form-control" name="revenue_next_foreign" min="0" placeholder="0"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="sales_b2b_percentage" class="form-label">3. Percentage of sales business to business</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="sales_b2b_percentage" name="sales_b2b_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                                <div class="invalid-feedback">Please enter the B2B sales percentage.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="sales_b2c_percentage" class="form-label">4. Percentage of sales business to consumer</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="sales_b2c_percentage" name="sales_b2c_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                                <div class="invalid-feedback">Please enter the B2C sales percentage.</div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="average_contract_value" class="form-label">5. Average contract value</label>
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" class="form-control" id="average_contract_value" name="average_contract_value" min="0" placeholder="0">
                            </div>
                            <div class="invalid-feedback">Please enter the average contract value.</div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do any single clients represent more than 5% of your total annual revenue?</label>
                            <div class="mt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="single_client_5_percent" id="client_5_percent_yes" value="yes">
                                    <label class="form-check-label" for="client_5_percent_yes">Yes</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="single_client_5_percent" id="client_5_percent_no" value="no">
                                    <label class="form-check-label" for="client_5_percent_no">No</label>
                                </div>
                            </div>
                            
                            <div class="conditional-field" id="client_5_percent_details">
                                <label for="client_5_percent_description" class="form-label">If yes, provide details:</label>
                                <textarea class="form-control" id="client_5_percent_description" name="client_5_percent_description" rows="3" placeholder="Describe which clients and their percentage of revenue"></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. List your largest 3 Projects or Contracts in the past 2 years</label>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Project/Contract Name</th>
                                            <th>Client</th>
                                            <th>Value ($)</th>
                                            <th>Duration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td><input type="text" class="form-control" name="project_1_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_1_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_1_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_1_duration" placeholder="e.g., 12 months"></td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td><input type="text" class="form-control" name="project_2_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_2_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_2_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_2_duration" placeholder="e.g., 8 months"></td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td><input type="text" class="form-control" name="project_3_name" placeholder="Project name"></td>
                                            <td><input type="text" class="form-control" name="project_3_client" placeholder="Client name"></td>
                                            <td><input type="number" class="form-control" name="project_3_value" placeholder="0" min="0"></td>
                                            <td><input type="text" class="form-control" name="project_3_duration" placeholder="e.g., 6 months"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="total_payroll" class="form-label">8. Total payroll</label>
                            <div class="input-group">
                                <span class="input-group-text">$</span>
                                <input type="number" class="form-control" id="total_payroll" name="total_payroll" min="0" placeholder="0">
                            </div>
                            <div class="invalid-feedback">Please enter the total payroll amount.</div>
                        </div>
                    </div>

                    <!-- Section 5: Contractual Controls -->
                    <div class="form-section" data-section="5">
                        <h2 class="section-title">5. Contractual Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do you rely solely on your terms of service to limit your liability to customers?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_tos_only" id="liability_tos_only_yes" value="yes">
                                <label class="form-check-label" for="liability_tos_only_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_tos_only" id="liability_tos_only_no" value="no">
                                <label class="form-check-label" for="liability_tos_only_no">No</label>
                            </div>
                            
                            <div id="liability_tos_details" class="mt-3" style="display: none;">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tos_customer_agreement" id="tos_customer_agreement_yes" value="yes">
                                    <label class="form-check-label" for="tos_customer_agreement_yes">Yes, customers are to agree to our terms of service</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tos_customer_agreement" id="tos_customer_agreement_no" value="no">
                                    <label class="form-check-label" for="tos_customer_agreement_no">No, customers are not to agree to our terms of service</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you use a written contract or agreement for 100% of all product and service engagements?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="written_contract_100" id="written_contract_100_yes" value="yes">
                                <label class="form-check-label" for="written_contract_100_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="written_contract_100" id="written_contract_100_no" value="no">
                                <label class="form-check-label" for="written_contract_100_no">No</label>
                            </div>
                            
                            <div id="written_contract_percentage" class="mt-3" style="display: none;">
                                <label for="contract_percentage" class="form-label">What percentage of engagements are governed by a written contract?</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="contract_percentage" name="contract_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. What percentage of engagements are under your own vs customer-provided contract?</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="own_contract_percentage" class="form-label">% of own contracts</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="own_contract_percentage" name="own_contract_percentage" min="0" max="100" placeholder="0">
                                        <span class="input-group-text">%</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="customer_contract_percentage" class="form-label">% of customer contracts</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="customer_contract_percentage" name="customer_contract_percentage" min="0" max="100" placeholder="0">
                                        <span class="input-group-text">%</span>
                                    </div>
                                </div>
                            </div>
                            <small class="form-text text-muted">The total should equal 100%</small>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Has your standard customer contract, including terms of service if applicable, been reviewed by your legal counsel?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legal_counsel_review" id="legal_counsel_review_yes" value="yes">
                                <label class="form-check-label" for="legal_counsel_review_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legal_counsel_review" id="legal_counsel_review_no" value="no">
                                <label class="form-check-label" for="legal_counsel_review_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do you have a clear process for reviewing and approving key contracts, including with clients, vendors, and other partners?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_none" value="No formal contract review or approval process exists.">
                                <label class="form-check-label" for="contract_review_process_none">No formal contract review or approval process exists.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_case_by_case" value="Contracts are reviewed on a case-by-case basis, typically by the CEO, founder, or internal stakeholders, but there is no consistent process, legal review, or formal approval protocol.">
                                <label class="form-check-label" for="contract_review_process_case_by_case">Contracts are reviewed on a case-by-case basis, typically by the CEO, founder, or internal stakeholders, but there is no consistent process, legal review, or formal approval protocol.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_defined" value="There is a defined contract review and approval process involving legal or executive oversight for key agreements.">
                                <label class="form-check-label" for="contract_review_process_defined">There is a defined contract review and approval process involving legal or executive oversight for key agreements.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_review_process" id="contract_review_process_documented" value="A documented workflow is in place with legal review, delegated signing authority, contract risk checks, and version control for all major agreements.">
                                <label class="form-check-label" for="contract_review_process_documented">A documented workflow is in place with legal review, delegated signing authority, contract risk checks, and version control for all major agreements.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do your standard contracts include limitations on your financial liability and legal liability, including for missing service levels?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_none" value="Standard contracts do not include any limitations of liability.">
                                <label class="form-check-label" for="liability_limitations_none">Standard contracts do not include any limitations of liability.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_inconsistent" value="Liability limits are included in standard contracts and sometimes negotiated, but they are not consistently applied or reviewed and often do not address consequential damages or SLA breaches.">
                                <label class="form-check-label" for="liability_limitations_inconsistent">Liability limits are included in standard contracts and sometimes negotiated, but they are not consistently applied or reviewed and often do not address consequential damages or SLA breaches.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_defined" value="Contracts include defined financial caps and disclaimers for indirect damages and SLA non-performance.">
                                <label class="form-check-label" for="liability_limitations_defined">Contracts include defined financial caps and disclaimers for indirect damages and SLA non-performance.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="liability_limitations" id="liability_limitations_tailored" value="The organization uses tailored limitation clauses covering direct and indirect risks, with regular legal review to align with evolving exposures and jurisdictions.">
                                <label class="form-check-label" for="liability_limitations_tailored">The organization uses tailored limitation clauses covering direct and indirect risks, with regular legal review to align with evolving exposures and jurisdictions.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you have a process to track contract obligations (timelines, deliverables, SLAs) and escalate issues if a project is at risk?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_none" value="We do not have a formal process to track projects.">
                                <label class="form-check-label" for="contract_tracking_none">We do not have a formal process to track projects.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_manual" value="We track key project deadlines and deliverables manually and escalatory actions vary by project or manager.">
                                <label class="form-check-label" for="contract_tracking_manual">We track key project deadlines and deliverables manually and escalatory actions vary by project or manager.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_system" value="A project management system is used to track deliverables, milestones, and SLAs, with internal reviews and escalation as needed.">
                                <label class="form-check-label" for="contract_tracking_system">A project management system is used to track deliverables, milestones, and SLAs, with internal reviews and escalation as needed.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contract_tracking" id="contract_tracking_integrated" value="Contract commitments are integrated into project and performance tracking tools, with automated alerts, escalation processes, and reporting to leadership.">
                                <label class="form-check-label" for="contract_tracking_integrated">Contract commitments are integrated into project and performance tracking tools, with automated alerts, escalation processes, and reporting to leadership.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="scope_change_handling" class="form-label">8. How do you handle changes in project scope, customer feedback, or issues needing corrective action?</label>
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_informal" value="Changes and feedback are handled informally without documentation.">
                                <label class="form-check-label" for="scope_change_handling_informal">Changes and feedback are handled informally without documentation.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_email" value="Changes are typically discussed and approved through email or meetings, with some controls like change request forms in place, but there is no structured tracking or sign-off and these controls are not used consistently.">
                                <label class="form-check-label" for="scope_change_handling_email">Changes are typically discussed and approved through email or meetings, with some controls like change request forms in place, but there is no structured tracking or sign-off and these controls are not used consistently.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_formal" value="There is a formal process for scope changes and issue resolution, including documentation, approvals, and updates to contracts or timelines.">
                                <label class="form-check-label" for="scope_change_handling_formal">There is a formal process for scope changes and issue resolution, including documentation, approvals, and updates to contracts or timelines.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="scope_change_handling" id="scope_change_handling_procedures" value="The company enforces change control procedures, customer feedback loops, root cause analysis, and continuous improvement tracking for service delivery.">
                                <label class="form-check-label" for="scope_change_handling_procedures">The company enforces change control procedures, customer feedback loops, root cause analysis, and continuous improvement tracking for service delivery.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Is there a formal process for customers to accept your product?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="formal_acceptance_process" id="formal_acceptance_process_yes" value="yes">
                                <label class="form-check-label" for="formal_acceptance_process_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="formal_acceptance_process" id="formal_acceptance_process_no" value="no">
                                <label class="form-check-label" for="formal_acceptance_process_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Do you subcontract professional services?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontract_services" id="subcontract_services_yes" value="yes">
                                <label class="form-check-label" for="subcontract_services_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontract_services" id="subcontract_services_no" value="no">
                                <label class="form-check-label" for="subcontract_services_no">No</label>
                            </div>
                            
                            <div id="subcontract_details" class="mt-3" style="display: none;">
                                <label for="subcontract_revenue_percentage" class="form-label">% of revenue to subcontractors</label>
                                <div class="input-group">
                                    <input type="number" class="form-control" id="subcontract_revenue_percentage" name="subcontract_revenue_percentage" min="0" max="100" placeholder="0">
                                    <span class="input-group-text">%</span>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="subcontractor_standards" class="form-label">11. How do you ensure your subcontractors meet the same insurance and risk standards that are required of you in your contracts?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_none" value="Subcontractors are not subject to any formal requirements.">
                                <label class="form-check-label" for="subcontractor_standards_none">Subcontractors are not subject to any formal requirements.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_uneven" value="Our contracts require subcontractors to carry insurance and comply with security terms, but there is no consistent process to verify compliance and enforcement is uneven.">
                                <label class="form-check-label" for="subcontractor_standards_uneven">Our contracts require subcontractors to carry insurance and comply with security terms, but there is no consistent process to verify compliance and enforcement is uneven.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_checked" value="Subcontractors must provide proof of compliance (e.g., COIs), and compliance is checked during onboarding.">
                                <label class="form-check-label" for="subcontractor_standards_checked">Subcontractors must provide proof of compliance (e.g., COIs), and compliance is checked during onboarding.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="subcontractor_standards" id="subcontractor_standards_embedded" value="Subcontractor risk controls are embedded in procurement and project workflows, with centralized tracking, renewal monitoring, and compliance audits.">
                                <label class="form-check-label" for="subcontractor_standards_embedded">Subcontractor risk controls are embedded in procurement and project workflows, with centralized tracking, renewal monitoring, and compliance audits.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="marketing_accuracy" class="form-label">12. How do you make sure claims about the performance of your products or services in marketing and sales materials are accurate?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_none" value="No process exists to verify marketing or sales claims.">
                                <label class="form-check-label" for="marketing_accuracy_none">No process exists to verify marketing or sales claims.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_basic" value="Marketing materials are created by internal teams with occasional product input and a basic review by product or leadership before release, but they are not reviewed for legal or factual accuracy.">
                                <label class="form-check-label" for="marketing_accuracy_basic">Marketing materials are created by internal teams with occasional product input and a basic review by product or leadership before release, but they are not reviewed for legal or factual accuracy.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_review" value="There is a review process involving legal, product, and marketing to ensure accuracy and compliance with advertising standards.">
                                <label class="form-check-label" for="marketing_accuracy_review">There is a review process involving legal, product, and marketing to ensure accuracy and compliance with advertising standards.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_accuracy" id="marketing_accuracy_structured" value="A structured marketing review process exists with documented substantiation for performance claims, legal signoff, and audit trails for compliance.">
                                <label class="form-check-label" for="marketing_accuracy_structured">A structured marketing review process exists with documented substantiation for performance claims, legal signoff, and audit trails for compliance.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">13. Do you have a process to identify and update legacy contracts that may not conform to your current standard templates?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_none" value="No formal process exists. Legacy contracts remain in place without review, regardless of alignment with current standards or protocols.">
                                <label class="form-check-label" for="legacy_contract_process_none">No formal process exists. Legacy contracts remain in place without review, regardless of alignment with current standards or protocols.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_occasional" value="Legacy contracts are occasionally reviewed or updated, but only when issues arise (e.g., disputes, renewals). No systematic approach or central oversight">
                                <label class="form-check-label" for="legacy_contract_process_occasional">Legacy contracts are occasionally reviewed or updated, but only when issues arise (e.g., disputes, renewals). No systematic approach or central oversight</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_structured" value="A structured process is in place to review and update legacy contracts, typically during renewals or major business changes. Some contracts may still fall outside current standards.">
                                <label class="form-check-label" for="legacy_contract_process_structured">A structured process is in place to review and update legacy contracts, typically during renewals or major business changes. Some contracts may still fall outside current standards.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="legacy_contract_process" id="legacy_contract_process_comprehensive" value="Comprehensive, proactive process in place with regular audits of all contracts. Legacy agreements are systematically identified, tracked, and updated to align with current templates and risk protocols.">
                                <label class="form-check-label" for="legacy_contract_process_comprehensive">Comprehensive, proactive process in place with regular audits of all contracts. Legacy agreements are systematically identified, tracked, and updated to align with current templates and risk protocols.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">14. Do your sales, marketing, or customer-facing materials use terms such as "guarantee" or "warranty" that could create obligations beyond contractual commitments or fall outside the scope of insurance coverage?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_yes" value="Sales and marketing materials may include “guarantee” or “warranty” language without legal or risk review.">
                                <label class="form-check-label" for="marketing_warranty_terms_yes">Sales and marketing materials may include “guarantee” or “warranty” language without legal or risk review.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_no" value="References to “guarantees” or “warranties” are occasionally reviewed, but not consistently controlled or approved by legal/risk teams.">
                                <label class="form-check-label" for="marketing_warranty_terms_no">References to “guarantees” or “warranties” are occasionally reviewed, but not consistently controlled or approved by legal/risk teams.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_managed" value="Marketing and sales content is generally reviewed by legal or compliance before publication. Warranty or guarantee language is identified and managed, though gaps may still exist in older or decentralized materials.">
                                <label class="form-check-label" for="marketing_warranty_terms_managed">Marketing and sales content is generally reviewed by legal or compliance before publication. Warranty or guarantee language is identified and managed, though gaps may still exist in older or decentralized materials.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="marketing_warranty_terms" id="marketing_warranty_terms_systematic" value="All marketing and sales materials are systematically vetted to avoid unintended guarantees/warranties. Employees are trained on the insurance and liability implications of such terms, ensuring alignment with contractual and insurance protections.">
                                <label class="form-check-label" for="marketing_warranty_terms_systematic">All marketing and sales materials are systematically vetted to avoid unintended guarantees/warranties. Employees are trained on the insurance and liability implications of such terms, ensuring alignment with contractual and insurance protections.</label>
                            </div>
                        </div>
                    </div>

                    <!-- Section 6: Cybersecurity, Technical & Crime Controls -->
                    <div class="form-section" data-section="6">
                        <h2 class="section-title">6. Cybersecurity, Technical & Crime Controls</h2>
                        
                        <div class="mb-4">
                            <label for="cybersecurity_responsibility" class="form-label">1. Who is responsible for overseeing cybersecurity on a day-to-day basis?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_none" value="No one is formally responsible for cybersecurity.">
                                <label class="form-check-label" for="cybersecurity_responsibility_none">No one is formally responsible for cybersecurity.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_informal" value="Cybersecurity responsibilities are informally assigned, usually handled part-time by IT, operations, or a designated staff member.">
                                <label class="form-check-label" for="cybersecurity_responsibility_informal">Cybersecurity responsibilities are informally assigned, usually handled part-time by IT, operations, or a designated staff member.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_fulltime" value="A full-time staff member or external provider is responsible, with defined oversight.">
                                <label class="form-check-label" for="cybersecurity_responsibility_fulltime">A full-time staff member or external provider is responsible, with defined oversight.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_responsibility" id="cybersecurity_responsibility_ciso" value="A qualified internal or external CISO manages cybersecurity with clear authority, reporting, and board-level oversight.">
                                <label class="form-check-label" for="cybersecurity_responsibility_ciso">A qualified internal or external CISO manages cybersecurity with clear authority, reporting, and board-level oversight.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="cybersecurity_policy" class="form-label">2. Is there a formal cybersecurity policy in place for employees to follow?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_none" value="No cybersecurity policy exists.">
                                <label class="form-check-label" for="cybersecurity_policy_none">No cybersecurity policy exists.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_outdated" value="A policy exists and is shared with employees during onboarding but it may be outdated or not consistently distributed to all staff beyond initial hiring.">
                                <label class="form-check-label" for="cybersecurity_policy_outdated">A policy exists and is shared with employees during onboarding but it may be outdated or not consistently distributed to all staff beyond initial hiring.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_current" value="The policy is current, distributed to all employees, and acknowledged in writing.">
                                <label class="form-check-label" for="cybersecurity_policy_current">The policy is current, distributed to all employees, and acknowledged in writing.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cybersecurity_policy" id="cybersecurity_policy_comprehensive" value="A comprehensive, regularly updated policy is enforced and supported with training and accountability mechanisms.">
                                <label class="form-check-label" for="cybersecurity_policy_comprehensive">A comprehensive, regularly updated policy is enforced and supported with training and accountability mechanisms.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="cyber_training" class="form-label">3. Do all team members receive regular training to help them recognize cyber threats and scams?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_none" value="No cybersecurity training is provided.">
                                <label class="form-check-label" for="cyber_training_none">No cybersecurity training is provided.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_informal" value="Most employees receive annual training, but it may be informal, one-time, or not consistently tracked.">
                                <label class="form-check-label" for="cyber_training_informal">Most employees receive annual training, but it may be informal, one-time, or not consistently tracked.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_annual" value="All employees receive mandatory cybersecurity training annually.">
                                <label class="form-check-label" for="cyber_training_annual">All employees receive mandatory cybersecurity training annually.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="cyber_training" id="cyber_training_ongoing" value="Training is ongoing, tailored by role, and includes phishing simulations and tracking of completion and performance.">
                                <label class="form-check-label" for="cyber_training_ongoing">Training is ongoing, tailored by role, and includes phishing simulations and tracking of completion and performance.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="mfa_requirement" class="form-label">4. Is multi-factor authentication (MFA) required for accessing company systems, email, and cloud tools remotely?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_none" value="MFA is not used.">
                                <label class="form-check-label" for="mfa_requirement_none">MFA is not used.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_inconsistent" value="MFA is required for remote access to critical systems and used for some other users or systems, but overall implementation is inconsistent.">
                                <label class="form-check-label" for="mfa_requirement_inconsistent">MFA is required for remote access to critical systems and used for some other users or systems, but overall implementation is inconsistent.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_enforced" value="MFA is enforced for all users across remote and cloud environments.">
                                <label class="form-check-label" for="mfa_requirement_enforced">MFA is enforced for all users across remote and cloud environments.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="mfa_requirement" id="mfa_requirement_universal" value="MFA is universally enforced, regularly tested, and monitored for compliance and anomalies.">
                                <label class="form-check-label" for="mfa_requirement_universal">MFA is universally enforced, regularly tested, and monitored for compliance and anomalies.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="remote_access_security" class="form-label">5. Is remote access to your internal or cloud systems restricted to secure methods like VPN or SSO and protected with MFA?</label>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_open" value="Remote access is open or unmanaged.">
                                <label class="form-check-label" for="remote_access_security_open">Remote access is open or unmanaged.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_passwords" value="Remote access typically relies on passwords and may use VPN or SSO, but secure controls like MFA are not consistently applied.">
                                <label class="form-check-label" for="remote_access_security_passwords">Remote access typically relies on passwords and may use VPN or SSO, but secure controls like MFA are not consistently applied.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_secure" value="Secure access (VPN or SSO) with MFA is required for all remote users.">
                                <label class="form-check-label" for="remote_access_security_secure">Secure access (VPN or SSO) with MFA is required for all remote users.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="remote_access_security" id="remote_access_security_controlled" value="Remote access is tightly controlled with policy enforcement, MFA, and centralized access logging.">
                                <label class="form-check-label" for="remote_access_security_controlled">Remote access is tightly controlled with policy enforcement, MFA, and centralized access logging.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="device_protection" class="form-label">6. What tools or protections secure employee devices and email from cyber threats?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_none" value="Devices and email are not protected by security tools.">
                                <label class="form-check-label" for="device_protection_none">Devices and email are not protected by security tools.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_basic" value="Basic antivirus, standard endpoint protection, and email filtering are in place.">
                                <label class="form-check-label" for="device_protection_basic">Basic antivirus, standard endpoint protection, and email filtering are in place.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_edr" value="Devices are protected by centrally managed EDR, and email systems have advanced filtering and threat detection.">
                                <label class="form-check-label" for="device_protection_edr">Devices are protected by centrally managed EDR, and email systems have advanced filtering and threat detection.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="device_protection" id="device_protection_layered" value="A layered security stack is deployed across all devices and email accounts, including EDR, DLP, and sandboxing.">
                                <label class="form-check-label" for="device_protection_layered">A layered security stack is deployed across all devices and email accounts, including EDR, DLP, and sandboxing.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="user_access_management" class="form-label">7. How is user access managed, including setting, adjusting, and promptly removing access?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_manual" value="Access is granted manually and rarely updated.">
                                <label class="form-check-label" for="user_access_management_manual">Access is granted manually and rarely updated.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_reviewed" value="Access rights are adjusted as needed and reviewed occasionally, with revocation upon termination, though delays may occur.">
                                <label class="form-check-label" for="user_access_management_reviewed">Access rights are adjusted as needed and reviewed occasionally, with revocation upon termination, though delays may occur.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_manual" value="Role-based access controls are in place with regular access reviews.">
                                <label class="form-check-label" for="user_access_management_manual">Role-based access controls are in place with regular access reviews.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="user_access_management" id="user_access_management_central" value="Access is centrally managed, provisioned by role, reviewed quarterly, and automatically revoked upon role change or termination.">
                                <label class="form-check-label" for="user_access_management_reviewed">Access is centrally managed, provisioned by role, reviewed quarterly, and automatically revoked upon role change or termination.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="activity_logs" class="form-label">8. Do you collect and review activity logs across your IT environment?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_none" value="No activity logs are collected or retained.">
                                <label class="form-check-label" for="activity_logs_none">No activity logs are collected or retained.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_reactive" value="Logs are collected from key systems but are not actively monitored, and reviews are performed reactively.">
                                <label class="form-check-label" for="activity_logs_reactive">Logs are collected from key systems but are not actively monitored, and reviews are performed reactively.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_centralized" value="Centralized log management is in place with routine review and alerting.">
                                <label class="form-check-label" for="activity_logs_none">Centralized log management is in place with routine review and alerting.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="activity_logs" id="activity_logs_siem" value="Logs are collected, analyzed with SIEM tools, and reviewed proactively with incident response integration.">
                                <label class="form-check-label" for="activity_logs_reactive">Logs are collected, analyzed with SIEM tools, and reviewed proactively with incident response integration.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="threat_detection" class="form-label">9. Do you use tools or services to identify cyber threats or unusual system activity in real time?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_none" value="No tools are used to monitor system activity or threats.">
                                <label class="form-check-label" for="threat_detection_none">No tools are used to monitor system activity or threats.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_basic" value="Basic alerts come from standard antivirus or firewall tools, with some real-time monitoring in place, though it is not centrally managed.">
                                <label class="form-check-label" for="threat_detection_basic">Basic alerts come from standard antivirus or firewall tools, with some real-time monitoring in place, though it is not centrally managed.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_realtime" value="Real-time threat detection tools are used and monitored by internal or external IT/security teams.">
                                <label class="form-check-label" for="threat_detection_none">Real-time threat detection tools are used and monitored by internal or external IT/security teams.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="threat_detection" id="threat_detection_integrated" value="A fully integrated threat detection and response system (e.g., MDR, SIEM) monitors activity 24/7 with alerting and escalation.">
                                <label class="form-check-label" for="threat_detection_basic">A fully integrated threat detection and response system (e.g., MDR, SIEM) monitors activity 24/7 with alerting and escalation.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="technology_management" class="form-label">10. How does your organization manage aging technology and ensure software and systems stay updated and supported?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_irregular" value="Software updates and patching are done irregularly or not at all.">
                                <label class="form-check-label" for="technology_management_irregular">Software updates and patching are done irregularly or not at all.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_periodic" value="Most systems are updated periodically, though some legacy systems remain unsupported, and updates often occur reactively without a set schedule.">
                                <label class="form-check-label" for="technology_management_periodic">Most systems are updated periodically, though some legacy systems remain unsupported, and updates often occur reactively without a set schedule.</label>
                            </div>
                             <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_tracked" value="Key systems are tracked, security patches are regularly applied, and major upgrades are planned every few years, though some older systems remain in use if still functional.">
                                <label class="form-check-label" for="technology_management_irregular">Key systems are tracked, security patches are regularly applied, and major upgrades are planned every few years, though some older systems remain in use if still functional.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="technology_management" id="technology_management_proactive" value="Systems are proactively monitored for EOL/EOS, with automated patching and lifecycle management to maintain secure, supported software.">
                                <label class="form-check-label" for="technology_management_periodic">Systems are proactively monitored for EOL/EOS, with automated patching and lifecycle management to maintain secure, supported software.</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="firewall_protection" class="form-label">11. Are firewalls in place to protect the network perimeter and to segment internal networks?</label>
                            <textarea class="form-control" id="firewall_protection" name="firewall_protection" rows="2" placeholder="Please describe your firewall configuration..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">12. Are internal/external vulnerability scans or penetration tests of your network performed?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="vulnerability_scans" id="vulnerability_scans_yes" value="yes">
                                <label class="form-check-label" for="vulnerability_scans_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="vulnerability_scans" id="vulnerability_scans_no" value="no">
                                <label class="form-check-label" for="vulnerability_scans_no">No</label>
                            </div>
                            
                            <div id="vulnerability_details" class="mt-3" style="display: none;">
                                <label for="vulnerability_frequency_methods" class="form-label">If yes, frequency and methods:</label>
                                <textarea class="form-control" id="vulnerability_frequency_methods" name="vulnerability_frequency_methods" rows="2" placeholder="Please describe frequency and methods of vulnerability scans/penetration tests..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="user_access_restrictions" class="form-label">13. Do you restrict user access/permissions to a need-to-know basis?</label>
                            <textarea class="form-control" id="user_access_restrictions" name="user_access_restrictions" rows="2" placeholder="Please describe your access restriction policy..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="unused_services" class="form-label">14. Are unused/unneeded network services and ports disabled or closed promptly?</label>
                            <textarea class="form-control" id="unused_services" name="unused_services" rows="2" placeholder="Please describe how you handle unused network services and ports..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">15. Name your service provider for each function:</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <label for="datacenter_provider" class="form-label">Data center/cloud hosting</label>
                                    <input type="text" class="form-control" id="datacenter_provider" name="datacenter_provider" placeholder="Provider name">
                                </div>
                                <div class="col-md-6">
                                    <label for="managed_security_provider" class="form-label">Managed security service</label>
                                    <input type="text" class="form-control" id="managed_security_provider" name="managed_security_provider" placeholder="Provider name">
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-md-6">
                                    <label for="security_monitoring_provider" class="form-label">Security event/alert monitoring</label>
                                    <input type="text" class="form-control" id="security_monitoring_provider" name="security_monitoring_provider" placeholder="Provider name">
                                </div>
                                <div class="col-md-6">
                                    <label for="managed_it_provider" class="form-label">Managed IT service provider</label>
                                    <input type="text" class="form-control" id="managed_it_provider" name="managed_it_provider" placeholder="Provider name">
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="departing_employee_procedure" class="form-label">16. Do you have a formal procedure for departing employees that includes revoking access to systems and recovery of all company devices/credentials?</label>
                            <textarea class="form-control" id="departing_employee_procedure" name="departing_employee_procedure" rows="3" placeholder="Please describe your departing employee procedure..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">17. Do you require more than one person to approve high-risk financial transactions like wire transfers?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_none" value="No approval process is required; a single individual can execute high-risk transactions.">
                                <label class="form-check-label" for="dual_approval_financial_none">No approval process is required; a single individual can execute high-risk transactions.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_inconsistent" value="Dual approval is expected for some transactions and occasionally required, but it is not consistently applied, enforced, or documented.">
                                <label class="form-check-label" for="dual_approval_financial_inconsistent">Dual approval is expected for some transactions and occasionally required, but it is not consistently applied, enforced, or documented.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_enforced" value="A dual-approval policy is enforced for all high-risk transactions (e.g., wire transfers, bank account changes), with audit trail documentation.">
                                <label class="form-check-label" for="dual_approval_financial_none">A dual-approval policy is enforced for all high-risk transactions (e.g., wire transfers, bank account changes), with audit trail documentation.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="dual_approval_financial" id="dual_approval_financial_mandatory" value="Dual authorization is mandatory for all high-risk transactions, embedded in financial systems, with tiered thresholds, role-based permissions, fraud alerts, and periodic audits to verify compliance.">
                                <label class="form-check-label" for="dual_approval_financial_inconsistent">Dual authorization is mandatory for all high-risk transactions, embedded in financial systems, with tiered thresholds, role-based permissions, fraud alerts, and periodic audits to verify compliance.</label>
                            </div>                            
                        </div>

                        <div class="mb-4">
                            <label for="financial_fraud_controls" class="form-label">18. What controls are in place to prevent and detect financial fraud, including scams targeting incoming and outgoing wire transfers or internal theft?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_none" value=" No formal controls or monitoring systems are in place; the company relies on trust or informal checks.">
                                <label class="form-check-label" for="financial_fraud_controls_none"> No formal controls or monitoring systems are in place; the company relies on trust or informal checks.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_basic" value="Basic safeguards exist, such as accounting software permissions and finance team reviews, with some vendor verification and fraud awareness efforts, but proactive measures against risks like phishing, business email compromise, or internal theft are limited, and monitoring is minimal.">
                                <label class="form-check-label" for="financial_fraud_controls_none">Basic safeguards exist, such as accounting software permissions and finance team reviews, with some vendor verification and fraud awareness efforts, but proactive measures against risks like phishing, business email compromise, or internal theft are limited, and monitoring is minimal.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_documented" value="Documented fraud prevention policies exist, with training, vendor validation, audit logs, and periodic financial audits or reconciliations.">
                                <label class="form-check-label" for="financial_fraud_controls_none">Documented fraud prevention policies exist, with training, vendor validation, audit logs, and periodic financial audits or reconciliations.</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="financial_fraud_controls" id="financial_fraud_controls_formal" value="A formal fraud prevention framework is in place, including dual controls, transaction monitoring, fraud detection tools, employee training, whistleblower protections, and regular testing or audits of financial systems.">
                                <label class="form-check-label" for="financial_fraud_controls_none">A formal fraud prevention framework is in place, including dual controls, transaction monitoring, fraud detection tools, employee training, whistleblower protections, and regular testing or audits of financial systems.</label>
                            </div>
                        </div>
                    </div>

                    <!-- Section 7: Data Backup & Business Continuity & Supply Chain Controls -->
                    <div class="form-section" data-section="7">
                        <h2 class="section-title">7. Data Backup & Business Continuity & Supply Chain Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. What processes are in place to quickly detect and respond to data breaches or unauthorized access?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="breach_detection_response" id="breach_detection_response_1" value="1">
                                    <label class="form-check-label" for="breach_detection_response_1">No formal detection or response process exists.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="breach_detection_response" id="breach_detection_response_2" value="2">
                                    <label class="form-check-label" for="breach_detection_response_2">Incidents are handled reactively when staff notice something suspicious, supported by basic detection tools like antivirus and system logs, but incident response is largely ad hoc.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="breach_detection_response" id="breach_detection_response_3" value="3">
                                    <label class="form-check-label" for="breach_detection_response_3">A defined incident response plan exists, with detection tools, trained responders, and escalation protocols.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="breach_detection_response" id="breach_detection_response_4" value="4">
                                    <label class="form-check-label" for="breach_detection_response_4">A comprehensive incident response program includes 24/7 monitoring, real-time alerting, runbooks, tabletop testing, and post-incident review.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you have a communications plan to protect your company's reputation in the event of a major issue or breach?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="communications_plan" id="communications_plan_1" value="1">
                                    <label class="form-check-label" for="communications_plan_1">No communications plan exists for handling incidents.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="communications_plan" id="communications_plan_2" value="2">
                                    <label class="form-check-label" for="communications_plan_2">Incident responses are generally handled by PR or leadership, supported by a basic communications plan with draft statements and designated spokespersons, but there is no formal protocol.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="communications_plan" id="communications_plan_3" value="3">
                                    <label class="form-check-label" for="communications_plan_3">A formal reputational risk communications plan is documented, with media, legal, and customer messaging protocols.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="communications_plan" id="communications_plan_4" value="4">
                                    <label class="form-check-label" for="communications_plan_4">The company maintains a comprehensive communications playbook for crisis events, including breach notification, regulatory guidance, and stakeholder outreach, tested regularly through simulations.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. Do you have backup systems to recover data after a cyber incident or outage?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="backup_systems" id="backup_systems_1" value="1">
                                    <label class="form-check-label" for="backup_systems_1">No backup systems exist.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="backup_systems" id="backup_systems_2" value="2">
                                    <label class="form-check-label" for="backup_systems_2">Regular backups are taken and stored offsite or in the cloud, but not all data is covered, testing is limited, and updates may not be consistent.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="backup_systems" id="backup_systems_3" value="3">
                                    <label class="form-check-label" for="backup_systems_3">Backups are automated, encrypted, and tested periodically for critical systems.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="backup_systems" id="backup_systems_4" value="4">
                                    <label class="form-check-label" for="backup_systems_4">An enterprise-grade backup and recovery system is in place with real-time replication, frequent testing, and integration into the overall incident response strategy.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. If systems go down, how quickly can you get your critical data and operations back online?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_time" id="recovery_time_1" value="1">
                                    <label class="form-check-label" for="recovery_time_1">There is no defined recovery timeframe; recovery would be improvised.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_time" id="recovery_time_2" value="2">
                                    <label class="form-check-label" for="recovery_time_2">A target recovery window is defined for key systems (e.g., 48–72 hours), but for other areas recovery could take several days, and there are no documented targets.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_time" id="recovery_time_3" value="3">
                                    <label class="form-check-label" for="recovery_time_3">Recovery goals (RTOs) are set by system tier, with most critical services recoverable within 24 hours.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_time" id="recovery_time_4" value="4">
                                    <label class="form-check-label" for="recovery_time_4">Rapid recovery (RTO < 4 hours for critical systems) is enabled via automated failover, and performance against RTOs is tested and validated.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do you maintain business continuity and disaster recovery plans, and what are your key recovery goals?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="continuity_recovery_plans" id="continuity_recovery_plans_1" value="1">
                                    <label class="form-check-label" for="continuity_recovery_plans_1">No formal plans exist.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="continuity_recovery_plans" id="continuity_recovery_plans_2" value="2">
                                    <label class="form-check-label" for="continuity_recovery_plans_2">Recovery plans exist with defined Recovery Time Objectives and Recovery Point Objectives and some written procedures, but they are not thoroughly tested or fully aligned to recovery goals.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="continuity_recovery_plans" id="continuity_recovery_plans_3" value="3">
                                    <label class="form-check-label" for="continuity_recovery_plans_3">BCP and DRP are documented, with role assignments, key systems prioritized, and regular stakeholder reviews.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="continuity_recovery_plans" id="continuity_recovery_plans_4" value="4">
                                    <label class="form-check-label" for="continuity_recovery_plans_4">Continuity and disaster recovery plans are fully developed, tested regularly, and aligned to business impact analyses with clearly defined and measured RTOs/RPOs.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. How often are recovery plans tested, and what improvements have resulted?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_testing" id="recovery_testing_1" value="1">
                                    <label class="form-check-label" for="recovery_testing_1">Recovery plans are never tested.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_testing" id="recovery_testing_2" value="2">
                                    <label class="form-check-label" for="recovery_testing_2">Recovery plans are reviewed occasionally and tested annually, with some lessons learned incorporated, but exercises are not frequent or comprehensive.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_testing" id="recovery_testing_3" value="3">
                                    <label class="form-check-label" for="recovery_testing_3">Tests are conducted at least twice per year, with results documented and improvements tracked.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="recovery_testing" id="recovery_testing_4" value="4">
                                    <label class="form-check-label" for="recovery_testing_4">Plans are tested regularly using realistic scenarios (e.g., tabletop and live failover), with continuous improvement cycles and executive oversight.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you rely on third parties for critical business operations (Cloud providers, managed IT, payment processors, API data)?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_reliance" id="third_party_reliance_yes" value="yes">
                                    <label class="form-check-label" for="third_party_reliance_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_reliance" id="third_party_reliance_no" value="no">
                                    <label class="form-check-label" for="third_party_reliance_no">No</label>
                                </div>
                            </div>
                            
                            <div id="third_party_details" class="mt-3" style="display: none;">
                                <div class="mb-3">
                                    <label for="key_suppliers" class="form-label">Please list key suppliers and functions they support:</label>
                                    <textarea class="form-control" id="key_suppliers" name="key_suppliers" rows="3" placeholder="List key suppliers and their functions..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Does your business continuity or disaster recovery plan specifically address prolonged outages of critical third-party services?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_outage_plan" id="third_party_outage_plan_1" value="1">
                                    <label class="form-check-label" for="third_party_outage_plan_1">Our business continuity and disaster recovery plans do not specifically address prolonged outages of critical third-party services.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_outage_plan" id="third_party_outage_plan_2" value="2">
                                    <label class="form-check-label" for="third_party_outage_plan_2">Our plans generally mention third-party risks, but do not include detailed strategies for extended outages of critical providers.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_outage_plan" id="third_party_outage_plan_3" value="3">
                                    <label class="form-check-label" for="third_party_outage_plan_3">Our plans include scenarios for disruptions to critical third-party services, but they are not deeply detailed or regularly tested.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_outage_plan" id="third_party_outage_plan_4" value="4">
                                    <label class="form-check-label" for="third_party_outage_plan_4">Our business continuity and disaster recovery plans explicitly cover prolonged outages of critical third-party services, with documented procedures, alternate arrangements, and regular testing.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Have you assessed how a primary cloud provider outage would impact your operations, and does your continuity plan address this?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="cloud_provider_assessment" id="cloud_provider_assessment_1" value="1">
                                    <label class="form-check-label" for="cloud_provider_assessment_1">No assessment has been done, and no contingency exists for cloud service failure.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="cloud_provider_assessment" id="cloud_provider_assessment_2" value="2">
                                    <label class="form-check-label" for="cloud_provider_assessment_2">Cloud risks are informally acknowledged, with documented impacts of downtime and some alternate communication or manual processes identified, but they are not fully integrated into formal planning.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="cloud_provider_assessment" id="cloud_provider_assessment_3" value="3">
                                    <label class="form-check-label" for="cloud_provider_assessment_3">Cloud dependency is mapped in continuity plans, and mitigations (e.g., data export, failover zones) are in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="cloud_provider_assessment" id="cloud_provider_assessment_4" value="4">
                                    <label class="form-check-label" for="cloud_provider_assessment_4">Cloud risk is deeply integrated into BCP, with multi-region failover, vendor SLAs, and automated recovery tested regularly.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. How do you investigate and address the root cause of major security incidents, service problems, or customer complaints?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="incident_investigation" id="incident_investigation_1" value="1">
                                    <label class="form-check-label" for="incident_investigation_1">Root cause is not formally investigated; focus is only on fixing the immediate issue.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="incident_investigation" id="incident_investigation_2" value="2">
                                    <label class="form-check-label" for="incident_investigation_2">Issues are discussed internally, with root cause reviews and some documentation or follow-up for significant incidents, but lessons learned and corrective actions are applied inconsistently.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="incident_investigation" id="incident_investigation_3" value="3">
                                    <label class="form-check-label" for="incident_investigation_3">A structured post-incident review (PIR) process is used for all major events, with documented corrective actions.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="incident_investigation" id="incident_investigation_4" value="4">
                                    <label class="form-check-label" for="incident_investigation_4">Formal root cause analysis is conducted with executive oversight, cross-functional input, tracked improvements, and trend analysis.</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 8: Third Party, Vendor & Supply Chain Controls -->
                    <div class="form-section" data-section="8">
                        <h2 class="section-title">8. Third Party, Vendor & Supply Chain Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. What steps are taken when bringing on a new customer to assess potential risks to your business?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="customer_risk_assessment" id="customer_risk_assessment_1" value="1">
                                    <label class="form-check-label" for="customer_risk_assessment_1">No formal risk assessment is conducted before onboarding new customers.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="customer_risk_assessment" id="customer_risk_assessment_2" value="2">
                                    <label class="form-check-label" for="customer_risk_assessment_2">Vetting is mostly informal, relying on relationship history or perceived reputation, with some credit or legal checks performed, but these are not standardized.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="customer_risk_assessment" id="customer_risk_assessment_3" value="3">
                                    <label class="form-check-label" for="customer_risk_assessment_3">The company uses a risk-based onboarding process including financial, operational, and legal reviews for high-risk customers.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="customer_risk_assessment" id="customer_risk_assessment_4" value="4">
                                    <label class="form-check-label" for="customer_risk_assessment_4">A formal customer risk assessment framework is in place, including KYC, creditworthiness, contract risk, regulatory exposure, and service capacity evaluation.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you have a formal due diligence process to evaluate potential risks when onboarding new vendors or suppliers?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_due_diligence" id="vendor_due_diligence_1" value="1">
                                    <label class="form-check-label" for="vendor_due_diligence_1">Vendors are onboarded informally with no checks or documentation.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_due_diligence" id="vendor_due_diligence_2" value="2">
                                    <label class="form-check-label" for="vendor_due_diligence_2">Basic vetting is performed, such as checking references and requiring insurance certificates from vendors, but reviews of insurance and risk factors are inconsistent and formal risk assessments are rare.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_due_diligence" id="vendor_due_diligence_3" value="3">
                                    <label class="form-check-label" for="vendor_due_diligence_3">Onboarding includes documented review of insurance, security, and financial risk, with sign-off by relevant departments.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_due_diligence" id="vendor_due_diligence_4" value="4">
                                    <label class="form-check-label" for="vendor_due_diligence_4">A structured onboarding workflow is in place, including insurance verification, legal review, risk scoring, and approval gates for higher-risk vendors.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. How does your organization assess and monitor the cybersecurity posture of third-party vendors, and what steps are taken if a vendor is found to pose elevated risk?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_cybersecurity_assessment" id="vendor_cybersecurity_assessment_1" value="1">
                                    <label class="form-check-label" for="vendor_cybersecurity_assessment_1">We don't currently assess vendor cybersecurity posture and rely on vendors to manage their own risks.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_cybersecurity_assessment" id="vendor_cybersecurity_assessment_2" value="2">
                                    <label class="form-check-label" for="vendor_cybersecurity_assessment_2">We conduct basic due diligence when onboarding vendors, such as reviewing security questionnaires, but we don't monitor risk on an ongoing basis.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_cybersecurity_assessment" id="vendor_cybersecurity_assessment_3" value="3">
                                    <label class="form-check-label" for="vendor_cybersecurity_assessment_3">We assess vendor cyber risk at onboarding and periodically review key vendors' security posture. If a vendor is found to pose elevated risk, we may request remediation or consider contract changes.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_cybersecurity_assessment" id="vendor_cybersecurity_assessment_4" value="4">
                                    <label class="form-check-label" for="vendor_cybersecurity_assessment_4">We use continuous monitoring tools (e.g., third-party risk scoring or threat intelligence platforms) to track vendor cybersecurity posture in real time. High-risk vendors trigger formal escalation protocols, including audits, contractual enforcement, or offboarding if necessary.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you have redundant systems or alternate suppliers in place to minimize disruption if a critical third party fails or is unavailable?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="redundant_systems" id="redundant_systems_1" value="1">
                                    <label class="form-check-label" for="redundant_systems_1">We rely on single providers for critical services and would face major disruption if one failed.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="redundant_systems" id="redundant_systems_2" value="2">
                                    <label class="form-check-label" for="redundant_systems_2">We are aware of possible alternates but have no formal agreements or automated systems. Switching would be manual and could be delayed.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="redundant_systems" id="redundant_systems_3" value="3">
                                    <label class="form-check-label" for="redundant_systems_3">We have identified and maintain relationships with alternate suppliers, or have partial redundant systems for critical functions. However, these are not fully integrated or routinely tested, so some disruption could still occur.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="redundant_systems" id="redundant_systems_4" value="4">
                                    <label class="form-check-label" for="redundant_systems_4">We have fully redundant systems and formal agreements with alternative suppliers, along with tested failover processes, to ensure minimal disruption in the event of a critical third-party failure. These contingencies are regularly reviewed and tested as part of our business continuity program.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do your vendors agree to take responsibility if they mishandle personal or confidential information?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_liability" id="vendor_liability_1" value="1">
                                    <label class="form-check-label" for="vendor_liability_1">There are no contract terms addressing vendor responsibility for data mishandling.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_liability" id="vendor_liability_2" value="2">
                                    <label class="form-check-label" for="vendor_liability_2">Many vendor contracts include general confidentiality or data protection clauses, but the enforceability, scope, and presence of liability terms vary.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_liability" id="vendor_liability_3" value="3">
                                    <label class="form-check-label" for="vendor_liability_3">Vendor agreements include specific data handling obligations, breach notification requirements, and indemnity clauses.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_liability" id="vendor_liability_4" value="4">
                                    <label class="form-check-label" for="vendor_liability_4">All vendor agreements involving sensitive data include legally vetted, standardized language on liability, data safeguards, breach response, and indemnification for damages.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do your critical vendors provide proof of strong security practices (like SOC 2 or ISO 27001), and how often is that reviewed?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_security_practices" id="vendor_security_practices_1" value="1">
                                    <label class="form-check-label" for="vendor_security_practices_1">No security documentation is requested from vendors.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_security_practices" id="vendor_security_practices_2" value="2">
                                    <label class="form-check-label" for="vendor_security_practices_2">Security credentials, such as SOC 2 or ISO 27001 reports, are requested from critical vendors during onboarding, but overall reviews and ongoing tracking are inconsistent.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_security_practices" id="vendor_security_practices_3" value="3">
                                    <label class="form-check-label" for="vendor_security_practices_3">Security documentation is required and reviewed at onboarding and annually for all high-risk vendors.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="vendor_security_practices" id="vendor_security_practices_4" value="4">
                                    <label class="form-check-label" for="vendor_security_practices_4">A formal third-party security assessment program is in place, with regular audits, attestation reviews, and automated tracking of vendor certifications and renewals.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do your third-party contracts that involve APIs include data protection and liability terms?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_contracts" id="api_contracts_1" value="1">
                                    <label class="form-check-label" for="api_contracts_1">No specific data protection or liability clauses are included in contracts.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_contracts" id="api_contracts_2" value="2">
                                    <label class="form-check-label" for="api_contracts_2">Contracts include general data security and confidentiality terms that apply to API use, but they may not specifically address API-related risks.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_contracts" id="api_contracts_3" value="3">
                                    <label class="form-check-label" for="api_contracts_3">API-integrated contracts specify data protection responsibilities, liability for breaches, and usage limits.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_contracts" id="api_contracts_4" value="4">
                                    <label class="form-check-label" for="api_contracts_4">Third-party contracts include detailed API-specific clauses (e.g., data use, retention, security standards, breach notification, indemnity) reviewed by legal and security teams.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. How do you ensure third-party or open-source components meet your company's quality and security expectations before use?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="component_security" id="component_security_1" value="1">
                                    <label class="form-check-label" for="component_security_1">Components are used without any evaluation or tracking.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="component_security" id="component_security_2" value="2">
                                    <label class="form-check-label" for="component_security_2">Developers choose components mainly based on familiarity or popularity and vet them for functionality, but security and licensing risks are not systematically reviewed.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="component_security" id="component_security_3" value="3">
                                    <label class="form-check-label" for="component_security_3">Components must meet internal guidelines and are checked for known vulnerabilities and license terms before use.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="component_security" id="component_security_4" value="4">
                                    <label class="form-check-label" for="component_security_4">A formal approval process is in place with automated scanning for vulnerabilities (e.g., SCA tools), legal review of licenses, and centralized tracking of third-party components.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. What steps are taken to test your products or software to ensure they work as intended before launch?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="product_testing" id="product_testing_1" value="1">
                                    <label class="form-check-label" for="product_testing_1">No formal testing is done before release. Issues are addressed post-launch.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="product_testing" id="product_testing_2" value="2">
                                    <label class="form-check-label" for="product_testing_2">Basic manual testing, including unit and integration tests with occasional regression checks before major releases, is typically performed by developers or end users.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="product_testing" id="product_testing_3" value="3">
                                    <label class="form-check-label" for="product_testing_3">A structured QA process is in place, including automated testing, regression testing, and staging environment validation before release.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="product_testing" id="product_testing_4" value="4">
                                    <label class="form-check-label" for="product_testing_4">A comprehensive testing framework is enforced with automated test coverage, peer reviews, security testing, and production readiness sign-off by QA and product teams.</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 9: Privacy, Data Security & API Controls -->
                    <div class="form-section" data-section="9">
                        <h2 class="section-title">9. Privacy, Data Security & API Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do you collect, store, or process customer data?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="collect_customer_data" id="collect_customer_data_yes" value="yes">
                                <label class="form-check-label" for="collect_customer_data_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="collect_customer_data" id="collect_customer_data_no" value="no">
                                <label class="form-check-label" for="collect_customer_data_no">No</label>
                            </div>
                            
                            <div id="customer_data_details" class="mt-3" style="display: none;">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="contact_info" value="contact_info">
                                            <label class="form-check-label" for="contact_info">Contact information (Names, addresses, emails)</label>
                                        </div>
                                        <div id="contact_info_details" class="mt-2" style="display: none;">
                                            <label for="contact_info_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="contact_info_records" name="contact_info_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="personal_health_data" value="personal_health_data">
                                            <label class="form-check-label" for="personal_health_data">Personal Health Data</label>
                                        </div>
                                        <div id="personal_health_data_details" class="mt-2" style="display: none;">
                                            <label for="personal_health_data_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="personal_health_data_records" name="personal_health_data_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="payment_card_data" value="payment_card_data">
                                            <label class="form-check-label" for="payment_card_data">Payment Card Data</label>
                                        </div>
                                        <div id="payment_card_data_details" class="mt-2" style="display: none;">
                                            <label for="payment_card_data_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="payment_card_data_records" name="payment_card_data_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="financial_records" value="financial_records">
                                            <label class="form-check-label" for="financial_records">Financial Records</label>
                                        </div>
                                        <div id="financial_records_details" class="mt-2" style="display: none;">
                                            <label for="financial_records_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="financial_records_records" name="financial_records_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="government_id_numbers" value="government_id_numbers">
                                            <label class="form-check-label" for="government_id_numbers">Government ID Numbers</label>
                                        </div>
                                        <div id="government_id_numbers_details" class="mt-2" style="display: none;">
                                            <label for="government_id_numbers_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="government_id_numbers_records" name="government_id_numbers_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="data_types[]" id="biometric_data" value="biometric_data">
                                            <label class="form-check-label" for="biometric_data">Biometric Data</label>
                                        </div>
                                        <div id="biometric_data_details" class="mt-2" style="display: none;">
                                            <label for="biometric_data_records" class="form-label">Approx. number of records:</label>
                                            <input type="number" class="form-control" id="biometric_data_records" name="biometric_data_records" placeholder="Number of records">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you maintain a data inventory or data classification policy?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_inventory_policy" id="data_inventory_policy_1" value="1">
                                    <label class="form-check-label" for="data_inventory_policy_1">We are unsure what personal or sensitive data we handle.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_inventory_policy" id="data_inventory_policy_2" value="2">
                                    <label class="form-check-label" for="data_inventory_policy_2">There is a general understanding of the types of personal data handled, with some documented categories, but no formal or comprehensive classification of personal or sensitive data.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_inventory_policy" id="data_inventory_policy_3" value="3">
                                    <label class="form-check-label" for="data_inventory_policy_3">We classify data (e.g., PII, health, financial) and apply protection policies accordingly.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_inventory_policy" id="data_inventory_policy_4" value="4">
                                    <label class="form-check-label" for="data_inventory_policy_4">We maintain a detailed data inventory with classification levels, mapped to systems and regulatory obligations, and aligned to risk-based protection standards.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. How do you determine what data is sensitive, and what protections are applied based on that sensitivity?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_sensitivity_determination" id="data_sensitivity_determination_1" value="1">
                                    <label class="form-check-label" for="data_sensitivity_determination_1">There is no process for classifying or protecting sensitive data.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_sensitivity_determination" id="data_sensitivity_determination_2" value="2">
                                    <label class="form-check-label" for="data_sensitivity_determination_2">Sensitivity is generally determined case-by-case with informal guidance, though a basic classification policy exists with some controls like encryption for high-risk data.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_sensitivity_determination" id="data_sensitivity_determination_3" value="3">
                                    <label class="form-check-label" for="data_sensitivity_determination_3">Data is classified based on regulatory and business impact, with defined controls for each level (e.g., access control, encryption, retention).</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_sensitivity_determination" id="data_sensitivity_determination_4" value="4">
                                    <label class="form-check-label" for="data_sensitivity_determination_4">A comprehensive data classification and protection framework is used, with automated enforcement, access logging, and policy integration across platforms.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you have a process for permanently deleting personal data when it's no longer needed?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_deletion_process" id="data_deletion_process_1" value="1">
                                    <label class="form-check-label" for="data_deletion_process_1">No defined process for deleting personal data.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_deletion_process" id="data_deletion_process_2" value="2">
                                    <label class="form-check-label" for="data_deletion_process_2">Personal data is deleted when required, typically through manual processes, but this is done occasionally and not in a systematic or irreversible way.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_deletion_process" id="data_deletion_process_3" value="3">
                                    <label class="form-check-label" for="data_deletion_process_3">A documented data deletion process is in place, aligned to retention policies, with periodic audits.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_deletion_process" id="data_deletion_process_4" value="4">
                                    <label class="form-check-label" for="data_deletion_process_4">Automated and auditable deletion workflows are in place for personal data, based on retention schedules, legal holds, and privacy regulations (e.g., PIPEDA, GDPR, CPRA).</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Are you PCI compliant if processing payment cards?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="pci_compliance" id="pci_compliance_yes" value="yes">
                                <label class="form-check-label" for="pci_compliance_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="pci_compliance" id="pci_compliance_no" value="no">
                                <label class="form-check-label" for="pci_compliance_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="pci_compliance" id="pci_compliance_na" value="not_applicable">
                                <label class="form-check-label" for="pci_compliance_na">Not Applicable</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you enforce data retention or deletion schedules?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_retention_schedules" id="data_retention_schedules_1" value="1">
                                    <label class="form-check-label" for="data_retention_schedules_1">We do not have a formal data retention or deletion policy in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_retention_schedules" id="data_retention_schedules_2" value="2">
                                    <label class="form-check-label" for="data_retention_schedules_2">We have informal guidelines, but enforcement is inconsistent and often left to individual departments.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_retention_schedules" id="data_retention_schedules_3" value="3">
                                    <label class="form-check-label" for="data_retention_schedules_3">We have a documented data retention and deletion policy, with scheduled reviews, but enforcement is only partially automated.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_retention_schedules" id="data_retention_schedules_4" value="4">
                                    <label class="form-check-label" for="data_retention_schedules_4">We enforce automated data retention and deletion schedules across all systems, aligned with legal, regulatory, and contractual requirements, and monitored for compliance.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you use data loss prevention (DLP) or file encryption tools?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="dlp_encryption_tools" id="dlp_encryption_tools_1" value="1">
                                    <label class="form-check-label" for="dlp_encryption_tools_1">We do not use any DLP or file encryption tools.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="dlp_encryption_tools" id="dlp_encryption_tools_2" value="2">
                                    <label class="form-check-label" for="dlp_encryption_tools_2">We use basic file encryption tools on select systems, but no DLP solution is in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="dlp_encryption_tools" id="dlp_encryption_tools_3" value="3">
                                    <label class="form-check-label" for="dlp_encryption_tools_3">We use either DLP or encryption tools across core systems handling sensitive data, though coverage may not be enterprise-wide.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="dlp_encryption_tools" id="dlp_encryption_tools_4" value="4">
                                    <label class="form-check-label" for="dlp_encryption_tools_4">We use both DLP and encryption tools organization-wide, with centralized policies, real-time monitoring, and alerting to prevent unauthorized data exfiltration.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do you encrypt sensitive data in transit over networks and at rest?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_encryption" id="data_encryption_1" value="1">
                                    <label class="form-check-label" for="data_encryption_1">Sensitive data is not consistently encrypted either in transit or at rest.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_encryption" id="data_encryption_2" value="2">
                                    <label class="form-check-label" for="data_encryption_2">We encrypt sensitive data in transit (e.g., HTTPS, VPN), but at-rest encryption is not applied across all systems.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_encryption" id="data_encryption_3" value="3">
                                    <label class="form-check-label" for="data_encryption_3">Sensitive data is encrypted both in transit and at rest for key systems, but not fully standardized across the organization.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="data_encryption" id="data_encryption_4" value="4">
                                    <label class="form-check-label" for="data_encryption_4">All sensitive data is encrypted by default both in transit and at rest using industry-standard algorithms, enforced via policy and regularly audited.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. How is access to your APIs controlled, and how is sensitive data protected during transmission?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_access_control" id="api_access_control_1" value="1">
                                    <label class="form-check-label" for="api_access_control_1">APIs are open or unsecured, with no encryption or access control.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_access_control" id="api_access_control_2" value="2">
                                    <label class="form-check-label" for="api_access_control_2">Basic API keys, passwords, and encryption (e.g., HTTPS) are used for most APIs, but controls are not consistently enforced or standardized.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_access_control" id="api_access_control_3" value="3">
                                    <label class="form-check-label" for="api_access_control_3">Access is controlled via secure methods like OAuth, API gateways, and all traffic is encrypted.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_access_control" id="api_access_control_4" value="4">
                                    <label class="form-check-label" for="api_access_control_4">APIs use strong authentication (OAuth2, JWT), encryption (TLS 1.2+), rate limiting, and token lifecycle controls, with centralized access management.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Are your APIs regularly reviewed for security risks, and how do you handle any issues that are found?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_security_review" id="api_security_review_1" value="1">
                                    <label class="form-check-label" for="api_security_review_1">No regular review or testing of APIs for security vulnerabilities.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_security_review" id="api_security_review_2" value="2">
                                    <label class="form-check-label" for="api_security_review_2">APIs are informally tested or reviewed during development or when problems are reported, but follow-up and ongoing testing are inconsistent.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_security_review" id="api_security_review_3" value="3">
                                    <label class="form-check-label" for="api_security_review_3">Regular static/dynamic security testing is performed, and findings are addressed through a formal remediation process.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_security_review" id="api_security_review_4" value="4">
                                    <label class="form-check-label" for="api_security_review_4">APIs undergo routine automated and manual security testing (e.g., SAST, DAST, fuzzing), with tracked remediation SLAs and integration into DevSecOps.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">11. How do you monitor API use in real time to detect unusual behavior or potential data leaks?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_monitoring" id="api_monitoring_1" value="1">
                                    <label class="form-check-label" for="api_monitoring_1">No monitoring of API traffic or behavior is in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_monitoring" id="api_monitoring_2" value="2">
                                    <label class="form-check-label" for="api_monitoring_2">API logs are collected and usage is monitored through manual reviews or basic alerts, but not on a regular or proactive basis.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_monitoring" id="api_monitoring_3" value="3">
                                    <label class="form-check-label" for="api_monitoring_3">Real-time monitoring is in place for usage patterns, errors, and rate anomalies, with alerts for suspicious behavior.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="api_monitoring" id="api_monitoring_4" value="4">
                                    <label class="form-check-label" for="api_monitoring_4">API traffic is monitored continuously using analytics or threat detection tools, with anomaly detection, alerting, and response workflows integrated with incident handling.</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 10: Intellectual Property & Content Governance Controls -->
                    <div class="form-section" data-section="10">
                        <h2 class="section-title">10. Intellectual Property & Content Governance Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do your contracts with customers, partners, or distributors include indemnification provisions that make you responsible for IP infringement claims?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_indemnification_provisions" id="ip_indemnification_provisions_1" value="1">
                                    <label class="form-check-label" for="ip_indemnification_provisions_1">We haven't reviewed our contracts for IP indemnity exposure and are unsure whether such provisions exist.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_indemnification_provisions" id="ip_indemnification_provisions_2" value="2">
                                    <label class="form-check-label" for="ip_indemnification_provisions_2">Some contracts include IP indemnities, but we accept them as-is without negotiation or risk transfer strategies.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_indemnification_provisions" id="ip_indemnification_provisions_3" value="3">
                                    <label class="form-check-label" for="ip_indemnification_provisions_3">We review IP indemnity provisions case-by-case and seek to limit or share liability where possible, often with legal input.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_indemnification_provisions" id="ip_indemnification_provisions_4" value="4">
                                    <label class="form-check-label" for="ip_indemnification_provisions_4">We have a formal process for reviewing and negotiating IP indemnities, consistently limit our exposure through contract language, and align coverage with our insurance program to ensure claims are insurable.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. What is your plan if your company is accused of infringing someone else's IP?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_infringement_plan" id="ip_infringement_plan_1" value="1">
                                    <label class="form-check-label" for="ip_infringement_plan_1">No plan or insurance is in place to address IP disputes.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_infringement_plan" id="ip_infringement_plan_2" value="2">
                                    <label class="form-check-label" for="ip_infringement_plan_2">Leadership relies on legal counsel and a general dispute response approach, but there is no documented or detailed plan specific to IP disputes.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_infringement_plan" id="ip_infringement_plan_3" value="3">
                                    <label class="form-check-label" for="ip_infringement_plan_3">A formal incident response process is in place, including legal review and insurance support.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_infringement_plan" id="ip_infringement_plan_4" value="4">
                                    <label class="form-check-label" for="ip_infringement_plan_4">The company has a documented IP risk response plan, legal counsel on standby, indemnification strategies, and intellectual property insurance.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. How do you monitor and manage the use of third-party software licenses?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_license_monitoring" id="third_party_license_monitoring_1" value="1">
                                    <label class="form-check-label" for="third_party_license_monitoring_1">Software is used without tracking licenses or usage rights.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_license_monitoring" id="third_party_license_monitoring_2" value="2">
                                    <label class="form-check-label" for="third_party_license_monitoring_2">Teams manage licensing informally with a partial inventory and some tools to track third-party software, but tracking is incomplete and decentralized.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_license_monitoring" id="third_party_license_monitoring_3" value="3">
                                    <label class="form-check-label" for="third_party_license_monitoring_3">License use is tracked and reviewed regularly, with controls to prevent unauthorized or expired use.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="third_party_license_monitoring" id="third_party_license_monitoring_4" value="4">
                                    <label class="form-check-label" for="third_party_license_monitoring_4">A centralized license management system is in place, integrated with procurement and development, with regular audits and automated compliance alerts.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. What measures are in place to prevent the misuse of someone else's IP? (like patents, content, or software)</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_misuse_prevention" id="ip_misuse_prevention_1" value="1">
                                    <label class="form-check-label" for="ip_misuse_prevention_1">No measures are in place; staff use third-party materials without oversight.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_misuse_prevention" id="ip_misuse_prevention_2" value="2">
                                    <label class="form-check-label" for="ip_misuse_prevention_2">Teams follow basic guidelines and reminders to avoid IP misuse, but there are no formal policies, checks, or consistent monitoring in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_misuse_prevention" id="ip_misuse_prevention_3" value="3">
                                    <label class="form-check-label" for="ip_misuse_prevention_3">The company has documented policies, training, and review processes to avoid IP infringement.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_misuse_prevention" id="ip_misuse_prevention_4" value="4">
                                    <label class="form-check-label" for="ip_misuse_prevention_4">A formal IP compliance program is in place, including legal review, licensing audits, content screening, and employee training.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Is there a review process to ensure marketing or public content doesn't violate IP rights or privacy laws?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="content_review_process" id="content_review_process_1" value="1">
                                    <label class="form-check-label" for="content_review_process_1">Content is published without any review for legal or IP concerns.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="content_review_process" id="content_review_process_2" value="2">
                                    <label class="form-check-label" for="content_review_process_2">Content, including marketing materials, is reviewed informally by managers or legal when requested, but there is no defined process or consistent checklist.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="content_review_process" id="content_review_process_3" value="3">
                                    <label class="form-check-label" for="content_review_process_3">A standard review process is in place for all public-facing content, including checks for IP and privacy issues.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="content_review_process" id="content_review_process_4" value="4">
                                    <label class="form-check-label" for="content_review_process_4">All content goes through a formal legal/compliance review process with documented approvals, IP clearance procedures, and version control.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. What controls does your organization have in place to detect and prevent unauthorized use or infringement of your intellectual property by others?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_protection_controls" id="ip_protection_controls_1" value="1">
                                    <label class="form-check-label" for="ip_protection_controls_1">We don't currently monitor for IP infringement and rely on third parties to notify us if issues arise.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_protection_controls" id="ip_protection_controls_2" value="2">
                                    <label class="form-check-label" for="ip_protection_controls_2">We occasionally search for misuse of our IP online or respond when issues are brought to our attention, but have no formal process.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_protection_controls" id="ip_protection_controls_3" value="3">
                                    <label class="form-check-label" for="ip_protection_controls_3">We monitor for unauthorized use of our IP using basic tools (e.g., manual searches, Google alerts) and engage legal counsel when needed.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ip_protection_controls" id="ip_protection_controls_4" value="4">
                                    <label class="form-check-label" for="ip_protection_controls_4">We use active monitoring tools (e.g., trademark watch services, brand protection platforms), have internal escalation procedures, and enforce our rights through cease-and-desist letters, takedowns, or litigation when appropriate.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Do you publish, distribute, or create original media? (images, videos, code, written content)</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="publish_original_media" id="publish_original_media_yes" value="yes">
                                <label class="form-check-label" for="publish_original_media_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="publish_original_media" id="publish_original_media_no" value="no">
                                <label class="form-check-label" for="publish_original_media_no">No</label>
                            </div>
                            
                            <div id="original_media_details" class="mt-3" style="display: none;">
                                <div class="mb-3">
                                    <label for="media_description" class="form-label">Please describe:</label>
                                    <textarea class="form-control" id="media_description" name="media_description" rows="2" placeholder="Please describe the type of original media you create..."></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Do you review content for potential infringement, defamation, and privacy risks?</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="content_risk_review" id="content_risk_review_yes" value="yes">
                                        <label class="form-check-label" for="content_risk_review_yes">Yes</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="content_risk_review" id="content_risk_review_no" value="no">
                                        <label class="form-check-label" for="content_risk_review_no">No</label>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Are such content reviews performed by or under the supervision of an attorney?</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="attorney_supervised_review" id="attorney_supervised_review_yes" value="yes">
                                        <label class="form-check-label" for="attorney_supervised_review_yes">Yes</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="attorney_supervised_review" id="attorney_supervised_review_no" value="no">
                                        <label class="form-check-label" for="attorney_supervised_review_no">No</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. What steps do you take to protect your intellectual property (e.g., registrations, confidentiality agreements, employee IP assignment agreements)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="registered_ip" value="registered_ip">
                                <label class="form-check-label" for="registered_ip">Registered patents or trademarks</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="employee_ip_agreements" value="employee_ip_agreements">
                                <label class="form-check-label" for="employee_ip_agreements">Employee and contractor IP assignment/confidentiality agreements</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="other_ip_protections" value="other_ip_protections">
                                <label class="form-check-label" for="other_ip_protections">Other (please specify):</label>
                            </div>
                            <div id="other_ip_protections_details" class="mt-2" style="display: none;">
                                <input type="text" class="form-control" id="other_ip_protections_text" name="other_ip_protections_text" placeholder="Please specify other IP protections">
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="ip_protection_steps[]" id="no_formal_protections" value="no_formal_protections">
                                <label class="form-check-label" for="no_formal_protections">No formal protections</label>
                            </div>
                        </div>
                    </div>

                    <!-- Section 11: People, Employment Practices & Insider Controls -->
                    <div class="form-section" data-section="11">
                        <h2 class="section-title">11. People, Employment Practices & Insider Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. What background checks or screening do you use to evaluate new hires, especially for roles with access to sensitive data or systems?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="background_checks" id="background_checks_1" value="1">
                                    <label class="form-check-label" for="background_checks_1">No background checks or screening are conducted before hiring.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="background_checks" id="background_checks_2" value="2">
                                    <label class="form-check-label" for="background_checks_2">Basic reference checks and, for sensitive roles, occasional criminal background or employment verification are performed, but there is no formal screening policy and practices are inconsistent.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="background_checks" id="background_checks_3" value="3">
                                    <label class="form-check-label" for="background_checks_3">Standardized screening process includes criminal, employment, and education verification for all roles with data/system access.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="background_checks" id="background_checks_4" value="4">
                                    <label class="form-check-label" for="background_checks_4">A comprehensive, risk-based screening process is applied based on role sensitivity, including background, credit (where appropriate), and regulatory compliance checks.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. What is your process for ensuring new hires understand and follow your company's key policies, like security and acceptable use?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="new_hire_policy_training" id="new_hire_policy_training_1" value="1">
                                    <label class="form-check-label" for="new_hire_policy_training_1">New hires receive little or no orientation on company policies.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="new_hire_policy_training" id="new_hire_policy_training_2" value="2">
                                    <label class="form-check-label" for="new_hire_policy_training_2">New hires receive policies to review as part of basic onboarding, with signed acknowledgment required for key policies like confidentiality or acceptable use, but broader training or acknowledgment is not consistently required.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="new_hire_policy_training" id="new_hire_policy_training_3" value="3">
                                    <label class="form-check-label" for="new_hire_policy_training_3">New hires complete structured onboarding, including required training on security, privacy, and acceptable use policies.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="new_hire_policy_training" id="new_hire_policy_training_4" value="4">
                                    <label class="form-check-label" for="new_hire_policy_training_4">Onboarding includes interactive, role-specific policy training with testing, tracked completion, and annual re-certification for key policies.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. How are employees trained to avoid accidentally sharing confidential information through email, messages, or presentations?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="confidentiality_training" id="confidentiality_training_1" value="1">
                                    <label class="form-check-label" for="confidentiality_training_1">No training is provided on handling confidential information.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="confidentiality_training" id="confidentiality_training_2" value="2">
                                    <label class="form-check-label" for="confidentiality_training_2">Employees receive informal reminders and confidentiality training during onboarding, but there is no structured or ongoing training program.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="confidentiality_training" id="confidentiality_training_3" value="3">
                                    <label class="form-check-label" for="confidentiality_training_3">Regular training is provided, including email and presentation dos/don'ts and examples of accidental disclosure.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="confidentiality_training" id="confidentiality_training_4" value="4">
                                    <label class="form-check-label" for="confidentiality_training_4">Employees receive role-based, scenario-driven training with testing, reinforced by policy, monitoring, and reporting mechanisms.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. What steps are in place to detect unusual employee behavior that could indicate a security or policy issue?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="unusual_behavior_detection" id="unusual_behavior_detection_1" value="1">
                                    <label class="form-check-label" for="unusual_behavior_detection_1">No monitoring or detection tools or processes are in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="unusual_behavior_detection" id="unusual_behavior_detection_2" value="2">
                                    <label class="form-check-label" for="unusual_behavior_detection_2">Potential issues are identified informally through manager observation or peer reporting, with HR or IT conducting manual log reviews when concerns arise, but there is no ongoing monitoring.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="unusual_behavior_detection" id="unusual_behavior_detection_3" value="3">
                                    <label class="form-check-label" for="unusual_behavior_detection_3">Systems log user activity and can flag anomalies; HR and IT have a defined process to investigate concerns.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="unusual_behavior_detection" id="unusual_behavior_detection_4" value="4">
                                    <label class="form-check-label" for="unusual_behavior_detection_4">Behavioral analytics and monitoring tools are in place for high-risk roles, with integrated alerting, response protocols, and legal/HR oversight.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do employment agreements clearly define confidentiality obligations, IP ownership, and terms that continue after someone leaves?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="employment_agreement_terms" id="employment_agreement_terms_1" value="1">
                                    <label class="form-check-label" for="employment_agreement_terms_1">Employment agreements do not include confidentiality or IP ownership provisions, and have no post-employment obligations.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="employment_agreement_terms" id="employment_agreement_terms_2" value="2">
                                    <label class="form-check-label" for="employment_agreement_terms_2">Some agreements include confidentiality clauses, but IP ownership or post-employment obligations are missing or inconsistent.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="employment_agreement_terms" id="employment_agreement_terms_3" value="3">
                                    <label class="form-check-label" for="employment_agreement_terms_3">Most agreements include confidentiality, IP ownership, and some terms that extend after employment ends, though not always reviewed or tailored.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="employment_agreement_terms" id="employment_agreement_terms_4" value="4">
                                    <label class="form-check-label" for="employment_agreement_terms_4">All employment agreements clearly define confidentiality, IP ownership, and post-employment obligations, are reviewed by legal counsel, and updated regularly.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. What steps ensure NDAs are signed, enforced, and followed, particularly after employment ends?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="nda_enforcement" id="nda_enforcement_1" value="1">
                                    <label class="form-check-label" for="nda_enforcement_1">NDAs are rarely used or tracked, with no process to enforce them during or after employment.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="nda_enforcement" id="nda_enforcement_2" value="2">
                                    <label class="form-check-label" for="nda_enforcement_2">NDAs are signed for some roles or situations, but tracking is informal and follow-up after employment is minimal.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="nda_enforcement" id="nda_enforcement_3" value="3">
                                    <label class="form-check-label" for="nda_enforcement_3">NDAs are standard for employees and key contractors, tracked centrally, with reminders of obligations given during exit processes.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="nda_enforcement" id="nda_enforcement_4" value="4">
                                    <label class="form-check-label" for="nda_enforcement_4">NDAs are mandatory for all staff and applicable vendors, systematically tracked, enforced with formal exit procedures, and obligations monitored post-employment.</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 12: Artificial Intelligence Tools & Controls -->
                    <div class="form-section" data-section="12">
                        <h2 class="section-title">12. Artificial Intelligence Tools & Controls</h2>
                        
                        <div class="mb-4">
                            <label class="form-label">1. Do you have formal policies governing employee use of generative AI tools in the workplace?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_policies" id="ai_tool_policies_1" value="1">
                                    <label class="form-check-label" for="ai_tool_policies_1">No formal policy exists; employees use AI tools at their discretion without oversight or guidance.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_policies" id="ai_tool_policies_2" value="2">
                                    <label class="form-check-label" for="ai_tool_policies_2">Informal guidelines are communicated verbally or via ad hoc communications, but no formalized or documented policy is in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_policies" id="ai_tool_policies_3" value="3">
                                    <label class="form-check-label" for="ai_tool_policies_3">A documented policy exists outlining acceptable AI use cases and prohibited applications; periodic reminders or basic training are provided.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_policies" id="ai_tool_policies_4" value="4">
                                    <label class="form-check-label" for="ai_tool_policies_4">A comprehensive, regularly updated AI use policy is in place, aligned with legal, regulatory, and ethical standards. Mandatory employee training, acknowledgement tracking, and compliance audits ensure adherence.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. How does your organization ensure sensitive, proprietary or customer data is not inadvertently inputted into public or third-party AI tools?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_data_protection" id="ai_data_protection_1" value="1">
                                    <label class="form-check-label" for="ai_data_protection_1">No controls or employee awareness; sensitive data may be shared with AI tools without restriction or monitoring.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_data_protection" id="ai_data_protection_2" value="2">
                                    <label class="form-check-label" for="ai_data_protection_2">Employees are instructed not to share sensitive data with AI tools, but enforcement is manual and there are no technical safeguards.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_data_protection" id="ai_data_protection_3" value="3">
                                    <label class="form-check-label" for="ai_data_protection_3">Data classification and access rules are defined, with monitoring tools or DLP (Data Loss Prevention) systems in place to detect and prevent accidental sharing.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_data_protection" id="ai_data_protection_4" value="4">
                                    <label class="form-check-label" for="ai_data_protection_4">Strong, enforced controls combining technical safeguards (e.g., AI input filtering, DLP, endpoint restrictions) with mandatory training, AI-specific data handling protocols, and real-time monitoring to prevent sensitive data leakage.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. How are AI tools provisioned and monitored internally to ensure only authorized employees can access and use them?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_provisioning" id="ai_tool_provisioning_1" value="1">
                                    <label class="form-check-label" for="ai_tool_provisioning_1">No restrictions; any employee can access and use AI tools, including unsanctioned or public platforms, without oversight.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_provisioning" id="ai_tool_provisioning_2" value="2">
                                    <label class="form-check-label" for="ai_tool_provisioning_2">AI tool access is limited to certain teams, but controls are informal and not technically enforced (e.g., relying on manager approval or trust).</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_provisioning" id="ai_tool_provisioning_3" value="3">
                                    <label class="form-check-label" for="ai_tool_provisioning_3">Approved AI tools are centrally provisioned with role-based access controls; usage logs are reviewed periodically but not continuously monitored.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_tool_provisioning" id="ai_tool_provisioning_4" value="4">
                                    <label class="form-check-label" for="ai_tool_provisioning_4">Enterprise-approved AI tools integrated with identity and access management (IAM), multi-factor authentication, continuous monitoring, automated alerts for misuse, and centralized reporting dashboards for compliance oversight.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. What steps do you take to make sure AI-generated content doesn't violate privacy rules or IP rights?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_content_compliance" id="ai_content_compliance_1" value="1">
                                    <label class="form-check-label" for="ai_content_compliance_1">No review or safeguards are in place to monitor AI-generated content.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_content_compliance" id="ai_content_compliance_2" value="2">
                                    <label class="form-check-label" for="ai_content_compliance_2">There is informal awareness of potential privacy and IP risks, with some safeguards such as manual review of public content, but no specific controls or consistent validation process are in place.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_content_compliance" id="ai_content_compliance_3" value="3">
                                    <label class="form-check-label" for="ai_content_compliance_3">The business has implemented content review procedures, and AI output is checked for privacy or IP issues before publication or use.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_content_compliance" id="ai_content_compliance_4" value="4">
                                    <label class="form-check-label" for="ai_content_compliance_4">There is a formal review and compliance process involving legal, compliance, and product teams to ensure AI outputs align with IP, copyright, and data privacy obligations.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Have you implemented controls to monitor and validate the accuracy and reliability of outputs generated by third-party AI tools?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_output_validation" id="ai_output_validation_1" value="1">
                                    <label class="form-check-label" for="ai_output_validation_1">No controls in place; outputs from AI tools are used without review or validation, relying entirely on the tool's outputs.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_output_validation" id="ai_output_validation_2" value="2">
                                    <label class="form-check-label" for="ai_output_validation_2">Manual review of outputs occurs inconsistently, dependent on individual user discretion, with no formal validation process or documented standards.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_output_validation" id="ai_output_validation_3" value="3">
                                    <label class="form-check-label" for="ai_output_validation_3">A formal processes exist for reviewing and validating AI outputs, including documented criteria and periodic spot checks by subject matter experts.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_output_validation" id="ai_output_validation_4" value="4">
                                    <label class="form-check-label" for="ai_output_validation_4">A comprehensive validation framework in place, combining automated checks, human-in-the-loop oversight, and ongoing performance monitoring. Continuous audits and feedback loops are used to detect errors, bias, and drift, with results feeding into process improvements.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you have incident response procedures in place to address errors, misuse, or breaches resulting from third-party AI tool use?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_incident_response" id="ai_incident_response_1" value="1">
                                    <label class="form-check-label" for="ai_incident_response_1">No formal incident response procedures exist for AI-related errors or misuse.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_incident_response" id="ai_incident_response_2" value="2">
                                    <label class="form-check-label" for="ai_incident_response_2">General IT or cybersecurity incident response procedures exist but do not address AI-specific risks or third-party tool misuse.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_incident_response" id="ai_incident_response_3" value="3">
                                    <label class="form-check-label" for="ai_incident_response_3">A documented incident response plan includes AI-related scenarios, with designated roles and escalation paths. Periodic tabletop exercises or testing are conducted, but scope remains limited.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_incident_response" id="ai_incident_response_4" value="4">
                                    <label class="form-check-label" for="ai_incident_response_4">A comprehensive AI-specific incident response plan is fully integrated with enterprise risk and cybersecurity frameworks. It includes rapid detection, predefined playbooks for AI errors/misuse, coordination with third-party vendors, post-incident reviews, and continuous improvement.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Have you reviewed whether your insurance or contracts adequately address risks from using AI, such as errors, reputation damage, or legal issues?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_insurance_review" id="ai_insurance_review_1" value="1">
                                    <label class="form-check-label" for="ai_insurance_review_1">No review has been done, and existing policies or contracts may not address AI-related risks.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_insurance_review" id="ai_insurance_review_2" value="2">
                                    <label class="form-check-label" for="ai_insurance_review_2">AI-related risks have been considered internally, and while some insurance coverage has been extended or gaps flagged by general counsel, there has been no formal review or comprehensive adjustments to coverage.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_insurance_review" id="ai_insurance_review_3" value="3">
                                    <label class="form-check-label" for="ai_insurance_review_3">AI-related risks have been reviewed with legal and insurance advisors, and contracts include basic protections (e.g., disclaimers, indemnity).</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_insurance_review" id="ai_insurance_review_4" value="4">
                                    <label class="form-check-label" for="ai_insurance_review_4">The company proactively manages AI risks through tailored contractual clauses, D&O/E&O/cyber coverage extensions, and periodic reviews aligned to evolving uses of AI and regulatory guidance.</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do you require contractual indemnities or evidence of insurance from third-party AI vendors used in your internal operations?</label>
                            <div class="form-check-container">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_vendor_indemnities" id="ai_vendor_indemnities_1" value="1">
                                    <label class="form-check-label" for="ai_vendor_indemnities_1">We accept the vendors Terms of Service without review or monitoring of indemnification obligations.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_vendor_indemnities" id="ai_vendor_indemnities_2" value="2">
                                    <label class="form-check-label" for="ai_vendor_indemnities_2">Some contracts include general indemnification language, but vendor insurance evidence is not consistently requested.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_vendor_indemnities" id="ai_vendor_indemnities_3" value="3">
                                    <label class="form-check-label" for="ai_vendor_indemnities_3">Contracts include defined indemnities for AI-related risks and require vendors to provide proof of insurance, but enforcement and periodic review are limited.</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_vendor_indemnities" id="ai_vendor_indemnities_4" value="4">
                                    <label class="form-check-label" for="ai_vendor_indemnities_4">Robust vendor agreements mandate AI-specific indemnification, verified insurance coverage aligned with exposure (e.g., tech E&O, cyber), and ongoing compliance monitoring to ensure protections remain current.</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 13: Prior Incidents & Claims -->
                    <div class="form-section" data-section="13">
                        <h2 class="section-title">13. Prior Incidents & Claims</h2>
                            
                            <div class="mb-4">
                                <label class="form-label">1. In the last 5 years, has the Company, or any entity falling within the definition of 'Insured' under the proposed Policy, its partners, directors, officers, or employees ever had a written demand or civil proceedings for compensatory damages made against them?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="written_demands" id="written_demands_yes" value="yes">
                                    <label class="form-check-label" for="written_demands_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="written_demands" id="written_demands_no" value="no">
                                    <label class="form-check-label" for="written_demands_no">No</label>
                                </div>
                                <div id="written_demands_details" class="mt-3" style="display: none;">
                                    <label for="written_demands_details_text" class="form-label">If yes, provide details:</label>
                                    <textarea class="form-control" id="written_demands_details_text" name="written_demands_details_text" rows="4" placeholder="Provide details including dates, nature of claims, and outcomes..."></textarea>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">2. In the past 5 years has the Company, or any entity falling within the definition of 'Insured' under the proposed Policy:</label>
                                
                                <div class="mt-3">
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_privacy_claims" id="incident_privacy_claims" value="yes">
                                        <label class="form-check-label" for="incident_privacy_claims">
                                            Received any claims or complaints regarding privacy, data protection or network security, or unauthorized disclosure of information?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_breach_notification" id="incident_breach_notification" value="yes">
                                        <label class="form-check-label" for="incident_breach_notification">
                                            Notified any persons of a privacy violation and/or data breach incident?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_extortion" id="incident_extortion" value="yes">
                                        <label class="form-check-label" for="incident_extortion">
                                            Received an extortion demand relating to your data and/or computer systems?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_network_outage" id="incident_network_outage" value="yes">
                                        <label class="form-check-label" for="incident_network_outage">
                                            Experienced a network outage that resulted in a significant disruption to your operations?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_government_action" id="incident_government_action" value="yes">
                                        <label class="form-check-label" for="incident_government_action">
                                            Been subject to any government action, investigation, subpoena regarding any alleged violation of privacy law or regulation?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_ip_complaint" id="incident_ip_complaint" value="yes">
                                        <label class="form-check-label" for="incident_ip_complaint">
                                            Received a complaint or cease and desist demand alleging trademark, copyright, invasion of privacy, defamation with regard to content published, displayed, or distributed by or on behalf of the applicant?
                                        </label>
                                    </div>
                                    
                                    <div class="form-check">
                                        <input class="form-check-input incident-checkbox" type="checkbox" name="incident_policy_covered" id="incident_policy_covered" value="yes">
                                        <label class="form-check-label" for="incident_policy_covered">
                                            Experienced any incident which may be covered under this policy?
                                        </label>
                                    </div>
                                </div>
                                
                                <div id="incident_details" class="mt-3" style="display: none;">
                                    <label for="incident_details_text" class="form-label">If Yes to any of the above, please provide details on an addendum including relevant dates, brief summary of incident and any preventative measures that have been taken to prevent a reoccurrence:</label>
                                    <textarea class="form-control" id="incident_details_text" name="incident_details_text" rows="6" placeholder="Provide comprehensive details for each applicable incident including dates, circumstances, resolution, and preventative measures implemented..."></textarea>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">3. Is the Applicant, or any person applying for this insurance aware of any fact, circumstance, situation, event, or act that reasonably could give rise to a claim against them for any coverages for which the Applicant is applying?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="potential_claims_awareness" id="potential_claims_yes" value="yes">
                                    <label class="form-check-label" for="potential_claims_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="potential_claims_awareness" id="potential_claims_no" value="no">
                                    <label class="form-check-label" for="potential_claims_no">No</label>
                                </div>
                            </div>
                        </div>

                    <!-- Section 2: Decentralized Finance & Digital Assets (Additional Questions) -->
                    <div class="form-section" data-section="15" id="defi-section" style="display: none;">
                        <h2 class="section-title">Decentralized Finance & Digital Assets (Additional Questions)</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Additional DeFi Questions:</strong> Since you selected Decentralized Finance & Digital Assets as a sector, please complete these additional questions.
                        </div>

                        <div class="mb-4">
                            <label class="form-label">1. Do you provide any services involving cryptocurrency custody, wallet management, or private key management on behalf of clients?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_custody_services" id="defi_custody_yes" value="yes">
                                <label class="form-check-label" for="defi_custody_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_custody_services" id="defi_custody_no" value="no">
                                <label class="form-check-label" for="defi_custody_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_custody_details" style="display: none;">
                                <label for="defi_custody_controls" class="form-label">If yes, please describe the controls in place to secure these assets</label>
                                <textarea class="form-control" id="defi_custody_controls" name="defi_custody_controls" rows="3" placeholder="Please describe your security controls for cryptocurrency custody, wallet management, and private key management..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you operate or maintain a cryptocurrency exchange or trading platform?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_exchange_platform" id="defi_exchange_yes" value="yes">
                                <label class="form-check-label" for="defi_exchange_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_exchange_platform" id="defi_exchange_no" value="no">
                                <label class="form-check-label" for="defi_exchange_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_exchange_details" style="display: none;">
                                <label class="form-label">If yes, specify:</label>
                                
                                <div class="mb-3">
                                    <label for="defi_crypto_types" class="form-label">Types of cryptocurrencies supported</label>
                                    <textarea class="form-control" id="defi_crypto_types" name="defi_crypto_types" rows="2" placeholder="List the types of cryptocurrencies supported on your exchange..."></textarea>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="defi_daily_volume" class="form-label">Average daily transaction volume</label>
                                    <input type="text" class="form-control" id="defi_daily_volume" name="defi_daily_volume" placeholder="e.g., $1M USD equivalent">
                                </div>
                                
                                <div class="mb-3">
                                    <label for="defi_geographic_regions" class="form-label">Geographic regions served</label>
                                    <textarea class="form-control" id="defi_geographic_regions" name="defi_geographic_regions" rows="2" placeholder="List the geographic regions where your exchange operates..."></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. Do you use or develop smart contracts in connection with your services (e.g., for decentralized finance, token issuance, automated settlements)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_smart_contracts" id="defi_smart_contracts_yes" value="yes">
                                <label class="form-check-label" for="defi_smart_contracts_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_smart_contracts" id="defi_smart_contracts_no" value="no">
                                <label class="form-check-label" for="defi_smart_contracts_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_smart_contracts_details" style="display: none;">
                                <label for="defi_audit_processes" class="form-label">If yes, please describe your processes for auditing and testing these smart contracts prior to deployment.</label>
                                <textarea class="form-control" id="defi_audit_processes" name="defi_audit_processes" rows="3" placeholder="Please describe your smart contract auditing and testing processes..."></textarea>
                            </div>
                        </div>



                        <div class="mb-4">
                            <label class="form-label">4. Have you engaged any third-party security firms to perform penetration testing or blockchain code audits on your platforms or products?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_audits" id="defi_security_yes" value="yes">
                                <label class="form-check-label" for="defi_security_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_audits" id="defi_security_no" value="no">
                                <label class="form-check-label" for="defi_security_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_security_details" style="display: none;">
                                <label for="defi_security_findings" class="form-label">If yes, please attach the latest summary findings or certifications.</label>
                                <textarea class="form-control" id="defi_security_findings" name="defi_security_findings" rows="3" placeholder="Please describe the latest security audit findings or attach certifications..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do your standard client agreements include disclaimers, waivers, or limitations of liability specifically addressing risks related to cryptocurrency transactions, volatility, or smart contracts?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_disclaimers" id="defi_disclaimers_yes" value="yes">
                                <label class="form-check-label" for="defi_disclaimers_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_disclaimers" id="defi_disclaimers_no" value="no">
                                <label class="form-check-label" for="defi_disclaimers_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_disclaimers_details" style="display: none;">
                                <label for="defi_contract_clauses" class="form-label">If yes, please attach sample contract clauses.</label>
                                <textarea class="form-control" id="defi_contract_clauses" name="defi_contract_clauses" rows="3" placeholder="Please provide sample contract clauses..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you maintain separate hot and cold wallet infrastructures for cryptocurrency held on behalf of clients?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_wallet_infrastructure" id="defi_wallet_yes" value="yes">
                                <label class="form-check-label" for="defi_wallet_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_wallet_infrastructure" id="defi_wallet_no" value="no">
                                <label class="form-check-label" for="defi_wallet_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_wallet_details" style="display: none;">
                                <label for="defi_wallet_split" class="form-label">If yes, please describe the split and security controls.</label>
                                <textarea class="form-control" id="defi_wallet_split" name="defi_wallet_split" rows="3" placeholder="Please describe the hot/cold wallet split and security controls..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Are any of your blockchain or crypto-related activities regulated by financial services authorities (e.g., FINTRAC, MiCA, VARA, MAS)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulated" id="defi_regulated_yes" value="yes">
                                <label class="form-check-label" for="defi_regulated_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulated" id="defi_regulated_no" value="no">
                                <label class="form-check-label" for="defi_regulated_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_regulated_details" style="display: none;">
                                <label for="defi_regulators" class="form-label">If yes, please list regulators and licenses held</label>
                                <textarea class="form-control" id="defi_regulators" name="defi_regulators" rows="3" placeholder="Please list regulators and licenses held..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do you have documented policies and procedures in place for Anti-Money Laundering (AML), Counter Terrorist Financing (CFT), and customer onboarding (KYC/KYB)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_aml_policies" id="defi_aml_yes" value="yes">
                                <label class="form-check-label" for="defi_aml_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_aml_policies" id="defi_aml_no" value="no">
                                <label class="form-check-label" for="defi_aml_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_aml_details" style="display: none;">
                                <label for="defi_aml_policy" class="form-label">Please attach your AML/KYC policy</label>
                                <textarea class="form-control" id="defi_aml_policy" name="defi_aml_policy" rows="3" placeholder="Please describe your AML/KYC policy or attach documentation..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="defi_sanctions_compliance" class="form-label">9. What processes do you have to ensure compliance with international sanctions laws (e.g., OFAC, EU sanctions) in transactions involving digital assets?</label>
                            <textarea class="form-control" id="defi_sanctions_compliance" name="defi_sanctions_compliance" rows="3" placeholder="Please describe your sanctions compliance processes..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Do you maintain logs or blockchain analytics to monitor and trace the source of funds to help mitigate fraud, money laundering, or sanctions violations?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_blockchain_analytics" id="defi_analytics_yes" value="yes">
                                <label class="form-check-label" for="defi_analytics_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_blockchain_analytics" id="defi_analytics_no" value="no">
                                <label class="form-check-label" for="defi_analytics_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_analytics_details" style="display: none;">
                                <label for="defi_analytics_systems" class="form-label">If yes, please describe the systems or vendors used.</label>
                                <textarea class="form-control" id="defi_analytics_systems" name="defi_analytics_systems" rows="3" placeholder="Please describe the blockchain analytics systems or vendors used..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">11. Do you use any decentralized protocols (DEXs, liquidity pools, DeFi protocols) as part of your business operations or investment strategies?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_protocols" id="defi_protocols_yes" value="yes">
                                <label class="form-check-label" for="defi_protocols_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_protocols" id="defi_protocols_no" value="no">
                                <label class="form-check-label" for="defi_protocols_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">12. Do you use third-party custodians, liquidity providers, or technology vendors for any part of your crypto operations?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_third_party" id="defi_third_party_yes" value="yes">
                                <label class="form-check-label" for="defi_third_party_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_third_party" id="defi_third_party_no" value="no">
                                <label class="form-check-label" for="defi_third_party_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_third_party_details" style="display: none;">
                                <label class="form-label">If yes, do your contracts with these providers include indemnity and hold harmless provisions in your favor?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="defi_indemnity" id="defi_indemnity_yes" value="yes">
                                    <label class="form-check-label" for="defi_indemnity_yes">Yes</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="defi_indemnity" id="defi_indemnity_no" value="no">
                                    <label class="form-check-label" for="defi_indemnity_no">No</label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">13. Do you hold or have custody digital assets on your own balance sheet for investment purposes?<br><small class="text-muted">If yes, please indicate the approximate value and percentage of total assets.</small></label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_investment_assets" id="defi_investment_yes" value="yes">
                                <label class="form-check-label" for="defi_investment_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_investment_assets" id="defi_investment_no" value="no">
                                <label class="form-check-label" for="defi_investment_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_investment_details" style="display: none;">
                                <label for="defi_investment_value" class="form-label">Please indicate the approximate value and percentage of total assets:</label>
                                <textarea class="form-control" id="defi_investment_value" name="defi_investment_value" rows="2" placeholder="Please indicate approximate value and percentage of total assets..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">14. Do you develop, issue, or advise on the issuance of tokens, coins, or other digital assets?<br><small class="text-muted">If yes, please provide details on the token structure and investor protections.</small></label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_token_issuance" id="defi_token_yes" value="yes">
                                <label class="form-check-label" for="defi_token_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_token_issuance" id="defi_token_no" value="no">
                                <label class="form-check-label" for="defi_token_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_token_details" style="display: none;">
                                <label for="defi_token_structure" class="form-label">Please provide details on the token structure and investor protections:</label>
                                <textarea class="form-control" id="defi_token_structure" name="defi_token_structure" rows="3" placeholder="Please provide details on token structure, investor protections, compliance measures, etc..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="defi_revenue_percentage" class="form-label">15. What percentage of your business revenue is derived from blockchain or cryptocurrency-related services versus traditional financial or technology services?</label>
                            <input type="text" class="form-control" id="defi_revenue_percentage" name="defi_revenue_percentage" placeholder="e.g., 75% crypto-related, 25% traditional">
                        </div>

                        <div class="mb-4">
                            <label class="form-label">16. Do you have incident response plans specific to handling cryptocurrency or blockchain-related security events, including notifying customers and regulators?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_incident_response" id="defi_incident_yes" value="yes">
                                <label class="form-check-label" for="defi_incident_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_incident_response" id="defi_incident_no" value="no">
                                <label class="form-check-label" for="defi_incident_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">17. Do you have insurance coverage in place (separate from E&O) to protect against loss or theft of cryptocurrency assets (crime / cyber crime / specie)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_crypto_insurance" id="defi_crypto_insurance_yes" value="yes">
                                <label class="form-check-label" for="defi_crypto_insurance_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_crypto_insurance" id="defi_crypto_insurance_no" value="no">
                                <label class="form-check-label" for="defi_crypto_insurance_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">18. Do you carry directors & officers (D&O) insurance that specifically contemplates exposures arising from cryptocurrency or blockchain-related activities?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_do_insurance" id="defi_do_yes" value="yes">
                                <label class="form-check-label" for="defi_do_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_do_insurance" id="defi_do_no" value="no">
                                <label class="form-check-label" for="defi_do_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">19. Have you ever been the subject of any regulatory investigation, audit, inquiry, or received a warning letter in relation to your crypto or blockchain activities?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulatory_issues" id="defi_regulatory_yes" value="yes">
                                <label class="form-check-label" for="defi_regulatory_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_regulatory_issues" id="defi_regulatory_no" value="no">
                                <label class="form-check-label" for="defi_regulatory_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">20. Have you experienced any hacks, data breaches, theft of cryptocurrency assets, or significant transaction errors in the last five years?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_incidents" id="defi_security_incidents_yes" value="yes">
                                <label class="form-check-label" for="defi_security_incidents_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="defi_security_incidents" id="defi_security_incidents_no" value="no">
                                <label class="form-check-label" for="defi_security_incidents_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="defi_security_incidents_details" style="display: none;">
                                <label for="defi_incident_details" class="form-label">If yes, please provide details, including remedial actions taken.</label>
                                <textarea class="form-control" id="defi_incident_details" name="defi_incident_details" rows="4" placeholder="Please provide details of any security incidents and remedial actions taken..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: Autonomous Robotics (Additional Questions) -->
                    <div class="form-section" data-section="16" id="robotics-section" style="display: none;">
                        <h2 class="section-title">Autonomous Robotics (Additional Questions)</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Additional Robotics Questions:</strong> Since you selected Autonomous Robotics as a sector, please complete these additional questions.
                        </div>

                        <div class="mb-4">
                            <label for="robotics_functions" class="form-label">1. What functions do your autonomous robots perform?</label>
                            <textarea class="form-control" id="robotics_functions" name="robotics_functions" rows="3" placeholder="Please describe the functions and capabilities of your autonomous robots..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Are your robots used in public or semi-public environments (e.g., hospitals, airports, malls)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_use" id="robotics_public_yes" value="yes">
                                <label class="form-check-label" for="robotics_public_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_use" id="robotics_public_no" value="no">
                                <label class="form-check-label" for="robotics_public_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="robotics_deployed_count" class="form-label">3. How many autonomous robots are currently deployed in the field?</label>
                            <input type="number" class="form-control" id="robotics_deployed_count" name="robotics_deployed_count" min="0" placeholder="Number of deployed robots">
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. What level of autonomy do your robots operate at?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_autonomy_level" id="robotics_remote_controlled" value="remote_controlled">
                                <label class="form-check-label" for="robotics_remote_controlled">Remote controlled</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_autonomy_level" id="robotics_semi_autonomous" value="semi_autonomous">
                                <label class="form-check-label" for="robotics_semi_autonomous">Semi – autonomous</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_autonomy_level" id="robotics_fully_autonomous" value="fully_autonomous">
                                <label class="form-check-label" for="robotics_fully_autonomous">Fully autonomous (no human in the loop)</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Can the robot make real-time decisions without human oversight?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_realtime_decisions" id="robotics_realtime_yes" value="yes">
                                <label class="form-check-label" for="robotics_realtime_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_realtime_decisions" id="robotics_realtime_no" value="no">
                                <label class="form-check-label" for="robotics_realtime_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Are there human override or emergency shutdown capabilities built into each unit?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_emergency_shutdown" id="robotics_shutdown_yes" value="yes">
                                <label class="form-check-label" for="robotics_shutdown_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_emergency_shutdown" id="robotics_shutdown_no" value="no">
                                <label class="form-check-label" for="robotics_shutdown_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. What navigation methods are used? (select all that apply)</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_gps" value="gps">
                                <label class="form-check-label" for="nav_gps">GPS</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_slam" value="slam">
                                <label class="form-check-label" for="nav_slam">SLAM</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_lidar" value="lidar">
                                <label class="form-check-label" for="nav_lidar">LiDAR</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_computer_vision" value="computer_vision">
                                <label class="form-check-label" for="nav_computer_vision">Computer Vision</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_beacon" value="beacon_infrared">
                                <label class="form-check-label" for="nav_beacon">Beacon/Infrared</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_navigation[]" id="nav_other" value="other">
                                <label class="form-check-label" for="nav_other">Other</label>
                            </div>
                            <div class="conditional-field mt-3" id="nav_other_details" style="display: none;">
                                <label for="nav_other_specify" class="form-label">Please specify other navigation methods:</label>
                                <input type="text" class="form-control" id="nav_other_specify" name="nav_other_specify" placeholder="Please specify other navigation methods">
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Are the robots equipped with real-time obstacle detection and collision avoidance systems?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_obstacle_detection" id="robotics_obstacle_yes" value="yes">
                                <label class="form-check-label" for="robotics_obstacle_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_obstacle_detection" id="robotics_obstacle_no" value="no">
                                <label class="form-check-label" for="robotics_obstacle_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Have you had any reported incidents involving physical harm or property damage caused by a robot?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_incidents" id="robotics_incidents_yes" value="yes">
                                <label class="form-check-label" for="robotics_incidents_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_incidents" id="robotics_incidents_no" value="no">
                                <label class="form-check-label" for="robotics_incidents_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="robotics_incidents_details" style="display: none;">
                                <label for="robotics_incident_description" class="form-label">If yes please describe</label>
                                <textarea class="form-control" id="robotics_incident_description" name="robotics_incident_description" rows="3" placeholder="Please describe any incidents involving physical harm or property damage..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Do your robots use AI agents or machine learning models to support decision-making?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_ai_ml" id="robotics_ai_yes" value="yes">
                                <label class="form-check-label" for="robotics_ai_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_ai_ml" id="robotics_ai_no" value="no">
                                <label class="form-check-label" for="robotics_ai_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="robotics_update_frequency" class="form-label">11. How often is the software or firmware on the robots updated?</label>
                            <input type="text" class="form-control" id="robotics_update_frequency" name="robotics_update_frequency" placeholder="e.g., Monthly, Quarterly, As needed">
                        </div>

                        <div class="mb-4">
                            <label class="form-label">12. Do you maintain logs of robot activity and decision-making for audit or incident response purposes?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_activity_logs" id="robotics_logs_yes" value="yes">
                                <label class="form-check-label" for="robotics_logs_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_activity_logs" id="robotics_logs_no" value="no">
                                <label class="form-check-label" for="robotics_logs_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">13. Are communications between robots and your servers encrypted and authenticated?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_encrypted_comms" id="robotics_encrypted_yes" value="yes">
                                <label class="form-check-label" for="robotics_encrypted_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_encrypted_comms" id="robotics_encrypted_no" value="no">
                                <label class="form-check-label" for="robotics_encrypted_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">14. Have your systems undergone independent safety, cybersecurity, or compliance audits?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_audits" id="robotics_audits_yes" value="yes">
                                <label class="form-check-label" for="robotics_audits_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_audits" id="robotics_audits_no" value="no">
                                <label class="form-check-label" for="robotics_audits_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">15. Are your robots certified or compliant with any relevant safety or robotics standards (e.g., ISO 13482, UL 3100)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_standards" id="robotics_standards_yes" value="yes">
                                <label class="form-check-label" for="robotics_standards_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_standards" id="robotics_standards_no" value="no">
                                <label class="form-check-label" for="robotics_standards_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">16. Do you perform regular maintenance or diagnostics on deployed robotic units?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_maintenance" id="robotics_maintenance_scheduled" value="scheduled_protocols">
                                <label class="form-check-label" for="robotics_maintenance_scheduled">Yes – per scheduled maintenance protocols</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_maintenance" id="robotics_maintenance_failure" value="failure_only">
                                <label class="form-check-label" for="robotics_maintenance_failure">Yes – only upon failure or customer report</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_maintenance" id="robotics_maintenance_none" value="no_formal">
                                <label class="form-check-label" for="robotics_maintenance_none">No formal maintenance program</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">17. Are any robots deployed at customer or third-party locations where you do not have direct operational control?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_third_party_deployment" id="robotics_third_party_no" value="no">
                                <label class="form-check-label" for="robotics_third_party_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_third_party_deployment" id="robotics_third_party_monitored" value="yes_monitored">
                                <label class="form-check-label" for="robotics_third_party_monitored">Yes – with active monitoring</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_third_party_deployment" id="robotics_third_party_unmonitored" value="yes_unmonitored">
                                <label class="form-check-label" for="robotics_third_party_unmonitored">Yes – without active monitoring</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">18. Do your robots interact directly with members of the public or end users (e.g., customers, patients, pedestrians)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_interaction" id="robotics_interaction_frequent" value="yes_frequently">
                                <label class="form-check-label" for="robotics_interaction_frequent">Yes – frequently</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_interaction" id="robotics_interaction_occasional" value="occasionally">
                                <label class="form-check-label" for="robotics_interaction_occasional">Occasionally</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_public_interaction" id="robotics_interaction_none" value="no_direct">
                                <label class="form-check-label" for="robotics_interaction_none">No direct interaction</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">19. Do you have contracts in place with customers or partners that include:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_contract_terms[]" id="contract_liability" value="limitations_liability">
                                <label class="form-check-label" for="contract_liability">Limitations of liability?</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_contract_terms[]" id="contract_indemnification" value="indemnification">
                                <label class="form-check-label" for="contract_indemnification">Indemnification terms?</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="robotics_contract_terms[]" id="contract_insurance" value="insurance_requirements">
                                <label class="form-check-label" for="contract_insurance">Insurance requirements?</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">20. Do you carry insurance coverage specific to autonomous hardware/software risks (e.g., product liability, tech E&O, cyber)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_insurance_coverage" id="robotics_insurance_adequate" value="yes_adequate">
                                <label class="form-check-label" for="robotics_insurance_adequate">Yes – adequate and reviewed annually</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_insurance_coverage" id="robotics_insurance_review" value="yes_needs_review">
                                <label class="form-check-label" for="robotics_insurance_review">Yes – but may need review</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="robotics_insurance_coverage" id="robotics_insurance_none" value="no_coverage">
                                <label class="form-check-label" for="robotics_insurance_none">No specific coverage</label>
                            </div>
                        </div>
                    </div>

                    <!-- AI Section: Conditional (only shown if AI is selected in sectors) -->
                    <div class="form-section" data-section="14" id="ai-section" style="display: none;">
                        <h2 class="section-title">Artificial Intelligence (Additional Questions)</h2>
                        
                        <div class="alert alert-info">
                            <i class="bi bi-info-circle"></i>
                            <strong>Additional AI Questions:</strong> Since you selected Artificial Intelligence as a sector, please complete these additional questions.
                        </div>

                        <div class="mb-4">
                            <label class="form-label">1. Is AI functionality integrated into any of your software products or services provided to customers or third parties?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_functionality_integrated" id="ai_functionality_yes" value="yes">
                                <label class="form-check-label" for="ai_functionality_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_functionality_integrated" id="ai_functionality_no" value="no">
                                <label class="form-check-label" for="ai_functionality_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="ai_functionality_details" style="display: none;">
                                <label for="ai_functionality_description" class="form-label">If yes, specify which products/services and describe the functionality</label>
                                <textarea class="form-control" id="ai_functionality_description" name="ai_functionality_description" rows="3" placeholder="Please describe which products/services include AI functionality and how it works..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">2. Do you develop your own proprietary AI or ML models?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="develop_proprietary_ai" id="develop_proprietary_yes" value="yes">
                                <label class="form-check-label" for="develop_proprietary_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="develop_proprietary_ai" id="develop_proprietary_no" value="no">
                                <label class="form-check-label" for="develop_proprietary_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="develop_proprietary_details" style="display: none;">
                                <label for="proprietary_ai_description" class="form-label">If yes, please describe the types of models and applications</label>
                                <textarea class="form-control" id="proprietary_ai_description" name="proprietary_ai_description" rows="3" placeholder="Please describe the types of AI/ML models you develop and their applications..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">3. Do you use third-party or open-source AI/ML models in your offerings?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="use_third_party_ai" id="use_third_party_yes" value="yes">
                                <label class="form-check-label" for="use_third_party_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="use_third_party_ai" id="use_third_party_no" value="no">
                                <label class="form-check-label" for="use_third_party_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="use_third_party_details" style="display: none;">
                                <label for="third_party_ai_description" class="form-label">If yes, please describe the types of models and applications</label>
                                <textarea class="form-control" id="third_party_ai_description" name="third_party_ai_description" rows="3" placeholder="Please describe the third-party or open-source AI/ML models you use and their applications..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">4. Do you have formal processes to test, validate, and monitor the performance and reliability of AI/ML models before and after deployment?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_testing_processes" id="ai_testing_yes" value="yes">
                                <label class="form-check-label" for="ai_testing_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_testing_processes" id="ai_testing_no" value="no">
                                <label class="form-check-label" for="ai_testing_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="ai_testing_details" style="display: none;">
                                <label for="ai_testing_description" class="form-label">If yes, please describe</label>
                                <textarea class="form-control" id="ai_testing_description" name="ai_testing_description" rows="3" placeholder="Please describe your AI/ML testing, validation, and monitoring processes..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">5. Do you have internal policies addressing the ethical or regulatory use of AI, including issues such as bias, fairness, explainability, or compliance with applicable AI legislation?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ethical_policies" id="ai_ethical_yes" value="yes">
                                <label class="form-check-label" for="ai_ethical_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ethical_policies" id="ai_ethical_no" value="no">
                                <label class="form-check-label" for="ai_ethical_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">6. Do you train AI/ML models on customer or third-party data?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_train_customer_data" id="ai_train_yes" value="yes">
                                <label class="form-check-label" for="ai_train_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_train_customer_data" id="ai_train_no" value="no">
                                <label class="form-check-label" for="ai_train_no">No</label>
                            </div>
                            <div class="conditional-field mt-3" id="ai_train_details" style="display: none;">
                                <label for="ai_data_permissions" class="form-label">If yes, do you have processes to obtain appropriate permissions, anonymize, or secure the data?</label>
                                <textarea class="form-control" id="ai_data_permissions" name="ai_data_permissions" rows="3" placeholder="Please describe your processes for obtaining permissions, anonymizing, or securing customer/third-party data..."></textarea>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">7. Have you taken steps to ensure that the use of data in training or operating your AI systems does not infringe third-party intellectual property rights?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ip_protection" id="ai_ip_yes" value="yes">
                                <label class="form-check-label" for="ai_ip_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_ip_protection" id="ai_ip_no" value="no">
                                <label class="form-check-label" for="ai_ip_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">8. Do your customer contracts include disclaimers or limitations of liability specifically addressing your AI functionality (e.g., output reliability, errors, or recommendations generated by AI)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contract_disclaimers" id="ai_disclaimers_yes" value="yes">
                                <label class="form-check-label" for="ai_disclaimers_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contract_disclaimers" id="ai_disclaimers_no" value="no">
                                <label class="form-check-label" for="ai_disclaimers_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">9. Have you been subject to any complaints, demands, or legal proceedings arising out of your use or provision of AI systems?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_legal_proceedings" id="ai_legal_yes" value="yes">
                                <label class="form-check-label" for="ai_legal_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_legal_proceedings" id="ai_legal_no" value="no">
                                <label class="form-check-label" for="ai_legal_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label">10. Are AI agents integrated into any of your software products or services provided to customers or third parties?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_agents_integrated" id="ai_agents_yes" value="yes">
                                <label class="form-check-label" for="ai_agents_yes">Yes</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_agents_integrated" id="ai_agents_no" value="no">
                                <label class="form-check-label" for="ai_agents_no">No</label>
                            </div>
                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">11. Describe the primary functions of your AI agents (check all that apply)</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_function_decision" name="ai_agent_functions[]" value="decision_making">
                                        <label class="form-check-label" for="ai_function_decision">Decision making</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_function_user_interaction" name="ai_agent_functions[]" value="user_interaction">
                                        <label class="form-check-label" for="ai_function_user_interaction">User interaction (chat, voice, etc)</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_function_automation" name="ai_agent_functions[]" value="autonomous_task_execution">
                                        <label class="form-check-label" for="ai_function_automation">Autonomous task execution</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_function_analysis" name="ai_agent_functions[]" value="data_analysis">
                                        <label class="form-check-label" for="ai_function_analysis">Data analysis</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_function_other" name="ai_agent_functions[]" value="other">
                                        <label class="form-check-label" for="ai_function_other">Other</label>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-3">
                                <textarea class="form-control" id="ai_agents_description" name="ai_agents_description" rows="3" placeholder="Please provide additional details about your AI agents' functions..."></textarea>
                            </div>
                        </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">12. Do your AI agents have the ability to take autonomous action without human review or intervention?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_autonomous_action" id="ai_autonomous_no" value="no">
                                <label class="form-check-label" for="ai_autonomous_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_autonomous_action" id="ai_autonomous_limited" value="limited">
                                <label class="form-check-label" for="ai_autonomous_limited">Yes - in limited, low-risk scenarios</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_autonomous_action" id="ai_autonomous_critical" value="critical">
                                <label class="form-check-label" for="ai_autonomous_critical">Yes – in critical or user-facing scenarios</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">13. What controls are in place to prevent prompt injection, adversarial manipulation, or misuse of AI agents?</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_sanitization" name="ai_controls[]" value="input_sanitization">
                                        <label class="form-check-label" for="ai_control_sanitization">Input sanitization</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_access" name="ai_controls[]" value="role_based_access">
                                        <label class="form-check-label" for="ai_control_access">Role-based access</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_monitoring" name="ai_controls[]" value="behavior_monitoring">
                                        <label class="form-check-label" for="ai_control_monitoring">Behavior monitoring/logging</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_enforcement" name="ai_controls[]" value="automated_policy">
                                        <label class="form-check-label" for="ai_control_enforcement">Automated policy enforcement</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="ai_control_audit" name="ai_controls[]" value="external_audit">
                                        <label class="form-check-label" for="ai_control_audit">External audit or red teaming</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">14. Have you assessed whether the outputs or actions of your AI agents could result in:</label>
                            
                            <!-- Privacy Law Violations -->
                            <div class="mb-4">
                                <strong class="d-block mb-2">Violations of privacy laws (e.g., GDPR, CCPA)?</strong>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_privacy_assessment" id="privacy_full" value="full_review">
                                    <label class="form-check-label" for="privacy_full">
                                        Yes – full legal/compliance review conducted
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_privacy_assessment" id="privacy_partial" value="partial_assessment">
                                    <label class="form-check-label" for="privacy_partial">
                                        Partial or informal assessment
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_privacy_assessment" id="privacy_none" value="not_reviewed">
                                    <label class="form-check-label" for="privacy_none">
                                        Not yet reviewed
                                    </label>
                                </div>
                            </div>

                            <!-- IP Rights Infringement -->
                            <div class="mb-4">
                                <strong class="d-block mb-2">Infringement of third-party IP rights?</strong>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_ip_assessment" id="ip_full" value="full_review">
                                    <label class="form-check-label" for="ip_full">
                                        Yes – full legal/compliance review conducted
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_ip_assessment" id="ip_partial" value="partial_assessment">
                                    <label class="form-check-label" for="ip_partial">
                                        Partial or informal assessment
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_ip_assessment" id="ip_none" value="not_reviewed">
                                    <label class="form-check-label" for="ip_none">
                                        Not yet reviewed
                                    </label>
                                </div>
                            </div>

                            <!-- Defamation, Discrimination, Regulatory Violations -->
                            <div class="mb-4">
                                <strong class="d-block mb-2">Defamation, discrimination, or regulatory violations?</strong>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_defamation_assessment" id="defamation_full" value="full_review">
                                    <label class="form-check-label" for="defamation_full">
                                        Yes – full legal/compliance review conducted
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_defamation_assessment" id="defamation_partial" value="partial_assessment">
                                    <label class="form-check-label" for="defamation_partial">
                                        Partial or informal assessment
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ai_defamation_assessment" id="defamation_none" value="not_reviewed">
                                    <label class="form-check-label" for="defamation_none">
                                        Not yet reviewed
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">15. Do you have contractual limitations of liability and indemnities in place where customers or third parties may rely on agent-generated outputs or actions?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contractual_limitations" id="ai_contract_all" value="all_contracts">
                                <label class="form-check-label" for="ai_contract_all">Yes – included in all contracts</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contractual_limitations" id="ai_contract_some" value="some_contracts">
                                <label class="form-check-label" for="ai_contract_some">In some contracts or pilot programs</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_contractual_limitations" id="ai_contract_none" value="no_contracts">
                                <label class="form-check-label" for="ai_contract_none">No</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">16. Are your AI agents integrated into any systems that can initiate financial transactions, access sensitive data, or control physical infrastructure (e.g., IoT devices, robotics)?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_critical_systems" id="ai_critical_no" value="no_access">
                                <label class="form-check-label" for="ai_critical_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_critical_systems" id="ai_critical_readonly" value="readonly_monitored">
                                <label class="form-check-label" for="ai_critical_readonly">Yes – in read-only or monitored mode</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_critical_systems" id="ai_critical_autonomous" value="autonomous_execution">
                                <label class="form-check-label" for="ai_critical_autonomous">Yes – Autonomous execution without human oversight</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">17. Do you maintain logs and version control for AI agent behavior, prompts, and outputs?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_logs_version_control" id="ai_logs_comprehensive" value="comprehensive">
                                <label class="form-check-label" for="ai_logs_comprehensive">Yes – Comprehensive and retained for 12+ months</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_logs_version_control" id="ai_logs_limited" value="limited">
                                <label class="form-check-label" for="ai_logs_limited">Yes – Limited or partial logging</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_logs_version_control" id="ai_logs_no" value="no_logging">
                                <label class="form-check-label" for="ai_logs_no">No</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">18. Have your AI agents or models been independently reviewed, tested, or red-teamed for safety, fairness, and robustness?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_independent_review" id="ai_review_third_party" value="third_party">
                                <label class="form-check-label" for="ai_review_third_party">Yes - By a third party specialist</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_independent_review" id="ai_review_internal" value="internal">
                                <label class="form-check-label" for="ai_review_internal">Yes – Internally only</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_independent_review" id="ai_review_none" value="none">
                                <label class="form-check-label" for="ai_review_none">No formal review conducted</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">19. Do your AI agents interact with minors, healthcare data, financial advice, or other regulated environments?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_regulated_interaction" id="ai_regulated_no" value="no">
                                <label class="form-check-label" for="ai_regulated_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_regulated_interaction" id="ai_regulated_compliant" value="compliant">
                                <label class="form-check-label" for="ai_regulated_compliant">Yes - in compliance with applicable laws and controls</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_regulated_interaction" id="ai_regulated_limited" value="limited_safeguards">
                                <label class="form-check-label" for="ai_regulated_limited">Yes – but limited safeguards in place</label>
                            </div>
                        </div>

                        <div class="mb-4 ai-agent-conditional" style="display: none;">
                            <label class="form-label">20. Have you experienced or been notified of any incidents involving the misuse, failure, or unintended outputs of your AI agents?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_incidents" id="ai_incidents_no" value="no">
                                <label class="form-check-label" for="ai_incidents_no">No</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_incidents" id="ai_incidents_no_harm" value="no_harm">
                                <label class="form-check-label" for="ai_incidents_no_harm">Yes – But no resulting claim or harm</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="ai_incidents" id="ai_incidents_dispute" value="dispute_loss">
                                <label class="form-check-label" for="ai_incidents_dispute">Yes – Resulted in customer dispute, loss or legal action</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Navigation Section -->
            <div class="navigation-section">
                <button type="button" class="btn btn-outline-secondary" id="prevBtn" style="display: none;">
                    ← Previous
                </button>
                
                <div class="step-counter">
                    Step <span id="currentStep">1</span> of <span id="totalSteps">13</span>
                </div>
                
                <div class="d-flex gap-2">
                    <button type="button" class="btn btn-outline-primary" id="saveBtn">
                        💾 Save Progress
                    </button>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-outline-success" id="downloadPdfBtn">
                            📄 Download PDF
                        </button>
                    </div>
                    <button type="button" class="btn btn-primary" id="nextBtn">
                        Next →
                    </button>
                    <button type="button" class="btn btn-primary" id="submitBtn" style="display: none;">
                        🚀 Submit Application
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS and jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- jsPDF AutoTable plugin for enhanced table formatting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <!-- PDF-lib for PDF merging capabilities -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <!-- Fontkit for custom font embedding in pdf-lib -->
    <script src="https://unpkg.com/@pdf-lib/fontkit@1.1.1/dist/fontkit.umd.min.js"></script>
    
    <!-- Custom Fonts Base64 -->
    <script src="./fonts-base64/Poppins-Black.b64.js"></script>
    <script src="./fonts-base64/Poppins-ExtraBold.b64.js"></script>
    <script src="./fonts-base64/Vollkorn-Regular.b64.js"></script>
    <script src="./fonts-base64/Aptos-Serif.b64.js"></script>
    <script src="./fonts-base64/Aptos-Serif-Bold.b64.js"></script>
    
    <!-- Typography helpers -->
    <script src="./typography/registerFonts.umd.js"></script>
    <script src="./typography/tokens.umd.js"></script>
    <script src="./typography/useFont.umd.js"></script>

    <!-- Custom jQuery Script for Form Logic -->
    <script>
        // Global conditional step flags
        let aiStepEnabled = false;
        let defiStepEnabled = false;
        let roboticsStepEnabled = false;

        $(document).ready(function() {
            let currentStep = 1;
            let totalSteps = 13; // Base steps, conditional steps (14-16) added when sectors selected
            const formData = {};

            // Initialize form
            initializeForm();
            loadSavedData();
            updateStepIndicator();
            updateNavigation();

            function initializeForm() {
                // Set up event handlers
                $('#nextBtn').on('click', nextStep);
                $('#prevBtn').on('click', prevStep);
                $('#saveBtn').on('click', saveProgress);
                $('#downloadPdfBtn').on('click', generatePDF);
                

                $('#submitBtn').on('click', submitForm);

                // Set up conditional logic handlers
                setupConditionalLogic();

                // Set up revenue calculation
                setupRevenueCalculation();

                // Set up form validation
                setupFormValidation();

                // Set up keyboard navigation
                setupKeyboardNavigation();

                // Set up auto-save
                setupAutoSave();
            }

            function setupConditionalLogic() {
                // Employees outside Canada conditional logic
                $('input[name="employees_outside_canada"]').on('change', function() {
                    const $details = $('#employees_outside_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Mergers/acquisitions conditional logic
                $('input[name="mergers_acquisitions"]').on('change', function() {
                    const $details = $('#mergers_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#mergers_description').val('');
                    }
                });

                // Organization regulation conditional logic
                $('input[name="organization_regulated"]').on('change', function() {
                    const $details = $('#regulated_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#regulated_description').val('');
                    }
                });

                // Organization certifications conditional logic
                $('input[name="organization_certifications"]').on('change', function() {
                    const $details = $('#certifications_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#certifications_description').val('');
                    }
                });

                // Organization audits conditional logic
                $('input[name="organization_audits"]').on('change', function() {
                    const $details = $('#audits_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#audits_description').val('');
                    }
                });

                // Business structure change conditional logic
                $('input[name="business_structure_change"]').on('change', function() {
                    const $details = $('#structure_change_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Tangible products conditional logic
                $('input[name="sell_tangible_products"]').on('change', function() {
                    const $details = $('#tangible_products_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea, input').attr('required', false).val('');
                    }
                });

                // Hardware installation conditional logic
                $('input[name="install_hardware"]').on('change', function() {
                    const $details = $('#hardware_installation_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('input').attr('required', false).val('');
                    }
                });

                // Hosting services conditional logic
                $('input[name="hosting_services"]').on('change', function() {
                    const $details = $('#hosting_services_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input[name="hosting_infrastructure"]').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                        $('#third_party_hosting_details').removeClass('show').hide();
                    }
                });

                // Third party hosting conditional logic
                $('input[name="hosting_infrastructure"]').on('change', function() {
                    const $details = $('#third_party_hosting_details');
                    if ($(this).val() === 'third_party') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('input').attr('required', false).val('');
                    }
                });

                // AI/ML tools conditional logic
                $('input[name="ai_ml_usage"]').on('change', function() {
                    const $details = $('#ai_ml_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Managed IT services conditional logic
                $('input[name="managed_it_services"]').on('change', function() {
                    const $details = $('#managed_it_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('input').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('input').attr('required', false).val('');
                    }
                });

                // High-risk areas conditional logic (dropdowns - legacy)
                $('.high-risk-select').on('change', function() {
                    const detailsName = $(this).data('details');
                    const $detailsInput = $(`input[name="${detailsName}"]`);
                    
                    if ($(this).val() === 'yes') {
                        $detailsInput.prop('disabled', false).attr('required', true);
                        $detailsInput.closest('td').removeClass('text-muted');
                    } else {
                        $detailsInput.prop('disabled', true).attr('required', false).val('');
                        $detailsInput.closest('td').addClass('text-muted');
                    }
                });

                // High-risk areas conditional logic (radio buttons)
                $('.high-risk-radio').on('change', function() {
                    const detailsName = $(this).data('details');
                    const $detailsInput = $(`input[name="${detailsName}"]`);
                    
                    if ($(this).val() === 'yes' && $(this).is(':checked')) {
                        $detailsInput.prop('disabled', false).attr('required', true);
                        $detailsInput.closest('td').removeClass('text-muted');
                    } else if ($(this).val() === 'no' && $(this).is(':checked')) {
                        $detailsInput.prop('disabled', true).attr('required', false).val('');
                        $detailsInput.closest('td').addClass('text-muted');
                    }
                });

                // Single client 5% revenue conditional logic
                $('input[name="single_client_5_percent"]').on('change', function() {
                    const $details = $('#client_5_percent_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                        $details.find('textarea').attr('required', true);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $details.find('textarea').attr('required', false).val('');
                    }
                });

                // Section 5: Contractual Controls conditional logic
                
                // Terms of service liability conditional logic
                $('input[name="liability_tos_only"]').on('change', function() {
                    const $details = $('#liability_tos_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('input[name="tos_customer_agreement"]').prop('checked', false);
                    }
                });

                // Written contract 100% conditional logic
                $('input[name="written_contract_100"]').on('change', function() {
                    const $details = $('#written_contract_percentage');
                    if ($(this).val() === 'no') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#contract_percentage').val('');
                    }
                });

                // Subcontract services conditional logic
                $('input[name="subcontract_services"]').on('change', function() {
                    const $details = $('#subcontract_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#subcontract_revenue_percentage').val('');
                    }
                });
                
                // Section 6: Cybersecurity conditional logic
                
                // Vulnerability scans conditional logic
                $('input[name="vulnerability_scans"]').on('change', function() {
                    const $details = $('#vulnerability_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#vulnerability_frequency_methods').val('');
                    }
                });

                // Financial approval conditional logic
                $('input[name="financial_approval"]').on('change', function() {
                    const $details = $('#financial_approval_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#financial_approval_process').val('');
                    }
                });

                // Section 7: Data Backup & Business Continuity conditional logic
                
                // Third party reliance conditional logic
                $('input[name="third_party_reliance"]').on('change', function() {
                    const $details = $('#third_party_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        $('#key_suppliers').val('');
                        $('input[name="slas_in_place"]').prop('checked', false);
                    }
                });

                // B2B + B2C percentage validation
                $('#sales_b2b_percentage, #sales_b2c_percentage').on('input', function() {
                    const b2b = parseFloat($('#sales_b2b_percentage').val()) || 0;
                    const b2c = parseFloat($('#sales_b2c_percentage').val()) || 0;
                    const total = b2b + b2c;
                    
                    if (total === 100) {
                        $('#sales_b2b_percentage, #sales_b2c_percentage').removeClass('is-invalid').addClass('is-valid');
                    } else {
                        $('#sales_b2b_percentage, #sales_b2c_percentage').removeClass('is-valid').addClass('is-invalid');
                    }
                });

                // Section 9: Privacy, Data Security & API Controls conditional logic
                
                // Customer data collection conditional logic
                $('input[name="collect_customer_data"]').on('change', function() {
                    const $details = $('#customer_data_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        // Clear all data type checkboxes and record counts
                        $('input[name="data_types[]"]').prop('checked', false);
                        $('input[name$="_records"]').val('');
                        // Hide all sub-details
                        $('.col-md-6 div[id$="_details"]').slideUp(200);
                    }
                });

                // Data type checkboxes conditional logic
                $('input[name="data_types[]"]').on('change', function() {
                    const dataType = $(this).val();
                    const $details = $(`#${dataType}_details`);
                    if ($(this).is(':checked')) {
                        $details.slideDown(300);
                    } else {
                        $details.slideUp(300);
                        $(`#${dataType}_records`).val('');
                    }
                });

                // Section 10: Intellectual Property & Content Governance Controls conditional logic
                
                // Original media publishing conditional logic
                $('input[name="publish_original_media"]').on('change', function() {
                    const $details = $('#original_media_details');
                    if ($(this).val() === 'yes') {
                        $details.addClass('show').slideDown(400);
                    } else {
                        $details.removeClass('show').slideUp(400);
                        // Clear all sub-fields
                        $('#media_description').val('');
                        $('input[name="content_risk_review"]').prop('checked', false);
                        $('input[name="attorney_supervised_review"]').prop('checked', false);
                    }
                });

                // IP protection steps conditional logic
                $('input[name="ip_protection_steps[]"]').on('change', function() {
                    if ($(this).val() === 'other_ip_protections') {
                        const $details = $('#other_ip_protections_details');
                        if ($(this).is(':checked')) {
                            $details.slideDown(300);
                        } else {
                            $details.slideUp(300);
                            $('#other_ip_protections_text').val('');
                        }
                    }
                });

                // Conditional sections logic - manage visibility and dynamic step numbering for AI, DeFi, and Robotics
                function updateConditionalSteps() {
                    const aiSelected = $('#sector_ai').is(':checked');
                    const defiSelected = $('#sector_defi').is(':checked');
                    const roboticsSelected = $('#sector_robotics').is(':checked');
                    
                    // Reset all conditional steps
                    $('#ai-step-indicator, #defi-step-indicator, #robotics-step-indicator').hide();
                    $('#ai-step-separator, #defi-step-separator, #robotics-step-separator').hide();
                    $('#ai-section, #defi-section, #robotics-section').removeClass('active').css('display', 'none');
                    
                    // Clear data-section attributes for all conditional sections to prevent conflicts
                    $('#ai-section').removeAttr('data-section');
                    $('#defi-section').removeAttr('data-section');
                    $('#robotics-section').removeAttr('data-section');
                    
                    // Clear form data when sections are hidden
                    if (!aiSelected) {
                        $('#ai-section').find('input, textarea').val('').prop('checked', false);
                        $('#ai-section').find('.conditional-field').hide();
                        $('#ai-section').find('.ai-agent-conditional').hide();
                    }
                    if (!defiSelected) {
                        $('#defi-section').find('input, textarea').val('').prop('checked', false);
                        $('#defi-section').find('.conditional-field').hide();
                    }
                    if (!roboticsSelected) {
                        $('#robotics-section').find('input, textarea').val('').prop('checked', false);
                        $('#robotics-section').find('.conditional-field').hide();
                    }
                    
                    // Dynamically assign step numbers starting from 14
                    let nextStep = 14;
                    const sectorSteps = [];
                    
                    if (aiSelected) {
                        sectorSteps.push({
                            sector: 'ai',
                            stepNumber: nextStep,
                            indicator: '#ai-step-indicator',
                            separator: '#ai-step-separator',
                            section: '#ai-section'
                        });
                        nextStep++;
                    }
                    
                    if (defiSelected) {
                        sectorSteps.push({
                            sector: 'defi',
                            stepNumber: nextStep,
                            indicator: '#defi-step-indicator',
                            separator: '#defi-step-separator',
                            section: '#defi-section'
                        });
                        nextStep++;
                    }
                    
                    if (roboticsSelected) {
                        sectorSteps.push({
                            sector: 'robotics',
                            stepNumber: nextStep,
                            indicator: '#robotics-step-indicator',
                            separator: '#robotics-step-separator',
                            section: '#robotics-section'
                        });
                        nextStep++;
                    }
                    
                    // Update step indicators and sections with new step numbers
                    sectorSteps.forEach(step => {
                        // Update step indicator
                        const $indicator = $(step.indicator);
                        $indicator.attr('data-step', step.stepNumber);
                        $indicator.find('.step-number').text(step.stepNumber);
                        $indicator.slideDown(300);
                        
                        // Update separator
                        $(step.separator).slideDown(300);
                        
                        // Update form section data-step attribute
                        $(step.section).attr('data-section', step.stepNumber);
                    });
                    
                    // Update enabled flags
                    aiStepEnabled = aiSelected;
                    defiStepEnabled = defiSelected;
                    roboticsStepEnabled = roboticsSelected;
                    
                    // Update total steps
                    totalSteps = 13 + sectorSteps.length;
                    
                    // If current step is beyond the new total, go back to step 13
                    if (currentStep > totalSteps) {
                        currentStep = 13;
                        showStep(currentStep);
                    }
                    
                    updateStepIndicator();
                    updateNavigation();
                }
                
                $('input[name="sectors[]"]').on('change', function() {
                    updateConditionalSteps();
                });

                // DeFi Questions conditional logic
                $('input[name="defi_custody_services"]').on('change', function() {
                    const $details = $('#defi_custody_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_custody_controls').val('');
                    }
                });

                $('input[name="defi_exchange_platform"]').on('change', function() {
                    const $details = $('#defi_exchange_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_crypto_types, #defi_daily_volume, #defi_geographic_regions').val('');
                    }
                });

                $('input[name="defi_smart_contracts"]').on('change', function() {
                    const $details = $('#defi_smart_contracts_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_audit_processes').val('');
                    }
                });

                // Additional DeFi conditional logic for new fields
                $('input[name="defi_token_issuance"]').on('change', function() {
                    const $details = $('#defi_token_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_token_structure').val('');
                    }
                });

                $('input[name="defi_security_audits"]').on('change', function() {
                    const $details = $('#defi_security_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_security_findings').val('');
                    }
                });

                $('input[name="defi_disclaimers"]').on('change', function() {
                    const $details = $('#defi_disclaimers_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_contract_clauses').val('');
                    }
                });

                $('input[name="defi_wallet_infrastructure"]').on('change', function() {
                    const $details = $('#defi_wallet_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_wallet_split').val('');
                    }
                });

                $('input[name="defi_regulated"]').on('change', function() {
                    const $details = $('#defi_regulated_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_regulators').val('');
                    }
                });

                $('input[name="defi_aml_policies"]').on('change', function() {
                    const $details = $('#defi_aml_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_aml_policy').val('');
                    }
                });

                $('input[name="defi_blockchain_analytics"]').on('change', function() {
                    const $details = $('#defi_analytics_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_analytics_systems').val('');
                    }
                });

                $('input[name="defi_third_party"]').on('change', function() {
                    const $details = $('#defi_third_party_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('input[name="defi_indemnity"]').prop('checked', false);
                    }
                });

                $('input[name="defi_investment_assets"]').on('change', function() {
                    const $details = $('#defi_investment_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_investment_value').val('');
                    }
                });

                $('input[name="defi_token_issuance"]').on('change', function() {
                    const $details = $('#defi_token_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_token_structure').val('');
                    }
                });

                $('input[name="defi_security_incidents"]').on('change', function() {
                    const $details = $('#defi_security_incidents_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#defi_incident_details').val('');
                    }
                });

                // Robotics Questions conditional logic for new fields
                $('input[name="robotics_navigation[]"][value="other"]').on('change', function() {
                    const $details = $('#nav_other_details');
                    if ($(this).is(':checked')) {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#nav_other_specify').val('');
                    }
                });

                $('input[name="robotics_incidents"]').on('change', function() {
                    const $details = $('#robotics_incidents_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#robotics_incident_description').val('');
                    }
                });

                // AI Questions conditional logic
                $('input[name="ai_functionality_integrated"]').on('change', function() {
                    const $details = $('#ai_functionality_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#ai_functionality_description').val('');
                    }
                });

                $('input[name="develop_proprietary_ai"]').on('change', function() {
                    const $details = $('#develop_proprietary_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#proprietary_ai_description').val('');
                    }
                });

                $('input[name="use_third_party_ai"]').on('change', function() {
                    const $details = $('#use_third_party_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#third_party_ai_description').val('');
                    }
                });

                $('input[name="ai_testing_processes"]').on('change', function() {
                    const $details = $('#ai_testing_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#ai_testing_description').val('');
                    }
                });

                $('input[name="ai_train_customer_data"]').on('change', function() {
                    const $details = $('#ai_train_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#ai_data_permissions').val('');
                    }
                });

                $('input[name="ai_agents_integrated"]').on('change', function() {
                    const $details = $('#ai_agents_details');
                    const $conditionalQuestions = $('.ai-agent-conditional');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                        $conditionalQuestions.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $conditionalQuestions.slideUp(400);
                        $('input[name="ai_agent_functions[]"]').prop('checked', false);
                        $('#ai_agents_description').val('');
                        // Clear all AI agent conditional questions
                        $('input[name="ai_agent_functions[]"]').prop('checked', false);
                        $('#ai_agents_description').val('');
                        $('input[name="ai_autonomous_action"]').prop('checked', false);
                        $('input[name="ai_controls[]"]').prop('checked', false);
                        $('input[name="ai_privacy_assessment"]').prop('checked', false);
                        $('input[name="ai_ip_assessment"]').prop('checked', false);
                        $('input[name="ai_defamation_assessment"]').prop('checked', false);
                        $('input[name="ai_contractual_limitations"]').prop('checked', false);
                        $('input[name="ai_critical_systems"]').prop('checked', false);
                        $('input[name="ai_logs_version_control"]').prop('checked', false);
                        $('input[name="ai_independent_review"]').prop('checked', false);
                        $('input[name="ai_regulated_interaction"]').prop('checked', false);
                        $('input[name="ai_incidents"]').prop('checked', false);
                    }
                });

                // Section 13: Prior Incidents & Claims conditional logic
                
                // Written demands conditional logic
                $('input[name="written_demands"]').on('change', function() {
                    const $details = $('#written_demands_details');
                    if ($(this).val() === 'yes') {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#written_demands_details_text').val('');
                    }
                });

                // Incident checkboxes conditional logic
                $('.incident-checkbox').on('change', function() {
                    const $details = $('#incident_details');
                    const anyChecked = $('.incident-checkbox:checked').length > 0;
                    
                    if (anyChecked) {
                        $details.slideDown(400);
                    } else {
                        $details.slideUp(400);
                        $('#incident_details_text').val('');
                    }
                });
            }

            function setupRevenueCalculation() {
                $('.revenue-input').on('input', function() {
                    let total = 0;
                    $('.revenue-input').each(function() {
                        const value = parseFloat($(this).val()) || 0;
                        total += value;
                    });
                    
                    $('#revenue_total').text(total);
                    
                    // Validate total
                    if (total === 100) {
                        $('.revenue-input').removeClass('is-invalid').addClass('is-valid');
                        $('#revenue-error').hide();
                    } else {
                        $('.revenue-input').removeClass('is-valid').addClass('is-invalid');
                        $('#revenue-error').show();
                    }
                });
            }

            function setupFormValidation() {
                $('input, textarea, select').on('blur', function() {
                    validateField($(this));
                });

                $('input[type="checkbox"][name="sectors[]"]').on('change', function() {
                    validateSectors();
                });
            }

            function validateField($field) {
                const field = $field[0];
                
                if (field.checkValidity()) {
                    $field.removeClass('is-invalid').addClass('is-valid');
                    return true;
                } else {
                    $field.removeClass('is-valid').addClass('is-invalid');
                    return false;
                }
            }

            function validateSectors() {
                const checked = $('input[name="sectors[]"]:checked').length > 0;
                const $inputs = $('input[name="sectors[]"]');
                
                if (checked) {
                    $inputs.removeClass('is-invalid').addClass('is-valid');
                    return true;
                } else {
                    $inputs.removeClass('is-valid').addClass('is-invalid');
                    return false;
                }
            }

            function validateCurrentStep() {
                let isValid = true;
                const $currentSection = $(`.form-section[data-section="${currentStep}"]`);
                
                // Validate fields in current step (only required fields)
                $currentSection.find('input[required], textarea[required], select[required]').each(function() {
                    if (!validateField($(this))) {
                        isValid = false;
                    }
                });

                // Special validation for sectors (step 1) - this is the only required section
                if (currentStep === 1) {
                    if (!validateSectors()) {
                        isValid = false;
                    }
                }

                return isValid;
            }

            function nextStep() {
                if (!validateCurrentStep()) {
                    showNotification('Please fill in all fields correctly before proceeding.', 'error');
                    return;
                }

                if (currentStep < totalSteps) {
                    currentStep++;
                    showStep(currentStep);
                    updateStepIndicator();
                    updateNavigation();
                    saveProgress();
                    
                    // Scroll to top
                    $('html, body').animate({ scrollTop: 0 }, 300);
                }
            }

            function prevStep() {
                if (currentStep > 1) {
                    currentStep--;
                    showStep(currentStep);
                    updateStepIndicator();
                    updateNavigation();
                    
                    // Scroll to top
                    $('html, body').animate({ scrollTop: 0 }, 300);
                }
            }

            function showStep(step) {
                $('.form-section').removeClass('active');
                const $targetSection = $(`.form-section[data-section="${step}"]`);
                $targetSection.addClass('active');
                
                // For conditional sections, remove inline display:none to allow CSS to take effect
                if (step >= 14) {
                    $targetSection.css('display', '');
                }
            }

            function updateStepIndicator() {
                $('.step-item').each(function() {
                    const stepNum = parseInt($(this).data('step'));
                    
                    if (stepNum < currentStep) {
                        $(this).addClass('completed').removeClass('active');
                    } else if (stepNum === currentStep) {
                        $(this).addClass('active').removeClass('completed');
                    } else {
                        $(this).removeClass('active completed');
                    }
                });

                $('#currentStep').text(currentStep);
                $('#totalSteps').text(totalSteps);
            }

            function updateNavigation() {
                // Previous button
                if (currentStep === 1) {
                    $('#prevBtn').hide();
                } else {
                    $('#prevBtn').show();
                }

                // Next/Submit button
                if (currentStep === totalSteps) {
                    $('#nextBtn').hide();
                    $('#submitBtn').show();
                } else {
                    $('#nextBtn').show();
                    $('#submitBtn').hide();
                }
            }

            function setupKeyboardNavigation() {
                $(document).on('keydown', function(e) {
                    if (e.ctrlKey) {
                        if (e.key === 'ArrowRight' && currentStep < totalSteps) {
                            e.preventDefault();
                            nextStep();
                        } else if (e.key === 'ArrowLeft' && currentStep > 1) {
                            e.preventDefault();
                            prevStep();
                        }
                    }
                });
            }

            function setupAutoSave() {
                // Auto-save every 30 seconds
                setInterval(saveProgress, 30000);

                // Save on form field changes
                $('input, textarea, select').on('change', function() {
                    setTimeout(saveProgress, 1000);
                });
            }

            function saveProgress() {
                try {
                    const data = {
                        currentStep: currentStep,
                        formData: $('#insuranceForm').serializeArray(),
                        timestamp: new Date().toISOString()
                    };
                    
                    localStorage.setItem('axisInsuranceForm', JSON.stringify(data));
                    
                    // Show brief save indicator
                    const $saveBtn = $('#saveBtn');
                    const originalText = $saveBtn.text();
                    $saveBtn.text('✓ Saved').addClass('btn-success').removeClass('btn-outline-primary');
                    
                    setTimeout(() => {
                        $saveBtn.text(originalText).removeClass('btn-success').addClass('btn-outline-primary');
                    }, 2000);
                    
                } catch (error) {
                    console.error('Error saving progress:', error);
                }
            }

            function loadSavedData() {
                try {
                    const saved = localStorage.getItem('axisInsuranceForm');
                    if (saved) {
                        const data = JSON.parse(saved);
                        
                        // Restore form data
                        data.formData.forEach(field => {
                            const $element = $(`[name="${field.name}"]`);
                            if ($element.attr('type') === 'checkbox' || $element.attr('type') === 'radio') {
                                if (field.value) {
                                    $element.filter(`[value="${field.value}"]`).prop('checked', true);
                                }
                            } else {
                                $element.val(field.value);
                            }
                        });

                        // Restore current step
                        currentStep = data.currentStep || 1;
                        showStep(currentStep);
                        updateStepIndicator();
                        updateNavigation();

                        // Trigger conditional logic
                        $('input[name="employees_outside_canada"]:checked').trigger('change');
                        $('input[name="business_structure_change"]:checked').trigger('change');
                        $('input[name="mergers_acquisitions"]:checked').trigger('change');
                        $('input[name="organization_regulated"]:checked').trigger('change');
                        $('input[name="organization_certifications"]:checked').trigger('change');
                        $('input[name="organization_audits"]:checked').trigger('change');
                        $('input[name="sell_tangible_products"]:checked').trigger('change');
                        $('.high-risk-select').trigger('change');
                        $('.high-risk-radio:checked').trigger('change');
                        $('.revenue-input').trigger('input');
                        
                        // Trigger conditional section logic
                        $('input[name="sectors[]"]').trigger('change');
                        $('input[name="ai_functionality_integrated"]:checked').trigger('change');
                        $('input[name="develop_proprietary_ai"]:checked').trigger('change');
                        $('input[name="use_third_party_ai"]:checked').trigger('change');
                        $('input[name="ai_testing_processes"]:checked').trigger('change');
                        $('input[name="ai_train_customer_data"]:checked').trigger('change');
                        $('input[name="ai_agents_integrated"]:checked').trigger('change');
                        
                        // Trigger DeFi conditional logic
                        $('input[name="defi_custody_services"]:checked').trigger('change');
                        $('input[name="defi_exchange_platform"]:checked').trigger('change');
                        $('input[name="defi_smart_contracts"]:checked').trigger('change');
                        $('input[name="defi_token_issuance"]:checked').trigger('change');
                        $('input[name="defi_security_audits"]:checked').trigger('change');
                        $('input[name="defi_disclaimers"]:checked').trigger('change');
                        $('input[name="defi_wallet_infrastructure"]:checked').trigger('change');
                        $('input[name="defi_regulated"]:checked').trigger('change');
                        $('input[name="defi_aml_policies"]:checked').trigger('change');
                        $('input[name="defi_blockchain_analytics"]:checked').trigger('change');
                        $('input[name="defi_third_party"]:checked').trigger('change');
                        $('input[name="defi_investment_assets"]:checked').trigger('change');
                        $('input[name="defi_token_issuance"]:checked').trigger('change');
                        $('input[name="defi_security_incidents"]:checked').trigger('change');
                        
                        // Trigger Robotics conditional logic
                        $('input[name="robotics_navigation[]"]:checked').trigger('change');
                        $('input[name="robotics_incidents"]:checked').trigger('change');

                        showNotification('Previous progress restored.', 'success');
                    }
                } catch (error) {
                    console.error('Error loading saved data:', error);
                }
            }

            function submitForm() {
                if (!validateCurrentStep()) {
                    showNotification('Please fill in all fields correctly before submitting.', 'error');
                    return;
                }

                // Show loading state
                const $submitBtn = $('#submitBtn');
                $submitBtn.addClass('loading').prop('disabled', true);

                // Simulate form submission
                setTimeout(() => {
                    // Clear saved data
                    localStorage.removeItem('axisInsuranceForm');
                    
                    // Show success message with PDF download option
                    showSubmissionSuccess();
                    
                    // Reset submit button and replace with PDF download button
                    $submitBtn.removeClass('loading').prop('disabled', false);
                    $submitBtn.html('📄 Download PDF Application').off('click').on('click', generatePDF);
                    
                }, 2000);
            }

            function showSubmissionSuccess() {
                // Remove existing notifications
                $('.notification').remove();
                
                const $notification = $(`
                    <div class="notification alert alert-success alert-dismissible fade show position-fixed" 
                         style="top: 20px; right: 20px; z-index: 9999; max-width: 450px;">
                        <div class="d-flex align-items-center">
                            <div class="flex-grow-1">
                                <strong>✅ Application submitted successfully!</strong><br>
                                <small>You will receive a confirmation email shortly. You can now download your application as a PDF.</small>
                            </div>
                        </div>
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);

                $('body').append($notification);

                // Auto-dismiss after 10 seconds (longer for PDF download option)
                setTimeout(() => {
                    $notification.alert('close');
                }, 10000);
            }

            function collectFormData() {
                const formData = {
                    submissionDate: new Date().toLocaleDateString(),
                    submissionTime: new Date().toLocaleTimeString(),
                    sectors: [],
                    generalInfo: {},
                    operations: {},
                    financials: {},
                    contractualControls: {},
                    cybersecurity: {},
                    dataBackup: {},
                    thirdParty: {},
                    privacy: {},
                    intellectualProperty: {},
                    employment: {},
                    aiTools: {},
                    priorIncidents: {},
                    ai: {},
                    defi: {},
                    robotics: {}
                };

                // Collect sectors
                $('input[name="sectors[]"]:checked').each(function() {
                    formData.sectors.push($(this).val());
                });

                // Collect all form inputs by section
                const sections = [
                    { step: 2, key: 'generalInfo' },
                    { step: 3, key: 'operations' },
                    { step: 4, key: 'financials' },
                    { step: 5, key: 'contractualControls' },
                    { step: 6, key: 'cybersecurity' },
                    { step: 7, key: 'dataBackup' },
                    { step: 8, key: 'thirdParty' },
                    { step: 9, key: 'privacy' },
                    { step: 10, key: 'intellectualProperty' },
                    { step: 11, key: 'employment' },
                    { step: 12, key: 'aiTools' },
                    { step: 13, key: 'priorIncidents' }
                ];

                // Add conditional sections based on their current step numbers (dynamic)
                if (aiStepEnabled) {
                    const aiStep = $('#ai-section').attr('data-section');
                    if (aiStep) sections.push({ step: parseInt(aiStep), key: 'ai' });
                }
                if (defiStepEnabled) {
                    const defiStep = $('#defi-section').attr('data-section');
                    if (defiStep) sections.push({ step: parseInt(defiStep), key: 'defi' });
                }
                if (roboticsStepEnabled) {
                    const roboticsStep = $('#robotics-section').attr('data-section');
                    if (roboticsStep) sections.push({ step: parseInt(roboticsStep), key: 'robotics' });
                }

                sections.forEach(section => {
                    $(`.form-section[data-section="${section.step}"] input, .form-section[data-section="${section.step}"] textarea, .form-section[data-section="${section.step}"] select`).each(function() {
                        const $input = $(this);
                        const name = $input.attr('name');
                        const type = $input.attr('type');
                        
                        if (name) {
                            if (type === 'checkbox') {
                                if (!formData[section.key][name]) {
                                    formData[section.key][name] = [];
                                }
                                if ($input.is(':checked')) {
                                    formData[section.key][name].push($input.val());
                                }
                            } else if (type === 'radio') {
                                if ($input.is(':checked')) {
                                    formData[section.key][name] = $input.val();
                                }
                            } else {
                                const value = $input.val();
                                if (value && value.trim() !== '') {
                                    formData[section.key][name] = value;
                                }
                            }
                        }
                    });
                });

                return formData;
            }

            

            async function generatePDF() {
                // Helper to render selected radio option with Wingdings2BoxedCheck
                function renderSelectedRadioOption(contentDoc, selectedValue, options, margin) {
                    const selectedOption = options.find(option => selectedValue === option.value);
                    if (selectedOption) {
                        window.useFontUMD(contentDoc, 'Wingdings2BoxedCheck');
                        const status = '\u2611'; // Boxed checkmark
                        window.useFontUMD(contentDoc, 'AptosSerifReg12'); // Reset font
                        addWrappedText(`${status} ${selectedOption.label}`, margin);
                    } else {                        
                        window.useFontUMD(contentDoc, 'AptosSerifReg12'); // Reset font
                        addWrappedText(`No selection`, margin);
                    }
                }
                    
                try {
                    showNotification('📄 Generating PDF with static cover and end pages...', 'info');
                    
                    // Collect all form data
                    const formData = collectFormData();
                    
                    // First, generate the content PDF using jsPDF (without front and end pages)
                    const { jsPDF } = window.jspdf;
                    const contentDoc = new jsPDF();
                    
                    // Register custom fonts
                    window.registerFontsUMD(contentDoc);
                    
                    let yPosition = 50; // Start below header area
                    const pageHeight = contentDoc.internal.pageSize.height;
                    const margin = 20;
                    const headerHeight = 45; // Space reserved for header
                    const lineHeight = 6;
                    const brandBlue = [0, 80, 240]; // #0050F0 - Primary brand color
                    const skyBlue = [0, 188, 255]; // #00bcff - Sky blue for highlights
                    const darkNavy = [0, 0, 54]; // #000036 - Dark navy
                    const sectionTitleColor = brandBlue; // Use brand blue for section titles
                    
                    // Helper function to add header to each page
                    function addPageHeader(currentPageNum, totalPages) {
                        const pageWidth = contentDoc.internal.pageSize.width;
                        
                        // Axis logo image (left side)
                        try {
                            // Load and add logo image
                            const logoImg = new Image();
                            logoImg.onload = function() {
                                contentDoc.addImage(logoImg, 'PNG', margin, 15, 30, 15); // x, y, width, height
                            };
                            logoImg.src = './pdf/logo.png';
                            // For synchronous operation, we'll use a different approach
                            contentDoc.addImage('./pdf/logo.png', 'PNG', margin, 15, 30, 15);
                        } catch (error) {
                            // Fallback to text if image fails to load
                            contentDoc.setFontSize(12);
                            contentDoc.setFont('AptosSerif', 'bold');
                            contentDoc.setTextColor(0, 79, 240); // #004FF0 color for Axis
                            contentDoc.text('AXIS', margin, 25);
                        }
                        
                        // Technology Insurance Application | page number (single line, right side)
                        window.useFontUMD(contentDoc, 'PoppinsBlack12');
                        contentDoc.setTextColor(brandBlue[0], brandBlue[1], brandBlue[2]); // Blue color
                        //const headerText = `Technology Insurance Application | ${currentPageNum}`;
                        const headerText = `Technology Insurance Application`;
                        const textWidth = contentDoc.getTextWidth(headerText);
                        contentDoc.text(headerText, pageWidth - margin - textWidth, 25);
                        
                        // Blue border line at bottom of header
                        contentDoc.setDrawColor(brandBlue[0], brandBlue[1], brandBlue[2]); // #0050F0 color
                        contentDoc.setLineWidth(0.5);
                        contentDoc.line(margin, 35, pageWidth - margin, 35);
                        
                        // Reset text color to black for content
                        contentDoc.setTextColor(0, 0, 0);
                    }
                    
                    // Helper function to add new page if needed
                    function checkPageBreak(additionalHeight = 15) {
                        if (yPosition + additionalHeight > pageHeight - margin) {
                            contentDoc.addPage();
                            yPosition = headerHeight + 5; // Start below header
                        }
                    }
                    
                    // Helper function to add text with word wrapping
                    function addWrappedText(text, x, fontSize = 10, maxWidth = 170) {
                        contentDoc.setFontSize(fontSize);
                        const splitText = contentDoc.splitTextToSize(text, maxWidth);
                        splitText.forEach(line => {
                            checkPageBreak();
                            contentDoc.text(line, x, yPosition);
                            yPosition += lineHeight;
                        });
                    }
                    
                    // Helper function to add section title with blue color
                    function addSectionTitle(text, x) {
                        window.useFontUMD(contentDoc, 'PoppinsExtraBold16');
                        contentDoc.setTextColor(brandBlue[0], brandBlue[1], brandBlue[2]); // Blue color
                        addWrappedText(text, x, 16); // Pass font size to wrapped text (16 points)
                        contentDoc.setTextColor(0, 0, 0); // Reset to black
                        yPosition += 5;
                    }
                    
                    // Generate front cover page with dynamic content
                    async function generateFrontCover() {
                        // Hybrid Approach: Create text overlay with jsPDF, then merge with template using pdf-lib
                        
                        // Step 1: Create text overlay PDF using jsPDF with base64 fonts
                        const overlayDoc = new jsPDF({
                            orientation: 'portrait',
                            unit: 'pt',
                            format: 'a4'
                        });
                        
                        // Register fonts
                        window.registerFontsUMD(overlayDoc);
                        
                        // Get company name and submission date
                        const companyName = formData.generalInfo?.legal_name || 'ABC Sample Corporation';
                        const submissionDate = new Date().toLocaleString('en-US', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit',
                            second: '2-digit',
                            hour12: true
                        });
                        
                        // Position text at bottom left (convert from bottom-up to top-down coordinates)
                        const leftMargin = 110;
                        const pageHeight = 842; // A4 size height in points
                        const bottomMargin = 240; // Distance from bottom
                        const yPosition = pageHeight - bottomMargin; // Convert to jsPDF coordinates
                        
                        // Add company name in Sky Blue using Poppins Black 14pt
                        window.useFontUMD(overlayDoc, 'PoppinsBlack14');
                        overlayDoc.setTextColor(0, 188, 255); // Sky Blue
                        overlayDoc.text(companyName, leftMargin, yPosition - 20);
                        
                        // Add submission date/time in Black using Aptos Serif Regular 14pt
                        window.useFontUMD(overlayDoc, 'AptosSerifReg14');
                        overlayDoc.setTextColor(0, 0, 0); // Black
                        overlayDoc.text(`Submitted: ${submissionDate}`, leftMargin, yPosition);
                        
                        // Get overlay PDF as ArrayBuffer
                        const overlayPdfBytes = overlayDoc.output('arraybuffer');
                        
                        // Step 2: Load the existing front cover template
                        const templatePdfBytes = await fetch('./pdf/front cover page.pdf').then(res => res.arrayBuffer());
                        
                        // Step 3: Merge using pdf-lib
                        const templateDoc = await PDFLib.PDFDocument.load(templatePdfBytes);
                        const overlayPdfDoc = await PDFLib.PDFDocument.load(overlayPdfBytes);
                        
                        // Get the first page from both documents
                        const [templatePage] = templateDoc.getPages();
                        const [overlayPage] = await templateDoc.copyPages(overlayPdfDoc, [0]);
                        
                        // Embed the overlay page content onto the template page
                        // Get the overlay content as embedded page
                        const embeddedOverlay = await templateDoc.embedPage(overlayPage);
                        
                        // Draw the overlay on top of the template
                        templatePage.drawPage(embeddedOverlay, {
                            x: 0,
                            y: 0,
                            width: templatePage.getWidth(),
                            height: templatePage.getHeight(),
                            opacity: 1
                        });
                        
                        // Save and return the merged PDF
                        return await templateDoc.save();
                    }
                    
                    // Generate the dynamic front cover
                    const frontCoverPdfBytes = await generateFrontCover();
                    
                    // Start directly with content (no front cover page in contentDoc)
                    yPosition = headerHeight + 5; // Reset position for content pages
                    
                    // Initialize page tracking for ToC
                    const sectionPageNumbers = {};
                    
                    // Section 1: Sectors - Enhanced with questions and options
                    checkPageBreak(20);
                    sectionPageNumbers['1. Sectors'] = contentDoc.internal.getNumberOfPages() + 2; // +2 for front cover and ToC
                    addSectionTitle('1. Sectors', margin);

                    window.useFontUMD(contentDoc, 'AptosSerifBold12');
                    addWrappedText('Question: Does your business provide products or services within any of the following sectors?', margin, 12);
                    yPosition += 3;
                    
                    window.useFontUMD(contentDoc, 'AptosSerifReg12');
                    
                    // Define all sector options
                    const sectorOptions = [
                        { value: 'ai', label: 'Artificial Intelligence' },
                        { value: 'defi', label: 'Decentralized Finance & Digital Assets' },
                        { value: 'robotics', label: 'Autonomous Robotics' }
                    ];
                    
                    sectorOptions.forEach(option => {
                        const isSelected = formData.sectors.includes(option.value);
                        const status = isSelected ? '[X]' : '[ ]';
                        addWrappedText(`${status} ${option.label}`, margin);
                    });
                    
                    yPosition += 10;
                    
                    // Enhanced function for Section 2 with questions and selected options
                    function addSection2WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('2. General Information', margin);
                        
                        // Define all Section 2 questions with their field names  
                        const section2Questions = [
                            {
                                question: '1. Legal Name of Organization',
                                field: 'legal_name',
                                type: 'text'
                            },
                            {
                                question: 'Location of Incorporation',
                                field: 'incorporation_location',
                                type: 'text'
                            },
                            {
                                question: '2. Mailing Address',
                                field: 'mailing_address',
                                type: 'textarea'
                            },
                            {
                                question: '3. List all subsidiaries & Location of Incorporation',
                                field: 'subsidiaries',
                                type: 'textarea'
                            },
                            {
                                question: '4. List all Physical Locations',
                                field: 'physical_locations',
                                type: 'textarea'
                            },
                            {
                                question: '5. List all URLs',
                                field: 'urls',
                                type: 'textarea'
                            },
                            {
                                question: '6. Year Company Established',
                                field: 'year_established',
                                type: 'number'
                            },
                            {
                                question: '7. Number of Employees',
                                field: 'num_employees',
                                type: 'number'
                            },
                            {
                                question: '8. Are any Employees based outside of Canada?',
                                field: 'employees_outside_canada',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    question: 'If yes, list the country and the number of employees in each:',
                                    field: 'employees_outside_list'
                                }
                            },
                            {
                                question: '9. Breach Response Contact',
                                fields: [
                                    { field: 'breach_contact_name', label: 'Name' },
                                    { field: 'breach_contact_title', label: 'Title' },
                                    { field: 'breach_contact_email', label: 'Email' },
                                    { field: 'breach_contact_phone', label: 'Phone' }
                                ],
                                type: 'composite'
                            },
                            {
                                question: '10. Any recent or planned mergers, acquisitions, or divestitures?',
                                field: 'mergers_acquisitions',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    question: 'Please provide details:',
                                    field: 'mergers_description'
                                }
                            },
                            {
                                question: '11. Is your organization regulated by any governing body or required to comply with specific legislation, standards, or licensing requirements?',
                                field: 'organization_regulated',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    question: 'If yes, please specify the authority and relevant legislation:',
                                    field: 'regulated_description'
                                }
                            },
                            {
                                question: '12. Does your organization hold any recognized certifications (e.g., ISO 27001, SOC 2, PCI DSS, or equivalent)?',
                                field: 'organization_certifications',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    question: 'If yes, please specify:',
                                    field: 'certifications_description'
                                }
                            },
                            {
                                question: '13. Does your organization undergo any independent audits, assessments, or third-party evaluations of its internal controls or risk management practices?',
                                field: 'organization_audits',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    question: 'If yes, please specify the scope, frequency, and auditing party:',
                                    field: 'audits_description'
                                }
                            }
                        ];
                        
                        section2Questions.forEach(q => {
                            checkPageBreak(15);                            
                            window.useFontUMD(contentDoc, 'AptosSerifBold12');
                            addWrappedText(q.question, margin);
                            yPosition += 2;
                            
                            window.useFontUMD(contentDoc, 'AptosSerifReg12');
                            
                            if (q.type === 'text' || q.type === 'textarea' || q.type === 'number') {
                                const value = sectionData[q.field];
                                if (value) {
                                    addWrappedText(`Answer: ${value}`, margin);
                                } else {
                                    addWrappedText('Answer: Not provided', margin);
                                }
                            } else if (q.type === 'radio') {
                                const selectedValue = sectionData[q.field];
                                renderSelectedRadioOption(contentDoc, selectedValue, q.options, margin);
                                
                                // Handle follow-up questions
                                if (q.followUp && selectedValue === q.followUp.condition) {
                                    yPosition += 2;
                                    contentDoc.setFont(undefined, 'italic');
                                    addWrappedText(q.followUp.question, margin);
                                    contentDoc.setFont(undefined, 'normal');
                                    const followUpValue = sectionData[q.followUp.field];
                                    if (followUpValue) {
                                        addWrappedText(`Answer: ${followUpValue}`, margin);
                                    } else {
                                        addWrappedText('Answer: Not provided', margin);
                                    }
                                }
                            } else if (q.type === 'composite') {
                                q.fields.forEach(field => {
                                    const value = sectionData[field.field];
                                    addWrappedText(`${field.label}: ${value || 'Not provided'}`, margin);
                                });
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 3 with questions and selected options
                    function addSection3WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('3. Operations', margin);
                        
                        // Define all Section 3 questions with their field names  
                        const section3Questions = [
                            {
                                question: '1. Briefly describe the services and/or technology products your company provides',
                                field: 'services_description',
                                type: 'textarea'
                            },
                            {
                                question: '2. Percentage of revenue derived from each activity',
                                type: 'table',
                                fields: [
                                    { field: 'revenue_software', label: 'Custom Software Development' },
                                    { field: 'revenue_saas', label: 'Software as a Service' },
                                    { field: 'revenue_consulting', label: 'Consulting Services' },
                                    { field: 'revenue_hardware', label: 'Hardware' },
                                    { field: 'revenue_other', label: 'Other' }
                                ]
                            },
                            {
                                question: '3. Do you operate in any of the following areas?',
                                type: 'risk_areas',
                                fields: [
                                    { field: 'risk_critical_infrastructure', label: 'Critical Infrastructure', details: 'critical_infrastructure_details' },
                                    { field: 'risk_financial_services', label: 'Financial Services', details: 'financial_services_details' },
                                    { field: 'risk_healthcare', label: 'Healthcare', details: 'healthcare_details' },
                                    { field: 'risk_government', label: 'Government/Defense', details: 'government_details' },
                                    { field: 'risk_aerospace', label: 'Aerospace', details: 'aerospace_details' },
                                    { field: 'risk_rail', label: 'Rail', details: 'rail_details' },
                                    { field: 'risk_mining_oil_gas', label: 'Mining/Oil & Gas', details: 'mining_oil_gas_details' },
                                    { field: 'risk_energy', label: 'Energy', details: 'energy_details' },
                                    { field: 'risk_adult_entertainment', label: 'Adult Entertainment/Gambling', details: 'adult_entertainment_details' },
                                    { field: 'risk_semiconductors', label: 'Semi-Conductors', details: 'semiconductors_details' },
                                    { field: 'risk_architecture_engineering', label: 'Architecture/Engineering', details: 'architecture_engineering_details' }
                                ]
                            },
                            {
                                question: '4. Do you sell tangible products?',
                                field: 'sell_tangible_products',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    fields: [
                                        { field: 'tangible_products_description', label: 'Product description' },
                                        { field: 'tangible_products_revenue', label: '% Revenue' }
                                    ]
                                }
                            },
                            {
                                question: '5. Do you (or your subcontractors) install hardware at client sites?',
                                field: 'install_hardware',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'hardware_installation_revenue',
                                    label: '% revenue'
                                }
                            },
                            {
                                question: '6. Do you provide hosting services to third parties?',
                                field: 'hosting_services',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    subQuestion: 'If yes, do you use:',
                                    field: 'hosting_infrastructure',
                                    options: [
                                        { value: 'own', label: 'Own Infrastructure' },
                                        { value: 'third_party', label: 'Third Party' }
                                    ],
                                    thirdPartyFields: [
                                        { field: 'third_party_name', label: 'Provider name' },
                                        { field: 'third_party_tier', label: 'Tier rating' }
                                    ]
                                }
                            },
                            {
                                question: '7. Do you use artificial intelligence (AI) or machine learning (ML) tools in your business operations?',
                                field: 'ai_ml_usage',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'ai_ml_description',
                                    label: 'Details'
                                }
                            },
                            {
                                question: '8. Do you provide any managed IT services?',
                                field: 'managed_it_services',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'managed_it_revenue',
                                    label: '% revenue'
                                }
                            },
                            {
                                question: '9. Approximately how many customers do you have?',
                                field: 'customer_count',
                                type: 'number'
                            },
                            {
                                question: '10. List the top 3 clients over the past 3 years',
                                type: 'client_table',
                                fields: [
                                    { name: 'client_1_name', service: 'client_1_service', duration: 'client_1_duration', value: 'client_1_value' },
                                    { name: 'client_2_name', service: 'client_2_service', duration: 'client_2_duration', value: 'client_2_value' },
                                    { name: 'client_3_name', service: 'client_3_service', duration: 'client_3_duration', value: 'client_3_value' }
                                ]
                            }
                        ];
                        
                        section3Questions.forEach(q => {
                            checkPageBreak(15);
                            contentDoc.setFontSize(12);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 2;
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont(undefined, 'normal');
                            
                            if (q.type === 'text' || q.type === 'textarea' || q.type === 'number') {
                                const value = sectionData[q.field];
                                addWrappedText(`Answer: ${value || 'Not provided'}`, margin);
                            } else if (q.type === 'table') {
                                // Create AutoTable for revenue percentages
                                checkPageBreak(30);
                                
                                const tableData = q.fields.map(field => {
                                    const value = sectionData[field.field] || '0';
                                    return [field.label, value + '%'];
                                });
                                
                                contentDoc.autoTable({
                                    head: [['Activity', 'Percentage']],
                                    body: tableData,
                                    startY: yPosition + 5,
                                    margin: { left: margin, top: headerHeight + 5 }, // Account for header space
                                    styles: {
                                        fontSize: 10,
                                        cellPadding: 3
                                    },
                                    headStyles: {
                                        fillColor: [0, 80, 240], // #004FF0 color
                                        textColor: 255,
                                        fontStyle: 'bold'
                                    },
                                    alternateRowStyles: {
                                        fillColor: [245, 245, 245]
                                    },
                                    didDrawPage: function (data) {
                                        // Add header to each page where table appears
                                        if (data.pageNumber > 1) {
                                            addPageHeader(data.pageNumber, contentDoc.internal.getNumberOfPages());
                                        }
                                    },
                                    didAddPage: function (data) {
                                        // Ensure new page starts below header
                                        data.settings.margin.top = headerHeight + 5;
                                    }
                                });
                                
                                yPosition = contentDoc.lastAutoTable.finalY + 10;
                            } else if (q.type === 'risk_areas') {
                                // Create AutoTable for risk areas
                                checkPageBreak(35);
                                
                                const tableData = q.fields.map(area => {
                                    const selectedValue = sectionData[area.field];
                                    const details = selectedValue === 'yes' ? (sectionData[area.details] || 'No details') : 'N/A';
                                    const yesNoStatus = selectedValue === 'yes' ? 'Yes' : (selectedValue === 'no' ? 'No' : '-');
                                    
                                    return [
                                        area.label,
                                        yesNoStatus,
                                        details.length > 25 ? details.substring(0, 22) + '...' : details
                                    ];
                                });
                                
                                contentDoc.autoTable({
                                    head: [['Area', 'Yes/No', 'Details']],
                                    body: tableData,
                                    startY: yPosition + 5,
                                    margin: { left: margin, top: headerHeight + 5 }, // Account for header space
                                    styles: {
                                        fontSize: 9,
                                        cellPadding: 3
                                    },
                                    headStyles: {
                                        fillColor: [0, 80, 240], // #004FF0 color
                                        textColor: 255,
                                        fontStyle: 'bold'
                                    },
                                    alternateRowStyles: {
                                        fillColor: [245, 245, 245]
                                    },
                                    columnStyles: {
                                        0: { cellWidth: 60 },
                                        1: { cellWidth: 25, halign: 'center' },
                                        2: { cellWidth: 50 }
                                    },
                                    didDrawPage: function (data) {
                                        // Add header to each page where table appears
                                        if (data.pageNumber > 1) {
                                            addPageHeader(data.pageNumber, contentDoc.internal.getNumberOfPages());
                                        }
                                    },
                                    didAddPage: function (data) {
                                        // Ensure new page starts below header
                                        data.settings.margin.top = headerHeight + 5;
                                    }
                                });
                                
                                yPosition = contentDoc.lastAutoTable.finalY + 10;
                            } else if (q.type === 'radio') {
                                const selectedValue = sectionData[q.field];
                                renderSelectedRadioOption(contentDoc, selectedValue, q.options, margin);
                                
                                // Handle follow-up questions
                                if (q.followUp && selectedValue === q.followUp.condition) {
                                    yPosition += 2;
                                    if (q.followUp.fields) {
                                        q.followUp.fields.forEach(field => {
                                            const value = sectionData[field.field];
                                            addWrappedText(`${field.label}: ${value || 'Not provided'}`, margin);
                                        });
                                    } else if (q.followUp.field && q.followUp.label) {
                                        const followUpValue = sectionData[q.followUp.field];
                                        addWrappedText(`${q.followUp.label}: ${followUpValue || 'Not provided'}`, margin);
                                    }
                                    if (q.followUp.subQuestion) {
                                        addWrappedText(q.followUp.subQuestion, margin);
                                        const subValue = sectionData[q.followUp.field];
                                        renderSelectedRadioOption(contentDoc, subValue, q.followUp.options, margin);
                                        if (subValue === 'third_party' && q.followUp.thirdPartyFields) {
                                            q.followUp.thirdPartyFields.forEach(field => {
                                                const value = sectionData[field.field];
                                                addWrappedText(`${field.label}: ${value || 'Not provided'}`, margin);
                                            });
                                        }
                                    }
                                }
                            } else if (q.type === 'client_table') {
                                // Create AutoTable for top 3 clients
                                checkPageBreak(25);
                                
                                const tableData = [];
                                for (let i = 1; i <= 3; i++) {
                                    const client = q.fields[i-1];
                                    const name = sectionData[client.name] || 'Not provided';
                                    const service = sectionData[client.service] || 'Not provided';
                                    const duration = sectionData[client.duration] || 'Not provided';
                                    const value = sectionData[client.value] || '0';
                                    
                                    tableData.push([
                                        i.toString(),
                                        name.length > 25 ? name.substring(0, 22) + '...' : name,
                                        service.length > 25 ? service.substring(0, 22) + '...' : service,
                                        duration,
                                        '$' + value
                                    ]);
                                }
                                
                                contentDoc.autoTable({
                                    head: [['#', 'Client Name', 'Service Provided', 'Duration', 'Value ($)']],
                                    body: tableData,
                                    startY: yPosition + 5,
                                    margin: { left: margin, top: headerHeight + 5 }, // Account for header space
                                    styles: {
                                        fontSize: 9,
                                        cellPadding: 3
                                    },
                                    headStyles: {
                                        fillColor: [0, 80, 240], // #004FF0 color
                                        textColor: 255,
                                        fontStyle: 'bold'
                                    },
                                    alternateRowStyles: {
                                        fillColor: [245, 245, 245]
                                    },
                                    columnStyles: {
                                        0: { cellWidth: 15, halign: 'center' },
                                        1: { cellWidth: 40 },
                                        2: { cellWidth: 40 },
                                        3: { cellWidth: 25 },
                                        4: { cellWidth: 25, halign: 'right' }
                                    },
                                    didDrawPage: function (data) {
                                        // Add header to each page where table appears
                                        if (data.pageNumber > 1) {
                                            addPageHeader(data.pageNumber, contentDoc.internal.getNumberOfPages());
                                        }
                                    },
                                    didAddPage: function (data) {
                                        // Ensure new page starts below header
                                        data.settings.margin.top = headerHeight + 5;
                                    }
                                });
                                
                                yPosition = contentDoc.lastAutoTable.finalY + 10;
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 4 with questions and selected options
                    function addSection4WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('4. Financials', margin);
                        
                        // Define all Section 4 questions with their field names  
                        const section4Questions = [
                            {
                                question: '1. Date of financial year end',
                                field: 'financial_year_end',
                                type: 'date'
                            },
                            {
                                question: '2. Provide gross revenues for:',
                                type: 'revenue_table',
                                periods: [
                                    {
                                        label: 'Last completed fiscal year end',
                                        domestic: 'revenue_last_domestic',
                                        usa: 'revenue_last_usa',
                                        foreign: 'revenue_last_foreign'
                                    },
                                    {
                                        label: 'Estimate for current fiscal year end',
                                        domestic: 'revenue_current_domestic',
                                        usa: 'revenue_current_usa',
                                        foreign: 'revenue_current_foreign'
                                    },
                                    {
                                        label: 'Estimate for next completed fiscal year end',
                                        domestic: 'revenue_next_domestic',
                                        usa: 'revenue_next_usa',
                                        foreign: 'revenue_next_foreign'
                                    }
                                ]
                            },
                            {
                                question: '3. Percentage of sales business to business',
                                field: 'sales_b2b_percentage',
                                type: 'percentage'
                            },
                            {
                                question: '4. Percentage of sales business to consumer',
                                field: 'sales_b2c_percentage',
                                type: 'percentage'
                            },
                            {
                                question: '5. Average contract value',
                                field: 'average_contract_value',
                                type: 'currency'
                            },
                            {
                                question: '6. Do any single clients represent more than 5% of your total annual revenue?',
                                field: 'single_client_5_percent',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'client_5_percent_description',
                                    label: 'Details'
                                }
                            },
                            {
                                question: '7. List your largest 3 Projects or Contracts in the past 2 years',
                                type: 'project_table',
                                fields: [
                                    { name: 'project_1_name', client: 'project_1_client', value: 'project_1_value', duration: 'project_1_duration' },
                                    { name: 'project_2_name', client: 'project_2_client', value: 'project_2_value', duration: 'project_2_duration' },
                                    { name: 'project_3_name', client: 'project_3_client', value: 'project_3_value', duration: 'project_3_duration' }
                                ]
                            },
                            {
                                question: '8. Total payroll',
                                field: 'total_payroll',
                                type: 'currency'
                            }
                        ];
                        
                        section4Questions.forEach(q => {
                            checkPageBreak(15);
                            contentDoc.setFontSize(12);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 2;
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont(undefined, 'normal');
                            
                            if (q.type === 'text' || q.type === 'textarea' || q.type === 'number' || q.type === 'date') {
                                const value = sectionData[q.field];
                                addWrappedText(`Answer: ${value || 'Not provided'}`, margin);
                            } else if (q.type === 'percentage') {
                                const value = sectionData[q.field];
                                addWrappedText(`Answer: ${value || '0'}%`, margin);
                            } else if (q.type === 'currency') {
                                const value = sectionData[q.field];
                                addWrappedText(`Answer: $${value || '0'}`, margin);
                            } else if (q.type === 'revenue_table') {
                                // Create AutoTable for gross revenues
                                checkPageBreak(30);
                                
                                const tableData = q.periods.map(period => {
                                    const domestic = sectionData[period.domestic] || '0';
                                    const usa = sectionData[period.usa] || '0';
                                    const foreign = sectionData[period.foreign] || '0';
                                    
                                    return [
                                        period.label,
                                        '$' + domestic,
                                        '$' + usa,
                                        '$' + foreign
                                    ];
                                });
                                
                                contentDoc.autoTable({
                                    head: [['Period', 'Canada ($)', 'USA ($)', 'Foreign ($)']],
                                    body: tableData,
                                    startY: yPosition + 5,
                                    margin: { left: margin, top: headerHeight + 5 }, // Account for header space
                                    styles: {
                                        fontSize: 9,
                                        cellPadding: 3
                                    },
                                    headStyles: {
                                        fillColor: [0, 80, 240], // #004FF0 color
                                        textColor: 255,
                                        fontStyle: 'bold'
                                    },
                                    alternateRowStyles: {
                                        fillColor: [245, 245, 245]
                                    },
                                    columnStyles: {
                                        0: { cellWidth: 60 },
                                        1: { cellWidth: 30, halign: 'right' },
                                        2: { cellWidth: 30, halign: 'right' },
                                        3: { cellWidth: 30, halign: 'right' }
                                    },
                                    didDrawPage: function (data) {
                                        // Add header to each page where table appears
                                        if (data.pageNumber > 1) {
                                            addPageHeader(data.pageNumber, contentDoc.internal.getNumberOfPages());
                                        }
                                    },
                                    didAddPage: function (data) {
                                        // Ensure new page starts below header
                                        data.settings.margin.top = headerHeight + 5;
                                    }
                                });
                                
                                yPosition = contentDoc.lastAutoTable.finalY + 10;
                            } else if (q.type === 'radio') {
                                const selectedValue = sectionData[q.field];                                
                                renderSelectedRadioOption(contentDoc, selectedValue, q.options, margin);
                                
                                // Handle follow-up questions
                                if (q.followUp && selectedValue === q.followUp.condition) {
                                    yPosition += 2;
                                    const followUpValue = sectionData[q.followUp.field];
                                    addWrappedText(`${q.followUp.label}: ${followUpValue || 'Not provided'}`, margin);
                                }
                            } else if (q.type === 'project_table') {
                                // Create AutoTable for largest projects
                                checkPageBreak(25);
                                
                                const tableData = [];
                                for (let i = 1; i <= 3; i++) {
                                    const project = q.fields[i-1];
                                    const name = sectionData[project.name] || 'Not provided';
                                    const client = sectionData[project.client] || 'Not provided';
                                    const value = sectionData[project.value] || '0';
                                    const duration = sectionData[project.duration] || 'Not provided';
                                    
                                    tableData.push([
                                        i.toString(),
                                        name.length > 30 ? name.substring(0, 27) + '...' : name,
                                        client.length > 25 ? client.substring(0, 22) + '...' : client,
                                        '$' + value,
                                        duration
                                    ]);
                                }
                                
                                contentDoc.autoTable({
                                    head: [['#', 'Project/Contract Name', 'Client', 'Value ($)', 'Duration']],
                                    body: tableData,
                                    startY: yPosition + 5,
                                    margin: { left: margin, top: headerHeight + 5 }, // Account for header space
                                    styles: {
                                        fontSize: 9,
                                        cellPadding: 3
                                    },
                                    headStyles: {
                                        fillColor: [0, 80, 240], // #004FF0 color
                                        textColor: 255,
                                        fontStyle: 'bold'
                                    },
                                    alternateRowStyles: {
                                        fillColor: [245, 245, 245]
                                    },
                                    columnStyles: {
                                        0: { cellWidth: 15, halign: 'center' },
                                        1: { cellWidth: 45 },
                                        2: { cellWidth: 35 },
                                        3: { cellWidth: 25, halign: 'right' },
                                        4: { cellWidth: 25 }
                                    },
                                    didDrawPage: function (data) {
                                        // Add header to each page where table appears
                                        if (data.pageNumber > 1) {
                                            addPageHeader(data.pageNumber, contentDoc.internal.getNumberOfPages());
                                        }
                                    },
                                    didAddPage: function (data) {
                                        // Ensure new page starts below header
                                        data.settings.margin.top = headerHeight + 5;
                                    }
                                });
                                
                                yPosition = contentDoc.lastAutoTable.finalY + 10;
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 5 with questions and selected options
                    function addSection5WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('5. Contractual Controls', margin);
                        
                        // Define all Section 5 questions with their field names  
                        const section5Questions = [
                            {
                                question: '1. Do you require all employees to sign a confidentiality agreement?',
                                field: 'employee_confidentiality',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '2. Are employees required to agree not to solicit customers when they leave your organization?',
                                field: 'employee_non_solicitation',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '3. Do you require third parties with whom you exchange confidential information to sign a confidentiality agreement?',
                                field: 'third_party_confidentiality',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '4. Do you require third parties that process personal information on your behalf to sign a data processing agreement?',
                                field: 'data_processing_agreement',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '5. Do you review third party contracts to ensure they include appropriate security standards for your relationship?',
                                field: 'contract_security_review',
                                type: 'textarea'
                            },
                            {
                                question: '6. Do you require cyber insurance or security standards in contracts with key partners or suppliers?',
                                field: 'partner_security_requirements',
                                type: 'textarea'
                            }
                        ];
                        
                        section5Questions.forEach(q => {
                            checkPageBreak(15);
                            contentDoc.setFontSize(12);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 2;
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData[q.field];
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 6 with questions and selected options
                    function addSection6WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('6. Cybersecurity, Technical & Crime Controls', margin);
                        
                        // Define all Section 6 questions with their field names  
                        const section6Questions = [
                            {
                                question: '1. Who is responsible for overseeing cybersecurity on a day-to-day basis?',
                                field: 'cybersecurity_responsibility',
                                type: 'radio',
                                options: [
                                    { value: 'No one is formally responsible for cybersecurity.', label: 'No one is formally responsible for cybersecurity.' },
                                    { value: 'Cybersecurity responsibilities are informally assigned, usually handled part-time by IT, operations, or a designated staff member.', label: 'Cybersecurity responsibilities are informally assigned, usually handled part-time by IT, operations, or a designated staff member.' },
                                    { value: 'A full-time staff member or external provider is responsible, with defined oversight.', label: 'A full-time staff member or external provider is responsible, with defined oversight.' },
                                    { value: 'A qualified internal or external CISO manages cybersecurity with clear authority, reporting, and board-level oversight.', label: 'A qualified internal or external CISO manages cybersecurity with clear authority, reporting, and board-level oversight.' }
                                ]
                            },
                            {
                                question: '2. Is there a formal cybersecurity policy in place for employees to follow?',
                                field: 'cybersecurity_policy',
                                type: 'radio',
                                options: [
                                    { value: 'No cybersecurity policy exists.', label: 'No cybersecurity policy exists.' },
                                    { value: 'A policy exists and is shared with employees during onboarding but it may be outdated or not consistently distributed to all staff beyond initial hiring.', label: 'A policy exists and is shared with employees during onboarding but it may be outdated or not consistently distributed to all staff beyond initial hiring.' },
                                    { value: 'The policy is current, distributed to all employees, and acknowledged in writing.', label: 'The policy is current, distributed to all employees, and acknowledged in writing.' },
                                    { value: 'A comprehensive, regularly updated policy is enforced and supported with training and accountability mechanisms.', label: 'A comprehensive, regularly updated policy is enforced and supported with training and accountability mechanisms.' }
                                ]
                            },
                            {
                                question: '3. Do all team members receive regular training to help them recognize cyber threats and scams?',
                                field: 'cyber_training',
                                type: 'radio',
                                options: [
                                    { value: 'No cybersecurity training is provided.', label: 'No cybersecurity training is provided.' },
                                    { value: 'Most employees receive annual training, but it may be informal, one-time, or not consistently tracked.', label: 'Most employees receive annual training, but it may be informal, one-time, or not consistently tracked.' },
                                    { value: 'All employees receive mandatory cybersecurity training annually.', label: 'All employees receive mandatory cybersecurity training annually.' },
                                    { value: 'Training is ongoing, tailored by role, and includes phishing simulations and tracking of completion and performance.', label: 'Training is ongoing, tailored by role, and includes phishing simulations and tracking of completion and performance.' }
                                ]
                            },
                            {
                                question: '4. Is multi-factor authentication (MFA) required for accessing company systems, email, and cloud tools remotely?',
                                field: 'mfa_requirement',
                                type: 'radio',
                                options: [
                                    { value: 'MFA is not used.', label: 'MFA is not used.' },
                                    { value: 'MFA is required for remote access to critical systems and used for some other users or systems, but overall implementation is inconsistent.', label: 'MFA is required for remote access to critical systems and used for some other users or systems, but overall implementation is inconsistent.' },
                                    { value: 'MFA is enforced for all users across remote and cloud environments.', label: 'MFA is enforced for all users across remote and cloud environments.' },
                                    { value: 'MFA is universally enforced, regularly tested, and monitored for compliance and anomalies.', label: 'MFA is universally enforced, regularly tested, and monitored for compliance and anomalies.' }
                                ]
                            },
                            {
                                question: '5. Is remote access to your internal or cloud systems restricted to secure methods like VPN or SSO and protected with MFA?',
                                field: 'remote_access_security',
                                type: 'radio',
                                options: [
                                    { value: 'Remote access is open or unmanaged.', label: 'Remote access is open or unmanaged.' },
                                    { value: 'Remote access typically relies on passwords and may use VPN or SSO, but secure controls like MFA are not consistently applied.', label: 'Remote access typically relies on passwords and may use VPN or SSO, but secure controls like MFA are not consistently applied.' },
                                    { value: 'Secure access (VPN or SSO) with MFA is required for all remote users.', label: 'Secure access (VPN or SSO) with MFA is required for all remote users.' },
                                    { value: 'Remote access is tightly controlled with policy enforcement, MFA, and centralized access logging.', label: 'Remote access is tightly controlled with policy enforcement, MFA, and centralized access logging.' }
                                ]
                            },
                            {
                                question: '6. What tools or protections secure employee devices and email from cyber threats?',
                                field: 'device_protection',
                                type: 'radio',
                                options: [
                                    { value: 'Devices and email are not protected by security tools.', label: 'Devices and email are not protected by security tools.' },
                                    { value: 'Basic antivirus, standard endpoint protection, and email filtering are in place.', label: 'Basic antivirus, standard endpoint protection, and email filtering are in place.' },
                                    { value: 'Devices are protected by centrally managed EDR, and email systems have advanced filtering and threat detection.', label: 'Devices are protected by centrally managed EDR, and email systems have advanced filtering and threat detection.' },
                                    { value: 'A layered security stack is deployed across all devices and email accounts, including EDR, DLP, and sandboxing.', label: 'A layered security stack is deployed across all devices and email accounts, including EDR, DLP, and sandboxing.' }
                                ]
                            },
                            {
                                question: '7. How is user access managed, including setting, adjusting, and promptly removing access?',
                                field: 'user_access_management',
                                type: 'radio',
                                options: [
                                    { value: 'Access is granted manually and rarely updated.', label: 'Access is granted manually and rarely updated.' },
                                    { value: 'Access rights are adjusted as needed and reviewed occasionally, with revocation upon termination, though delays may occur.', label: 'Access rights are adjusted as needed and reviewed occasionally, with revocation upon termination, though delays may occur.' },
                                    { value: 'Role-based access controls are in place with regular access reviews.', label: 'Role-based access controls are in place with regular access reviews.' },
                                    { value: 'Access is centrally managed, provisioned by role, reviewed quarterly, and automatically revoked upon role change or termination.', label: 'Access is centrally managed, provisioned by role, reviewed quarterly, and automatically revoked upon role change or termination.' }
                                ]
                            },
                            {
                                question: '8. Do you collect and review activity logs across your IT environment?',
                                field: 'activity_logs',
                                type: 'radio',
                                options: [
                                    { value: 'No activity logs are collected or retained.', label: 'No activity logs are collected or retained.' },
                                    { value: 'Logs are collected from key systems but are not actively monitored, and reviews are performed reactively.', label: 'Logs are collected from key systems but are not actively monitored, and reviews are performed reactively.' },
                                    { value: 'Centralized log management is in place with routine review and alerting.', label: 'Centralized log management is in place with routine review and alerting.' },
                                    { value: 'Logs are collected, analyzed with SIEM tools, and reviewed proactively with incident response integration.', label: 'Logs are collected, analyzed with SIEM tools, and reviewed proactively with incident response integration.' }
                                ]
                            },
                            {
                                question: '9. Do you use tools or services to identify cyber threats or unusual system activity in real time?',
                                field: 'threat_detection',
                                type: 'radio',
                                options: [
                                    { value: 'No tools are used to monitor system activity or threats.', label: 'No tools are used to monitor system activity or threats.' },
                                    { value: 'Basic alerts come from standard antivirus or firewall tools, with some real-time monitoring in place, though it is not centrally managed.', label: 'Basic alerts come from standard antivirus or firewall tools, with some real-time monitoring in place, though it is not centrally managed.' },
                                    { value: 'Real-time threat detection tools are used and monitored by internal or external IT/security teams.', label: 'Real-time threat detection tools are used and monitored by internal or external IT/security teams.' },
                                    { value: 'A fully integrated threat detection and response system (e.g., MDR, SIEM) monitors activity 24/7 with alerting and escalation.', label: 'A fully integrated threat detection and response system (e.g., MDR, SIEM) monitors activity 24/7 with alerting and escalation.' }
                                ]
                            },
                            {
                                question: '10. How does your organization manage aging technology and ensure software and systems stay updated and supported?',
                                field: 'technology_management',
                                type: 'radio',
                                options: [
                                    { value: 'Software updates and patching are done irregularly or not at all.', label: 'Software updates and patching are done irregularly or not at all.' },
                                    { value: 'Most systems are updated periodically, though some legacy systems remain unsupported, and updates often occur reactively without a set schedule.', label: 'Most systems are updated periodically, though some legacy systems remain unsupported, and updates often occur reactively without a set schedule.' },
                                    { value: 'Key systems are tracked, security patches are regularly applied, and major upgrades are planned every few years, though some older systems remain in use if still functional.', label: 'Key systems are tracked, security patches are regularly applied, and major upgrades are planned every few years, though some older systems remain in use if still functional.' },
                                    { value: 'Systems are proactively monitored for EOL/EOS, with automated patching and lifecycle management to maintain secure, supported software.', label: 'Systems are proactively monitored for EOL/EOS, with automated patching and lifecycle management to maintain secure, supported software.' }
                                ]
                            },
                            {
                                question: '11. Are firewalls in place to protect the network perimeter and to segment internal networks?',
                                field: 'firewall_protection',
                                type: 'textarea'
                            },
                            {
                                question: '12. Are internal/external vulnerability scans or penetration tests of your network performed?',
                                field: 'vulnerability_scans',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'vulnerability_frequency_methods',
                                    label: 'If yes, frequency and methods:'
                                }
                            },
                            {
                                question: '13. Do you restrict user access/permissions to a need-to-know basis?',
                                field: 'user_access_restrictions',
                                type: 'textarea'
                            },
                            {
                                question: '14. Are unused/unneeded network services and ports disabled or closed promptly?',
                                field: 'unused_services',
                                type: 'textarea'
                            },
                            {
                                question: '15. Name your service provider for each function:',
                                field: 'service_providers',
                                type: 'composite',
                                subfields: [
                                    { field: 'datacenter_provider', label: 'Data center/cloud hosting' },
                                    { field: 'managed_security_provider', label: 'Managed security service' },
                                    { field: 'security_monitoring_provider', label: 'Security event/alert monitoring' },
                                    { field: 'managed_it_provider', label: 'Managed IT service provider' }
                                ]
                            },
                            {
                                question: '16. Do you have a formal procedure for departing employees that includes revoking access to systems and recovery of all company devices/credentials?',
                                field: 'departing_employee_procedure',
                                type: 'textarea'
                            },
                            {
                                question: '17. Do you require more than one person to approve high-risk financial transactions like wire transfers?',
                                field: 'dual_approval_financial',
                                type: 'radio',
                                options: [
                                    { value: 'No approval process is required; a single individual can execute high-risk transactions.', label: 'No approval process is required; a single individual can execute high-risk transactions.' },
                                    { value: 'Dual approval is expected for some transactions and occasionally required, but it is not consistently applied, enforced, or documented.', label: 'Dual approval is expected for some transactions and occasionally required, but it is not consistently applied, enforced, or documented.' },
                                    { value: 'A dual-approval policy is enforced for all high-risk transactions (e.g., wire transfers, bank account changes), with audit trail documentation.', label: 'A dual-approval policy is enforced for all high-risk transactions (e.g., wire transfers, bank account changes), with audit trail documentation.' },
                                    { value: 'Dual authorization is mandatory for all high-risk transactions, embedded in financial systems, with tiered thresholds, role-based permissions, fraud alerts, and periodic audits to verify compliance.', label: 'Dual authorization is mandatory for all high-risk transactions, embedded in financial systems, with tiered thresholds, role-based permissions, fraud alerts, and periodic audits to verify compliance.' }
                                ]
                            },
                            {
                                question: '18. What controls are in place to prevent and detect financial fraud, including scams targeting incoming and outgoing wire transfers or internal theft?',
                                field: 'financial_fraud_controls',
                                type: 'radio',
                                options: [
                                    { value: ' No formal controls or monitoring systems are in place; the company relies on trust or informal checks.', label: 'No formal controls or monitoring systems are in place; the company relies on trust or informal checks.' },
                                    { value: 'Basic safeguards exist, such as accounting software permissions and finance team reviews, with some vendor verification and fraud awareness efforts, but proactive measures against risks like phishing, business email compromise, or internal theft are limited, and monitoring is minimal.', label: 'Basic safeguards exist, such as accounting software permissions and finance team reviews, with some vendor verification and fraud awareness efforts, but proactive measures against risks like phishing, business email compromise, or internal theft are limited, and monitoring is minimal.' },
                                    { value: 'Documented fraud prevention policies exist, with training, vendor validation, audit logs, and periodic financial audits or reconciliations.', label: 'Documented fraud prevention policies exist, with training, vendor validation, audit logs, and periodic financial audits or reconciliations.' },
                                    { value: 'A formal fraud prevention framework is in place, including dual controls, transaction monitoring, fraud detection tools, employee training, whistleblower protections, and regular testing or audits of financial systems.', label: 'A formal fraud prevention framework is in place, including dual controls, transaction monitoring, fraud detection tools, employee training, whistleblower protections, and regular testing or audits of financial systems.' }
                                ]
                            }
                        ];
                        
                        section6Questions.forEach(q => {
                            checkPageBreak(15);
                            contentDoc.setFontSize(12);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 2;
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData[q.field];
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                                
                                // Handle follow-up questions
                                if (q.followUp && fieldValue === q.followUp.condition) {
                                    yPosition += 3;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText(q.followUp.label, margin);
                                    contentDoc.setFont(undefined, 'normal');
                                    const followUpValue = sectionData[q.followUp.field];
                                    if (followUpValue) {
                                        addWrappedText(`Answer: ${followUpValue}`, margin);
                                    }
                                }
                            } else if (q.type === 'composite' && q.subfields) {
                                q.subfields.forEach(subfield => {
                                    const subfieldValue = sectionData[subfield.field];
                                    if (subfieldValue) {
                                        addWrappedText(`${subfield.label}: ${subfieldValue}`, margin);
                                    }
                                });
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 8 with questions and selected options
                    function addSection8WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('8. Third Party, Vendor & Supply Chain Controls', margin);
                        
                        // Define all Section 8 questions with their field names  
                        const section8Questions = [
                            {
                                question: '1. What steps are taken when bringing on a new customer to assess potential risks to your business?',
                                field: 'customer_risk_assessment',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal risk assessment is conducted before onboarding new customers.' },
                                    { value: '2', label: 'Vetting is mostly informal, relying on relationship history or perceived reputation, with some credit or legal checks performed, but these are not standardized.' },
                                    { value: '3', label: 'The company uses a risk-based onboarding process including financial, operational, and legal reviews for high-risk customers.' },
                                    { value: '4', label: 'A formal customer risk assessment framework is in place, including KYC, creditworthiness, contract risk, regulatory exposure, and service capacity evaluation.' }
                                ]
                            },
                            {
                                question: '2. Do you have a formal due diligence process to evaluate potential risks when onboarding new vendors or suppliers?',
                                field: 'vendor_due_diligence',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Vendors are onboarded informally with no checks or documentation.' },
                                    { value: '2', label: 'Basic vetting is performed, such as checking references and requiring insurance certificates from vendors, but reviews of insurance and risk factors are inconsistent and formal risk assessments are rare.' },
                                    { value: '3', label: 'Onboarding includes documented review of insurance, security, and financial risk, with sign-off by relevant departments.' },
                                    { value: '4', label: 'A structured onboarding workflow is in place, including insurance verification, legal review, risk scoring, and approval gates for higher-risk vendors.' }
                                ]
                            },
                            {
                                question: '3. How does your organization assess and monitor the cybersecurity posture of third-party vendors, and what steps are taken if a vendor is found to pose elevated risk?',
                                field: 'vendor_cybersecurity_assessment',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'We don\'t currently assess vendor cybersecurity posture and rely on vendors to manage their own risks.' },
                                    { value: '2', label: 'We conduct basic due diligence when onboarding vendors, such as reviewing security questionnaires, but we don\'t monitor risk on an ongoing basis.' },
                                    { value: '3', label: 'We assess vendor cyber risk at onboarding and periodically review key vendors\' security posture. If a vendor is found to pose elevated risk, we may request remediation or consider contract changes.' },
                                    { value: '4', label: 'We use continuous monitoring tools (e.g., third-party risk scoring or threat intelligence platforms) to track vendor cybersecurity posture in real time. High-risk vendors trigger formal escalation protocols, including audits, contractual enforcement, or offboarding if necessary.' }
                                ]
                            },
                            {
                                question: '4. Do you have redundant systems or alternate suppliers in place to minimize disruption if a critical third party fails or is unavailable?',
                                field: 'redundant_systems',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'We rely on single providers for critical services and would face major disruption if one failed.' },
                                    { value: '2', label: 'We are aware of possible alternates but have no formal agreements or automated systems. Switching would be manual and could be delayed.' },
                                    { value: '3', label: 'We have identified and maintain relationships with alternate suppliers, or have partial redundant systems for critical functions. However, these are not fully integrated or routinely tested, so some disruption could still occur.' },
                                    { value: '4', label: 'We have fully redundant systems and formal agreements with alternative suppliers, along with tested failover processes, to ensure minimal disruption in the event of a critical third-party failure. These contingencies are regularly reviewed and tested as part of our business continuity program.' }
                                ]
                            },
                            {
                                question: '5. Do your vendors agree to take responsibility if they mishandle personal or confidential information?',
                                field: 'vendor_liability',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'There are no contract terms addressing vendor responsibility for data mishandling.' },
                                    { value: '2', label: 'Many vendor contracts include general confidentiality or data protection clauses, but the enforceability, scope, and presence of liability terms vary.' },
                                    { value: '3', label: 'Vendor agreements include specific data handling obligations, breach notification requirements, and indemnity clauses.' },
                                    { value: '4', label: 'All vendor agreements involving sensitive data include legally vetted, standardized language on liability, data safeguards, breach response, and indemnification for damages.' }
                                ]
                            },
                            {
                                question: '6. Do your critical vendors provide proof of strong security practices (like SOC 2 or ISO 27001), and how often is that reviewed?',
                                field: 'vendor_security_certifications',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Vendors do not provide security certifications or attestations.' },
                                    { value: '2', label: 'Some vendors provide security documentation, but its presence and quality are inconsistent, and reviews are infrequent.' },
                                    { value: '3', label: 'Critical vendors are required to provide security certifications (e.g., SOC 2, ISO 27001), and these are reviewed annually.' },
                                    { value: '4', label: 'All critical vendors must maintain current security certifications, which are reviewed regularly and integrated into vendor risk management processes.' }
                                ]
                            },
                            {
                                question: '7. Do you require vendors to notify you if they experience a security breach or incident?',
                                field: 'vendor_breach_notification',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Vendors are not required to notify us of security incidents.' },
                                    { value: '2', label: 'Some contracts include breach notification language, but timelines and requirements are inconsistent.' },
                                    { value: '3', label: 'Vendor contracts require prompt notification of security incidents, with defined timelines and information requirements.' },
                                    { value: '4', label: 'Comprehensive breach notification requirements are in place, including specific timelines, escalation procedures, and impact assessment protocols.' }
                                ]
                            },
                            {
                                question: '8. How do you track and manage the risks associated with your supply chain?',
                                field: 'supply_chain_risk_management',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Supply chain risks are not formally tracked or managed.' },
                                    { value: '2', label: 'Basic supplier information is maintained, but risk assessment is limited to financial or operational concerns.' },
                                    { value: '3', label: 'A supply chain risk register is maintained, with periodic review of key suppliers and risk mitigation strategies.' },
                                    { value: '4', label: 'Comprehensive supply chain risk management includes continuous monitoring, risk scoring, scenario planning, and integration with enterprise risk management.' }
                                ]
                            },
                            {
                                question: '9. Do you conduct regular audits or assessments of your most critical third-party relationships?',
                                field: 'third_party_audits',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No regular audits or assessments are conducted.' },
                                    { value: '2', label: 'Informal reviews of vendor performance occur occasionally, but there are no structured audits.' },
                                    { value: '3', label: 'Periodic assessments are conducted for critical vendors, including performance and compliance reviews.' },
                                    { value: '4', label: 'Systematic audits and assessments are performed on a regular schedule, with standardized criteria and documented findings.' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        section8Questions.forEach(q => {
                            checkPageBreak(30);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData ? sectionData[q.field] : null;
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 9 with questions and selected options
                    function addSection9WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('9. Privacy, Data Security & API Controls', margin);
                        
                        // Define all Section 9 questions with their field names  
                        const section9Questions = [
                            {
                                question: '1. Do you collect, store, or process customer data?',
                                field: 'collect_customer_data',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    fields: [
                                        { field: 'contact_info_records', label: 'Contact information records' },
                                        { field: 'personal_health_data_records', label: 'Personal health data records' },
                                        { field: 'payment_card_data_records', label: 'Payment card data records' },
                                        { field: 'financial_records_records', label: 'Financial records' },
                                        { field: 'government_id_numbers_records', label: 'Government ID numbers records' },
                                        { field: 'biometric_data_records', label: 'Biometric data records' }
                                    ]
                                }
                            },
                            {
                                question: '2. Do you have formal policies governing the collection, use, storage, and disposal of personal or sensitive data?',
                                field: 'data_governance_policies',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal policies exist for data governance.' },
                                    { value: '2', label: 'Basic policies are in place but may be incomplete or not regularly updated.' },
                                    { value: '3', label: 'Comprehensive data governance policies exist and are regularly reviewed and updated.' },
                                    { value: '4', label: 'Mature data governance framework with detailed policies, procedures, and regular compliance monitoring.' }
                                ]
                            },
                            {
                                question: '3. Do you provide privacy notices to individuals whose data you collect, and do you obtain appropriate consent?',
                                field: 'privacy_notices_consent',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No privacy notices are provided, and consent is not obtained.' },
                                    { value: '2', label: 'Basic privacy notices are provided in some cases, but consent processes are inconsistent.' },
                                    { value: '3', label: 'Clear privacy notices are provided, and appropriate consent is obtained for data collection and use.' },
                                    { value: '4', label: 'Comprehensive privacy program with detailed notices, granular consent mechanisms, and regular compliance reviews.' }
                                ]
                            },
                            {
                                question: '4. Do you have processes in place to respond to individual requests regarding their personal data (access, correction, deletion)?',
                                field: 'data_subject_requests',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal process exists for handling individual data requests.' },
                                    { value: '2', label: 'Basic processes exist but may not cover all types of requests or have clear timelines.' },
                                    { value: '3', label: 'Formal processes are in place to handle data subject requests within required timeframes.' },
                                    { value: '4', label: 'Comprehensive data subject rights program with automated workflows and tracking systems.' }
                                ]
                            },
                            {
                                question: '5. How is sensitive data encrypted, both at rest and in transit?',
                                field: 'data_encryption',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Sensitive data is not systematically encrypted.' },
                                    { value: '2', label: 'Some encryption is used, but coverage is inconsistent or uses outdated methods.' },
                                    { value: '3', label: 'Strong encryption is used for sensitive data both at rest and in transit.' },
                                    { value: '4', label: 'Enterprise-grade encryption with key management, regular rotation, and compliance monitoring.' }
                                ]
                            },
                            {
                                question: '6. Do you conduct regular privacy impact assessments when implementing new systems or processes?',
                                field: 'privacy_impact_assessments',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Privacy impact assessments are not conducted.' },
                                    { value: '2', label: 'PIAs are conducted occasionally for major projects but not systematically.' },
                                    { value: '3', label: 'PIAs are required for new systems and processes that handle personal data.' },
                                    { value: '4', label: 'Comprehensive privacy-by-design approach with mandatory PIAs and ongoing privacy monitoring.' }
                                ]
                            },
                            {
                                question: '7. How do you ensure third-party service providers protect personal data according to your standards?',
                                field: 'third_party_data_protection',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No specific requirements for third-party data protection.' },
                                    { value: '2', label: 'Basic contractual requirements, but monitoring and enforcement are limited.' },
                                    { value: '3', label: 'Comprehensive data protection agreements with regular monitoring and compliance checks.' },
                                    { value: '4', label: 'Rigorous third-party data protection program with due diligence, ongoing monitoring, and audit rights.' }
                                ]
                            },
                            {
                                question: '8. Do you have an incident response plan specifically for privacy breaches?',
                                field: 'privacy_breach_response',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No specific privacy breach response plan exists.' },
                                    { value: '2', label: 'Basic incident response procedures that may cover privacy breaches.' },
                                    { value: '3', label: 'Dedicated privacy breach response plan with notification procedures.' },
                                    { value: '4', label: 'Comprehensive privacy incident response with automated workflows, stakeholder communication, and regulatory compliance.' }
                                ]
                            },
                            {
                                question: '9. How do you manage data retention and ensure secure disposal of personal data?',
                                field: 'data_retention_disposal',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal data retention or disposal policies exist.' },
                                    { value: '2', label: 'Basic retention guidelines but disposal processes are inconsistent.' },
                                    { value: '3', label: 'Formal data retention schedule with secure disposal procedures.' },
                                    { value: '4', label: 'Comprehensive data lifecycle management with automated retention and certified secure disposal.' }
                                ]
                            },
                            {
                                question: '10. Do you provide regular privacy and data protection training to employees?',
                                field: 'privacy_training',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal privacy training is provided to employees.' },
                                    { value: '2', label: 'Basic privacy awareness included in general security training.' },
                                    { value: '3', label: 'Regular privacy training provided to all employees handling personal data.' },
                                    { value: '4', label: 'Comprehensive privacy training program with role-specific modules and regular updates.' }
                                ]
                            },
                            {
                                question: '11. How do you monitor and audit compliance with privacy regulations and internal data protection policies?',
                                field: 'privacy_compliance_monitoring',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal monitoring or auditing of privacy compliance.' },
                                    { value: '2', label: 'Occasional reviews of privacy practices and compliance.' },
                                    { value: '3', label: 'Regular internal audits and compliance monitoring for privacy requirements.' },
                                    { value: '4', label: 'Continuous compliance monitoring with automated tools, regular audits, and corrective action tracking.' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        section9Questions.forEach(q => {
                            checkPageBreak(30);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData ? sectionData[q.field] : null;
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                                
                                // Handle follow-up fields for data collection question
                                if (q.followUp && fieldValue === q.followUp.condition && sectionData) {
                                    yPosition += 5;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText('Data Types and Record Counts:', margin);
                                    yPosition += 3;
                                    contentDoc.setFont(undefined, 'normal');
                                    
                                    q.followUp.fields.forEach(field => {
                                        const recordCount = sectionData[field.field];
                                        if (recordCount) {
                                            addWrappedText(`${field.label}: ${recordCount} records`, margin);
                                        }
                                    });
                                }
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 10 with questions and selected options
                    function addSection10WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('10. Intellectual Property & Content Governance Controls', margin);
                        
                        // Define all Section 10 questions with their field names  
                        const section10Questions = [
                            {
                                question: '1. Do your contracts with customers, partners, or distributors include indemnification provisions that make you responsible for IP infringement claims?',
                                field: 'ip_indemnification_provisions',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'We haven\'t reviewed our contracts for IP indemnity exposure and are unsure whether such provisions exist.' },
                                    { value: '2', label: 'Some contracts include IP indemnities, but we accept them as-is without negotiation or risk transfer strategies.' },
                                    { value: '3', label: 'We review IP indemnity provisions case-by-case and seek to limit or share liability where possible, often with legal input.' },
                                    { value: '4', label: 'We have a formal process for reviewing and negotiating IP indemnities, consistently limit our exposure through contract language, and align coverage with our insurance program to ensure claims are insurable.' }
                                ]
                            },
                            {
                                question: '2. What is your plan if your company is accused of infringing someone else\'s IP?',
                                field: 'ip_infringement_plan',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No plan or insurance is in place to address IP disputes.' },
                                    { value: '2', label: 'Leadership relies on legal counsel and a general dispute response approach, but there is no documented or detailed plan specific to IP disputes.' },
                                    { value: '3', label: 'A formal incident response process is in place, including legal review and insurance support.' },
                                    { value: '4', label: 'The company has a documented IP risk response plan, legal counsel on standby, indemnification strategies, and intellectual property insurance.' }
                                ]
                            },
                            {
                                question: '3. How do you monitor and manage the use of third-party software licenses?',
                                field: 'third_party_license_monitoring',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Software is used without tracking licenses or usage rights.' },
                                    { value: '2', label: 'Teams manage licensing informally with a partial inventory and some tools to track third-party software, but tracking is incomplete and decentralized.' },
                                    { value: '3', label: 'License use is tracked and reviewed regularly, with controls to prevent unauthorized or expired use.' },
                                    { value: '4', label: 'Comprehensive license management includes automated tracking, compliance monitoring, and regular audits by legal or procurement teams.' }
                                ]
                            },
                            {
                                question: '4. Do you have processes in place to ensure that your products or services don\'t infringe on existing patents, trademarks, or copyrights?',
                                field: 'ip_infringement_prevention',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal processes are in place to check for potential IP infringement.' },
                                    { value: '2', label: 'Basic IP searches are conducted informally during product development, but there are no standard procedures or documentation.' },
                                    { value: '3', label: 'Regular IP clearance procedures are followed, including patent and trademark searches before product launches.' },
                                    { value: '4', label: 'Comprehensive IP due diligence is conducted throughout the product development lifecycle, with legal review and documented clearance processes.' }
                                ]
                            },
                            {
                                question: '5. How do you protect your own intellectual property (patents, trademarks, trade secrets)?',
                                field: 'own_ip_protection',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal IP protection strategy is in place.' },
                                    { value: '2', label: 'Some IP assets are protected (e.g., trademarks registered), but protection is inconsistent and reactive.' },
                                    { value: '3', label: 'Active IP protection program including trademark and patent filings, trade secret policies, and employee agreements.' },
                                    { value: '4', label: 'Comprehensive IP strategy with portfolio management, regular IP audits, enforcement procedures, and strategic filing programs.' }
                                ]
                            },
                            {
                                question: '6. Do you have content moderation or review processes for user-generated content on your platforms?',
                                field: 'content_moderation',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No content moderation processes are in place.' },
                                    { value: '2', label: 'Basic content moderation through automated filtering or reactive reporting, but coverage is limited.' },
                                    { value: '3', label: 'Regular content moderation combining automated tools and human review for policy violations.' },
                                    { value: '4', label: 'Comprehensive content governance with proactive monitoring, clear policies, appeals processes, and regular policy updates.' }
                                ]
                            },
                            {
                                question: '7. How do you handle DMCA takedown requests or other IP-related complaints?',
                                field: 'dmca_takedown_process',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal process exists for handling IP complaints or takedown requests.' },
                                    { value: '2', label: 'Basic procedures for responding to takedown requests, but processes may be inconsistent.' },
                                    { value: '3', label: 'Established DMCA and IP complaint procedures with designated personnel and response timelines.' },
                                    { value: '4', label: 'Comprehensive IP complaint management system with automated workflows, legal review, and compliance tracking.' }
                                ]
                            },
                            {
                                question: '8. Do you have policies governing employee creation and ownership of IP during their employment?',
                                field: 'employee_ip_policies',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal policies exist regarding employee IP creation or ownership.' },
                                    { value: '2', label: 'Basic employment agreements include some IP assignment clauses, but policies are not comprehensive.' },
                                    { value: '3', label: 'Clear IP policies and assignment agreements are in place for all employees involved in creative or technical work.' },
                                    { value: '4', label: 'Comprehensive IP employment policies with invention disclosure processes, compensation frameworks, and regular training.' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        section10Questions.forEach(q => {
                            checkPageBreak(30);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData ? sectionData[q.field] : null;
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 7 with questions and selected options
                    function addSection7WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('7. Data Backup & Business Continuity & Supply Chain Controls', margin);
                        
                        // Define all Section 7 questions with their field names  
                        const section7Questions = [
                            {
                                question: '1. What processes are in place to quickly detect and respond to data breaches or unauthorized access?',
                                field: 'breach_detection_response',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal detection or response process exists.' },
                                    { value: '2', label: 'Incidents are handled reactively when staff notice something suspicious, supported by basic detection tools like antivirus and system logs, but incident response is largely ad hoc.' },
                                    { value: '3', label: 'A defined incident response plan exists, with detection tools, trained responders, and escalation protocols.' },
                                    { value: '4', label: 'A comprehensive incident response program includes 24/7 monitoring, real-time alerting, runbooks, tabletop testing, and post-incident review.' }
                                ]
                            },
                            {
                                question: '2. Do you have a communications plan to protect your company\'s reputation in the event of a major issue or breach?',
                                field: 'communications_plan',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No communications plan exists for handling incidents.' },
                                    { value: '2', label: 'Incident responses are generally handled by PR or leadership, supported by a basic communications plan with draft statements and designated spokespersons, but there is no formal protocol.' },
                                    { value: '3', label: 'A formal reputational risk communications plan is documented, with media, legal, and customer messaging protocols.' },
                                    { value: '4', label: 'The company maintains a comprehensive communications playbook for crisis events, including breach notification, regulatory guidance, and stakeholder outreach, tested regularly through simulations.' }
                                ]
                            },
                            {
                                question: '3. Do you have backup systems to recover data after a cyber incident or outage?',
                                field: 'backup_systems',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No backup systems exist.' },
                                    { value: '2', label: 'Regular backups are taken and stored offsite or in the cloud, but not all data is covered, testing is limited, and updates may not be consistent.' },
                                    { value: '3', label: 'Backups are automated, encrypted, and tested periodically for critical systems.' },
                                    { value: '4', label: 'An enterprise-grade backup and recovery system is in place with real-time replication, frequent testing, and integration into the overall incident response strategy.' }
                                ]
                            },
                            {
                                question: '4. If systems go down, how quickly can you get your critical data and operations back online?',
                                field: 'recovery_time',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'There is no defined recovery timeframe; recovery would be improvised.' },
                                    { value: '2', label: 'A target recovery window is defined for key systems (e.g., 48–72 hours), but for other areas recovery could take several days, and there are no documented targets.' },
                                    { value: '3', label: 'Recovery goals (RTOs) are set by system tier, with most critical services recoverable within 24 hours.' },
                                    { value: '4', label: 'Rapid recovery (RTO < 4 hours for critical systems) is enabled via automated failover, and performance against RTOs is tested and validated.' }
                                ]
                            },
                            {
                                question: '5. Do you maintain business continuity and disaster recovery plans, and what are your key recovery goals?',
                                field: 'continuity_recovery_plans',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal plans exist.' },
                                    { value: '2', label: 'Recovery plans exist with defined Recovery Time Objectives and Recovery Point Objectives and some written procedures, but they are not thoroughly tested or fully aligned to recovery goals.' },
                                    { value: '3', label: 'BCP and DRP are documented, with role assignments, key systems prioritized, and regular stakeholder reviews.' },
                                    { value: '4', label: 'Continuity and disaster recovery plans are fully developed, tested regularly, and aligned to business impact analyses with clearly defined and measured RTOs/RPOs.' }
                                ]
                            },
                            {
                                question: '6. How often are recovery plans tested, and what improvements have resulted?',
                                field: 'recovery_testing',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Recovery plans are never tested.' },
                                    { value: '2', label: 'Recovery plans are reviewed occasionally and tested annually, with some lessons learned incorporated, but exercises are not frequent or comprehensive.' },
                                    { value: '3', label: 'Tests are conducted at least twice per year, with results documented and improvements tracked.' },
                                    { value: '4', label: 'Plans are tested regularly using realistic scenarios (e.g., tabletop and live failover), with continuous improvement cycles and executive oversight.' }
                                ]
                            },
                            {
                                question: '7. Do you rely on third parties for critical business operations (Cloud providers, managed IT, payment processors, API data)?',
                                field: 'third_party_reliance',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'key_suppliers',
                                    label: 'Please list key suppliers and functions they support:'
                                }
                            },
                            {
                                question: '8. Does your business continuity or disaster recovery plan specifically address prolonged outages of critical third-party services?',
                                field: 'third_party_outage_plan',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Our business continuity and disaster recovery plans do not specifically address prolonged outages of critical third-party services.' },
                                    { value: '2', label: 'Our plans generally mention third-party risks, but do not include detailed strategies for extended outages of critical providers.' },
                                    { value: '3', label: 'Our plans include scenarios for disruptions to critical third-party services, but they are not deeply detailed or regularly tested.' },
                                    { value: '4', label: 'Our business continuity and disaster recovery plans explicitly cover prolonged outages of critical third-party services, with documented procedures, alternate arrangements, and regular testing.' }
                                ]
                            },
                            {
                                question: '9. Have you assessed how a primary cloud provider outage would impact your operations, and does your continuity plan address this?',
                                field: 'cloud_provider_assessment',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No assessment has been done, and no contingency exists for cloud service failure.' },
                                    { value: '2', label: 'Cloud risks are informally acknowledged, with documented impacts of downtime and some alternate communication or manual processes identified, but they are not fully integrated into formal planning.' },
                                    { value: '3', label: 'Cloud dependency is mapped in continuity plans, and mitigations (e.g., data export, failover zones) are in place.' },
                                    { value: '4', label: 'Cloud risk is deeply integrated into BCP, with multi-region failover, vendor SLAs, and automated recovery tested regularly.' }
                                ]
                            },
                            {
                                question: '10. How do you investigate and address the root cause of major security incidents, service problems, or customer complaints?',
                                field: 'incident_investigation',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Root cause is not formally investigated; focus is only on fixing the immediate issue.' },
                                    { value: '2', label: 'Issues are discussed internally, with root cause reviews and some documentation or follow-up for significant incidents, but lessons learned and corrective actions are applied inconsistently.' },
                                    { value: '3', label: 'A structured post-incident review (PIR) process is used for all major events, with documented corrective actions.' },
                                    { value: '4', label: 'Formal root cause analysis is conducted with executive oversight, cross-functional input, tracked improvements, and trend analysis.' }
                                ]
                            }
                        ];
                        
                        section7Questions.forEach(q => {
                            checkPageBreak(15);
                            contentDoc.setFontSize(12);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 2;
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData[q.field];
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                                // Handle follow-up questions
                                if (q.followUp && fieldValue === q.followUp.condition) {
                                    yPosition += 3;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText(q.followUp.label, margin);
                                    contentDoc.setFont(undefined, 'normal');
                                    const followUpValue = sectionData[q.followUp.field];
                                    if (followUpValue) {
                                        addWrappedText(`Answer: ${followUpValue}`, margin);
                                    }
                                }
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 11 with questions and selected options
                    function addSection11WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('11. People, Employment Practices & Insider Controls', margin);
                        
                        // Define all Section 11 questions with their field names  
                        const section11Questions = [
                            {
                                question: '1. What background checks or screening do you use to evaluate new hires, especially for roles with access to sensitive data or systems?',
                                field: 'background_checks',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No background checks or screening are conducted before hiring.' },
                                    { value: '2', label: 'Basic reference checks and, for sensitive roles, occasional criminal background or employment verification are performed, but there is no formal screening policy and practices are inconsistent.' },
                                    { value: '3', label: 'Standardized screening process includes criminal, employment, and education verification for all roles with data/system access.' },
                                    { value: '4', label: 'A comprehensive, risk-based screening process is applied based on role sensitivity, including background, credit (where appropriate), and regulatory compliance checks.' }
                                ]
                            },
                            {
                                question: '2. What is your process for ensuring new hires understand and follow your company\'s key policies, like security and acceptable use?',
                                field: 'new_hire_policy_training',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'New hires receive little or no orientation on company policies.' },
                                    { value: '2', label: 'New hires receive policies to review as part of basic onboarding, with signed acknowledgment required for key policies like confidentiality or acceptable use, but broader training or acknowledgment is not consistently required.' },
                                    { value: '3', label: 'New hires complete structured onboarding, including required training on security, privacy, and acceptable use policies.' },
                                    { value: '4', label: 'Onboarding includes interactive, role-specific policy training with testing, tracked completion, and annual re-certification for key policies.' }
                                ]
                            },
                            {
                                question: '3. How are employees trained to avoid accidentally sharing confidential information through email, messages, or presentations?',
                                field: 'confidentiality_training',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No training is provided on handling confidential information.' },
                                    { value: '2', label: 'Employees receive informal reminders and confidentiality training during onboarding, but there is no structured or ongoing training program.' },
                                    { value: '3', label: 'Regular training is provided, including email and presentation dos/don\'ts and examples of accidental disclosure.' },
                                    { value: '4', label: 'Employees receive role-based, scenario-driven training with testing, reinforced by policy, monitoring, and reporting mechanisms.' }
                                ]
                            },
                            {
                                question: '4. What steps are in place to detect unusual employee behavior that could indicate a security or policy issue?',
                                field: 'unusual_behavior_detection',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No monitoring or detection tools or processes are in place.' },
                                    { value: '2', label: 'Potential issues are identified informally through manager observation or peer reporting, with HR or IT conducting manual log reviews when concerns arise, but there is no ongoing monitoring.' },
                                    { value: '3', label: 'Systems log user activity and can flag anomalies; HR and IT have a defined process to investigate concerns.' },
                                    { value: '4', label: 'Behavioral analytics and monitoring tools are in place for high-risk roles, with integrated alerting, response protocols, and legal/HR oversight.' }
                                ]
                            },
                            {
                                question: '5. Do employment agreements clearly define confidentiality obligations, IP ownership, and terms that continue after someone leaves?',
                                field: 'employment_agreement_terms',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'Employment agreements do not include confidentiality or IP ownership provisions, and have no post-employment obligations.' },
                                    { value: '2', label: 'Some agreements include confidentiality clauses, but IP ownership or post-employment obligations are missing or inconsistent.' },
                                    { value: '3', label: 'Most agreements include confidentiality, IP ownership, and some terms that extend after employment ends, though not always reviewed or tailored.' },
                                    { value: '4', label: 'All employment agreements clearly define confidentiality, IP ownership, and post-employment obligations, are reviewed by legal counsel, and updated regularly.' }
                                ]
                            },
                            {
                                question: '6. What steps ensure NDAs are signed, enforced, and followed, particularly after employment ends?',
                                field: 'nda_enforcement',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'NDAs are rarely used or tracked, with no process to enforce them during or after employment.' },
                                    { value: '2', label: 'NDAs are signed for some roles or situations, but tracking is informal and follow-up after employment is minimal.' },
                                    { value: '3', label: 'NDAs are standard for employees and key contractors, tracked centrally, with reminders of obligations given during exit processes.' },
                                    { value: '4', label: 'NDAs are mandatory for all staff and applicable vendors, systematically tracked, enforced with formal exit procedures, and obligations monitored post-employment.' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        section11Questions.forEach(q => {
                            checkPageBreak(30);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData ? sectionData[q.field] : null;
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 12 with questions and selected options
                    function addSection12WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('12. Artificial Intelligence Tools & Controls', margin);
                        
                        // Define all Section 12 questions with their field names  
                        const section12Questions = [
                            {
                                question: '1. Do you have formal policies governing employee use of generative AI tools in the workplace?',
                                field: 'ai_tool_policies',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal policy exists; employees use AI tools at their discretion without oversight or guidance.' },
                                    { value: '2', label: 'Informal guidelines are communicated verbally or via ad hoc communications, but no formalized or documented policy is in place.' },
                                    { value: '3', label: 'A documented policy exists outlining acceptable AI use cases and prohibited applications; periodic reminders or basic training are provided.' },
                                    { value: '4', label: 'A comprehensive, regularly updated AI use policy is in place, aligned with legal, regulatory, and ethical standards. Mandatory employee training, acknowledgement tracking, and compliance audits ensure adherence.' }
                                ]
                            },
                            {
                                question: '2. How does your organization ensure sensitive, proprietary or customer data is not inadvertently inputted into public or third-party AI tools?',
                                field: 'ai_data_protection',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No controls or employee awareness; sensitive data may be shared with AI tools without restriction or monitoring.' },
                                    { value: '2', label: 'Employees are instructed not to share sensitive data with AI tools, but enforcement is manual and there are no technical safeguards.' },
                                    { value: '3', label: 'Data classification and access rules are defined, with monitoring tools or DLP (Data Loss Prevention) systems in place to detect and prevent accidental sharing.' },
                                    { value: '4', label: 'Strong, enforced controls combining technical safeguards (e.g., AI input filtering, DLP, endpoint restrictions) with mandatory training, AI-specific data handling protocols, and real-time monitoring to prevent sensitive data leakage.' }
                                ]
                            },
                            {
                                question: '3. How are AI tools provisioned and monitored internally to ensure only authorized employees can access and use them?',
                                field: 'ai_tool_provisioning',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No restrictions; any employee can access and use AI tools, including unsanctioned or public platforms, without oversight.' },
                                    { value: '2', label: 'AI tool access is limited to certain teams, but controls are informal and not technically enforced (e.g., relying on manager approval or trust).' },
                                    { value: '3', label: 'Approved AI tools are centrally provisioned with role-based access controls; usage logs are reviewed periodically but not continuously monitored.' },
                                    { value: '4', label: 'Enterprise-approved AI tools integrated with identity and access management (IAM), multi-factor authentication, continuous monitoring, automated alerts for misuse, and centralized reporting dashboards for compliance oversight.' }
                                ]
                            },
                            {
                                question: '4. What steps do you take to make sure AI-generated content doesn\'t violate privacy rules or IP rights?',
                                field: 'ai_content_compliance',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No review or safeguards are in place to monitor AI-generated content.' },
                                    { value: '2', label: 'There is informal awareness of potential privacy and IP risks, with some safeguards such as manual review of public content, but no specific controls or consistent validation process are in place.' },
                                    { value: '3', label: 'The business has implemented content review procedures, and AI output is checked for privacy or IP issues before publication or use.' },
                                    { value: '4', label: 'There is a formal review and compliance process involving legal, compliance, and product teams to ensure AI outputs align with IP, copyright, and data privacy obligations.' }
                                ]
                            },
                            {
                                question: '5. Have you implemented controls to monitor and validate the accuracy and reliability of outputs generated by third-party AI tools?',
                                field: 'ai_output_validation',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No controls in place; outputs from AI tools are used without review or validation, relying entirely on the tool\'s outputs.' },
                                    { value: '2', label: 'Manual review of outputs occurs inconsistently, dependent on individual user discretion, with no formal validation process or documented standards.' },
                                    { value: '3', label: 'A formal processes exist for reviewing and validating AI outputs, including documented criteria and periodic spot checks by subject matter experts.' },
                                    { value: '4', label: 'A comprehensive validation framework in place, combining automated checks, human-in-the-loop oversight, and ongoing performance monitoring. Continuous audits and feedback loops are used to detect errors, bias, and drift, with results feeding into process improvements.' }
                                ]
                            },
                            {
                                question: '6. Do you have incident response procedures in place to address errors, misuse, or breaches resulting from third-party AI tool use?',
                                field: 'ai_incident_response',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No formal incident response procedures exist for AI-related errors or misuse.' },
                                    { value: '2', label: 'General IT or cybersecurity incident response procedures exist but do not address AI-specific risks or third-party tool misuse.' },
                                    { value: '3', label: 'A documented incident response plan includes AI-related scenarios, with designated roles and escalation paths. Periodic tabletop exercises or testing are conducted, but scope remains limited.' },
                                    { value: '4', label: 'A comprehensive AI-specific incident response plan is fully integrated with enterprise risk and cybersecurity frameworks. It includes rapid detection, predefined playbooks for AI errors/misuse, coordination with third-party vendors, post-incident reviews, and continuous improvement.' }
                                ]
                            },
                            {
                                question: '7. Have you reviewed whether your insurance or contracts adequately address risks from using AI, such as errors, reputation damage, or legal issues?',
                                field: 'ai_insurance_review',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'No review has been done, and existing policies or contracts may not address AI-related risks.' },
                                    { value: '2', label: 'AI-related risks have been considered internally, and while some insurance coverage has been extended or gaps flagged by general counsel, there has been no formal review or comprehensive adjustments to coverage.' },
                                    { value: '3', label: 'AI-related risks have been reviewed with legal and insurance advisors, and contracts include basic protections (e.g., disclaimers, indemnity).' },
                                    { value: '4', label: 'The company proactively manages AI risks through tailored contractual clauses, D&O/E&O/cyber coverage extensions, and periodic reviews aligned to evolving uses of AI and regulatory guidance.' }
                                ]
                            },
                            {
                                question: '8. Do you require contractual indemnities or evidence of insurance from third-party AI vendors used in your internal operations?',
                                field: 'ai_vendor_indemnities',
                                type: 'radio',
                                options: [
                                    { value: '1', label: 'We accept the vendors Terms of Service without review or monitoring of indemnification obligations.' },
                                    { value: '2', label: 'Some contracts include general indemnification language, but vendor insurance evidence is not consistently requested.' },
                                    { value: '3', label: 'Contracts include defined indemnities for AI-related risks and require vendors to provide proof of insurance, but enforcement and periodic review are limited.' },
                                    { value: '4', label: 'Robust vendor agreements mandate AI-specific indemnification, verified insurance coverage aligned with exposure (e.g., tech E&O, cyber), and ongoing compliance monitoring to ensure protections remain current.' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        section12Questions.forEach(q => {
                            checkPageBreak(30);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData ? sectionData[q.field] : null;
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Section 13 with questions and selected options
                    function addSection13WithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('13. Prior Incidents & Claims', margin);
                        
                        // Define all Section 13 questions with their field names  
                        const section13Questions = [
                            {
                                question: '1. In the last 5 years, has the Company, or any entity falling within the definition of \'Insured\' under the proposed Policy, its partners, directors, officers, or employees ever had a written demand or civil proceedings for compensatory damages made against them?',
                                field: 'written_demands',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'written_demands_details_text',
                                    label: 'If yes, provide details:'
                                }
                            },
                            {
                                question: '2. In the past 5 years has the Company, or any entity falling within the definition of \'Insured\' under the proposed Policy:',
                                field: 'incidents',
                                type: 'checkbox',
                                options: [
                                    { field: 'incident_privacy_claims', label: 'Received any claims or complaints regarding privacy, data protection or network security, or unauthorized disclosure of information?' },
                                    { field: 'incident_breach_notification', label: 'Notified any persons of a privacy violation and/or data breach incident?' },
                                    { field: 'incident_extortion', label: 'Received an extortion demand relating to your data and/or computer systems?' },
                                    { field: 'incident_network_outage', label: 'Experienced a network outage that resulted in a significant disruption to your operations?' },
                                    { field: 'incident_government_action', label: 'Been subject to any government action, investigation, subpoena regarding any alleged violation of privacy law or regulation?' },
                                    { field: 'incident_ip_complaint', label: 'Received a complaint or cease and desist demand alleging trademark, copyright, invasion of privacy, defamation with regard to content published, displayed, or distributed by or on behalf of the applicant?' },
                                    { field: 'incident_policy_covered', label: 'Experienced any incident which may be covered under this policy?' }
                                ],
                                followUp: {
                                    condition: 'any_yes',
                                    field: 'incident_details_text',
                                    label: 'If Yes to any of the above, please provide details on an addendum including relevant dates, brief summary of incident and any preventative measures that have been taken to prevent a reoccurrence:'
                                }
                            },
                            {
                                question: '3. Is the Applicant, or any person applying for this insurance aware of any fact, circumstance, situation, event, or act that reasonably could give rise to a claim against them for any coverages for which the Applicant is applying?',
                                field: 'potential_claims_awareness',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        section13Questions.forEach(q => {
                            checkPageBreak(30);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            if (q.type === 'radio') {
                                const fieldValue = sectionData ? sectionData[q.field] : null;
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                                
                                // Handle follow-up questions for radio type
                                if (q.followUp && fieldValue === q.followUp.condition && sectionData) {
                                    yPosition += 5;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText(q.followUp.label, margin);
                                    yPosition += 3;
                                    contentDoc.setFont(undefined, 'normal');
                                    
                                    const followUpValue = sectionData[q.followUp.field];
                                    if (followUpValue) {
                                        addWrappedText(`Answer: ${followUpValue}`, margin);
                                    } else {
                                        addWrappedText('Answer: (No details provided)', margin);
                                    }
                                }
                            } else if (q.type === 'checkbox') {
                                // Handle checkbox questions
                                let anyIncidentSelected = false;
                                
                                if (q.options) {
                                    q.options.forEach(option => {
                                        const fieldValue = sectionData ? sectionData[option.field] : null;
                                        const isSelected = fieldValue === 'yes';
                                        const symbol = isSelected ? '[✓]' : '[ ]';
                                        addWrappedText(`${symbol} ${option.label}`, margin);
                                        
                                        if (isSelected) {
                                            anyIncidentSelected = true;
                                        }
                                    });
                                }
                                
                                // Handle follow-up for checkbox questions
                                if (q.followUp && anyIncidentSelected && sectionData) {
                                    yPosition += 5;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText(q.followUp.label, margin);
                                    yPosition += 3;
                                    contentDoc.setFont(undefined, 'normal');
                                    
                                    const followUpValue = sectionData[q.followUp.field];
                                    if (followUpValue) {
                                        addWrappedText(`Details: ${followUpValue}`, margin);
                                    } else {
                                        addWrappedText('Details: (No details provided)', margin);
                                    }
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for AI Additional Questions with all questions and options
                    function addAISectionWithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('1.  Artificial Intelligence (Additional Questions)', margin);
                        
                        // Define all AI Additional Questions with their field names
                        const aiQuestions = [
                            {
                                question: '1. Is AI functionality integrated into any of your software products or services provided to customers or third parties?',
                                field: 'ai_functionality_integrated',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'ai_functionality_description',
                                    label: 'If yes, specify which products/services and describe the functionality:'
                                }
                            },
                            {
                                question: '2. Do you develop your own proprietary AI or ML models?',
                                field: 'develop_proprietary_ai',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'proprietary_ai_description',
                                    label: 'If yes, please describe the types of models and applications:'
                                }
                            },
                            {
                                question: '3. Do you use third-party or open-source AI/ML models in your offerings?',
                                field: 'use_third_party_ai',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'third_party_ai_description',
                                    label: 'If yes, please describe the types of models and applications:'
                                }
                            },
                            {
                                question: '4. Do you have formal processes to test, validate, and monitor the performance and reliability of AI/ML models before and after deployment?',
                                field: 'ai_testing_processes',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'ai_testing_description',
                                    label: 'If yes, please describe:'
                                }
                            },
                            {
                                question: '5. Do you have internal policies addressing the ethical or regulatory use of AI, including issues such as bias, fairness, explainability, or compliance with applicable AI legislation?',
                                field: 'ai_ethical_policies',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '6. Do you train AI/ML models on customer or third-party data?',
                                field: 'ai_train_customer_data',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'ai_data_permissions',
                                    label: 'If yes, do you have processes to obtain appropriate permissions, anonymize, or secure the data?'
                                }
                            },
                            {
                                question: '7. Have you taken steps to ensure that the use of data in training or operating your AI systems does not infringe third-party intellectual property rights?',
                                field: 'ai_ip_protection',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '8. Do your customer contracts include disclaimers or limitations of liability specifically addressing your AI functionality (e.g., output reliability, errors, or recommendations generated by AI)?',
                                field: 'ai_contract_disclaimers',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '9. Have you been subject to any complaints, demands, or legal proceedings arising out of your use or provision of AI systems?',
                                field: 'ai_legal_proceedings',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '10. Are AI agents integrated into any of your software products or services provided to customers or third parties?',
                                field: 'ai_agents_integrated',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        aiQuestions.forEach(q => {
                            checkPageBreak(15);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData ? sectionData[q.field] : null;
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                                // Handle follow-up questions
                                if (q.followUp && fieldValue === q.followUp.condition && sectionData) {
                                    yPosition += 3;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText(q.followUp.label, margin);
                                    yPosition += 2;
                                    contentDoc.setFont(undefined, 'normal');
                                    
                                    const followUpValue = sectionData[q.followUp.field];
                                    if (followUpValue) {
                                        addWrappedText(`Answer: ${followUpValue}`, margin);
                                    } else {
                                        addWrappedText('Answer: (No response provided)', margin);
                                    }
                                }
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for DeFi Additional Questions with all questions and options
                    function addDeFiSectionWithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('2. Decentralized Finance & Digital Assets (Additional Questions)', margin);
                        
                        // Define all DeFi Additional Questions with their field names
                        const defiQuestions = [
                            {
                                question: '1. Do you provide any services involving cryptocurrency custody, wallet management, or private key management on behalf of clients?',
                                field: 'defi_custody_services',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_custody_controls',
                                    label: 'If yes, please describe the controls in place to secure these assets:'
                                }
                            },
                            {
                                question: '2. Do you operate or maintain a cryptocurrency exchange or trading platform?',
                                field: 'defi_exchange_platform',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    fields: ['defi_crypto_types', 'defi_daily_volume', 'defi_geographic_regions'],
                                    label: 'If yes, please specify:'
                                }
                            },
                            {
                                question: '3. Do you use or develop smart contracts in connection with your services (e.g., for decentralized finance, token issuance, automated settlements)?',
                                field: 'defi_smart_contracts',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_audit_processes',
                                    label: 'If yes, please describe your processes for auditing and testing these smart contracts prior to deployment:'
                                }
                            },
                            {
                                question: '4. Have you engaged any third-party security firms to perform penetration testing or blockchain code audits on your platforms or products?',
                                field: 'defi_security_audits',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_security_findings',
                                    label: 'If yes, please attach the latest summary findings or certifications:'
                                }
                            },
                            {
                                question: '5. Do your standard client agreements include disclaimers, waivers, or limitations of liability specifically addressing risks related to cryptocurrency transactions, volatility, or smart contracts?',
                                field: 'defi_disclaimers',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_contract_clauses',
                                    label: 'If yes, please attach sample contract clauses:'
                                }
                            },
                            {
                                question: '6. Do you maintain separate hot and cold wallet infrastructures for cryptocurrency held on behalf of clients?',
                                field: 'defi_wallet_infrastructure',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_wallet_split',
                                    label: 'If yes, please describe the split and security controls:'
                                }
                            },
                            {
                                question: '7. Are any of your blockchain or crypto-related activities regulated by financial services authorities (e.g., FINTRAC, MiCA, VARA, MAS)?',
                                field: 'defi_regulated',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_regulators',
                                    label: 'If yes, please list regulators and licenses held:'
                                }
                            },
                            {
                                question: '8. Do you have documented policies and procedures in place for Anti-Money Laundering (AML), Counter Terrorist Financing (CFT), and customer onboarding (KYC/KYB)?',
                                field: 'defi_aml_policies',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_aml_policy',
                                    label: 'Please attach your AML/KYC policy:'
                                }
                            },
                            {
                                question: '9. What processes do you have to ensure compliance with international sanctions laws (e.g., OFAC, EU sanctions) in transactions involving digital assets?',
                                field: 'defi_sanctions_compliance',
                                type: 'textarea'
                            },
                            {
                                question: '10. Do you maintain logs or blockchain analytics to monitor and trace the source of funds to help mitigate fraud, money laundering, or sanctions violations?',
                                field: 'defi_blockchain_analytics',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_analytics_systems',
                                    label: 'If yes, please describe the systems or vendors used:'
                                }
                            },
                            {
                                question: '11. Do you use any decentralized protocols (DEXs, liquidity pools, DeFi protocols) as part of your business operations or investment strategies?',
                                field: 'defi_protocols',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '12. Do you use third-party custodians, liquidity providers, or technology vendors for any part of your crypto operations?',
                                field: 'defi_third_party',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_indemnity',
                                    label: 'If yes, do your contracts with these providers include indemnity and hold harmless provisions in your favor?'
                                }
                            },
                            {
                                question: '13. Do you hold or have custody digital assets on your own balance sheet for investment purposes?',
                                field: 'defi_investment_assets',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_investment_value',
                                    label: 'Please indicate the approximate value and percentage of total assets:'
                                }
                            },
                            {
                                question: '14. Do you develop, issue, or advise on the issuance of tokens, coins, or other digital assets?',
                                field: 'defi_token_issuance',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_token_structure',
                                    label: 'Please provide details on the token structure and investor protections:'
                                }
                            },
                            {
                                question: '15. What percentage of your business revenue is derived from blockchain or cryptocurrency-related services versus traditional financial or technology services?',
                                field: 'defi_revenue_percentage',
                                type: 'text'
                            },
                            {
                                question: '16. Do you have incident response plans specific to handling cryptocurrency or blockchain-related security events, including notifying customers and regulators?',
                                field: 'defi_incident_response',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '17. Do you have insurance coverage in place (separate from E&O) to protect against loss or theft of cryptocurrency assets (crime / cyber crime / specie)?',
                                field: 'defi_crypto_insurance',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '18. Do you carry directors & officers (D&O) insurance that specifically contemplates exposures arising from cryptocurrency or blockchain-related activities?',
                                field: 'defi_do_insurance',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '19. Have you ever been the subject of any regulatory investigation, audit, inquiry, or received a warning letter in relation to your crypto or blockchain activities?',
                                field: 'defi_regulatory_issues',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '20. Have you experienced any hacks, data breaches, theft of cryptocurrency assets, or significant transaction errors in the last five years?',
                                field: 'defi_security_incidents',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'defi_incident_details',
                                    label: 'If yes, please provide details, including remedial actions taken:'
                                }
                            }
                        ];
                        
                        // Process each question
                        defiQuestions.forEach(q => {
                            checkPageBreak(15);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            const fieldValue = sectionData ? sectionData[q.field] : null;
                            
                            if (q.type === 'radio' && q.options) {
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                                // Handle follow-up questions
                                if (q.followUp && fieldValue === q.followUp.condition && sectionData) {
                                    yPosition += 3;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText(q.followUp.label, margin);
                                    yPosition += 2;
                                    contentDoc.setFont(undefined, 'normal');
                                    
                                    if (q.followUp.fields) {
                                        // Handle multiple follow-up fields
                                        q.followUp.fields.forEach(field => {
                                            const followUpValue = sectionData[field];
                                            if (followUpValue) {
                                                const fieldName = field.replace(/_/g, ' ').replace(/([A-Z])/g, ' $1').toLowerCase();
                                                const capitalizedName = fieldName.charAt(0).toUpperCase() + fieldName.slice(1);
                                                addWrappedText(`${capitalizedName}: ${followUpValue}`, margin);
                                            }
                                        });
                                    } else if (q.followUp.field) {
                                        // Handle single follow-up field
                                        const followUpValue = sectionData[q.followUp.field];
                                        if (followUpValue) {
                                            addWrappedText(`Answer: ${followUpValue}`, margin);
                                        } else {
                                            addWrappedText('Answer: (No response provided)', margin);
                                        }
                                    }
                                }
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }
                    
                    // Enhanced function for Robotics Additional Questions with all questions and options
                    function addRoboticsSectionWithQuestions(sectionData) {
                        checkPageBreak(20);
                        addSectionTitle('3. Autonomous Robotics (Additional Questions)', margin);
                        
                        // Define all Robotics Additional Questions with their field names
                        const roboticsQuestions = [
                            {
                                question: '1. What functions do your autonomous robots perform?',
                                field: 'robotics_functions',
                                type: 'textarea'
                            },
                            {
                                question: '2. Are your robots used in public or semi-public environments (e.g., hospitals, airports, malls)?',
                                field: 'robotics_public_use',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '3. How many autonomous robots are currently deployed in the field?',
                                field: 'robotics_deployed_count',
                                type: 'text'
                            },
                            {
                                question: '4. What level of autonomy do your robots operate at?',
                                field: 'robotics_autonomy_level',
                                type: 'radio',
                                options: [
                                    { value: 'remote_controlled', label: 'Remote controlled' },
                                    { value: 'semi_autonomous', label: 'Semi – autonomous' },
                                    { value: 'fully_autonomous', label: 'Fully autonomous (no human in the loop)' }
                                ]
                            },
                            {
                                question: '5. Can the robot make real-time decisions without human oversight?',
                                field: 'robotics_realtime_decisions',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '6. Are there human override or emergency shutdown capabilities built into each unit?',
                                field: 'robotics_emergency_shutdown',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '7. What navigation methods are used? (select all that apply)',
                                field: 'robotics_navigation',
                                type: 'checkbox',
                                options: [
                                    { value: 'gps', label: 'GPS' },
                                    { value: 'slam', label: 'SLAM' },
                                    { value: 'lidar', label: 'LiDAR' },
                                    { value: 'computer_vision', label: 'Computer Vision' },
                                    { value: 'beacon_infrared', label: 'Beacon/Infrared' },
                                    { value: 'other', label: 'Other' }
                                ],
                                followUp: {
                                    condition: 'other',
                                    field: 'nav_other_specify',
                                    label: 'Please specify other navigation methods:'
                                }
                            },
                            {
                                question: '8. Are the robots equipped with real-time obstacle detection and collision avoidance systems?',
                                field: 'robotics_obstacle_detection',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '9. Have you had any reported incidents involving physical harm or property damage caused by a robot?',
                                field: 'robotics_incidents',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ],
                                followUp: {
                                    condition: 'yes',
                                    field: 'robotics_incident_description',
                                    label: 'If yes please describe:'
                                }
                            },
                            {
                                question: '10. Do your robots use AI agents or machine learning models to support decision-making?',
                                field: 'robotics_ai_ml',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '11. How often is the software or firmware on the robots updated?',
                                field: 'robotics_update_frequency',
                                type: 'text'
                            },
                            {
                                question: '12. Do you maintain logs of robot activity and decision-making for audit or incident response purposes?',
                                field: 'robotics_activity_logs',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '13. Are communications between robots and your servers encrypted and authenticated?',
                                field: 'robotics_encrypted_comms',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '14. Have your systems undergone independent safety, cybersecurity, or compliance audits?',
                                field: 'robotics_audits',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '15. Are your robots certified or compliant with any relevant safety or robotics standards (e.g., ISO 13482, UL 3100)?',
                                field: 'robotics_standards',
                                type: 'radio',
                                options: [
                                    { value: 'yes', label: 'Yes' },
                                    { value: 'no', label: 'No' }
                                ]
                            },
                            {
                                question: '16. Do you perform regular maintenance or diagnostics on deployed robotic units?',
                                field: 'robotics_maintenance',
                                type: 'radio',
                                options: [
                                    { value: 'scheduled_protocols', label: 'Yes – per scheduled maintenance protocols' },
                                    { value: 'failure_only', label: 'Yes – only upon failure or customer report' },
                                    { value: 'no_formal', label: 'No formal maintenance program' }
                                ]
                            },
                            {
                                question: '17. Are any robots deployed at customer or third-party locations where you do not have direct operational control?',
                                field: 'robotics_third_party_deployment',
                                type: 'radio',
                                options: [
                                    { value: 'no', label: 'No' },
                                    { value: 'yes_monitored', label: 'Yes – with active monitoring' },
                                    { value: 'yes_unmonitored', label: 'Yes – without active monitoring' }
                                ]
                            },
                            {
                                question: '18. Do your robots interact directly with members of the public or end users (e.g., customers, patients, pedestrians)?',
                                field: 'robotics_public_interaction',
                                type: 'radio',
                                options: [
                                    { value: 'yes_frequently', label: 'Yes – frequently' },
                                    { value: 'occasionally', label: 'Occasionally' },
                                    { value: 'no_direct', label: 'No direct interaction' }
                                ]
                            },
                            {
                                question: '19. Do you have contracts in place with customers or partners that include:',
                                field: 'robotics_contract_terms',
                                type: 'checkbox',
                                options: [
                                    { value: 'limitations_liability', label: 'Limitations of liability?' },
                                    { value: 'indemnification', label: 'Indemnification terms?' },
                                    { value: 'insurance_requirements', label: 'Insurance requirements?' }
                                ]
                            },
                            {
                                question: '20. Do you carry insurance coverage specific to autonomous hardware/software risks (e.g., product liability, tech E&O, cyber)?',
                                field: 'robotics_insurance_coverage',
                                type: 'radio',
                                options: [
                                    { value: 'yes_adequate', label: 'Yes – adequate and reviewed annually' },
                                    { value: 'yes_needs_review', label: 'Yes – but may need review' },
                                    { value: 'no_coverage', label: 'No specific coverage' }
                                ]
                            }
                        ];
                        
                        // Process each question
                        roboticsQuestions.forEach(q => {
                            checkPageBreak(15);
                            
                            contentDoc.setFontSize(10);
                            contentDoc.setFont('AptosSerif', 'bold');
                            addWrappedText(q.question, margin);
                            yPosition += 3;
                            
                            contentDoc.setFont(undefined, 'normal');
                            
                            if (q.type === 'radio') {
                                const fieldValue = sectionData ? sectionData[q.field] : null;
                                renderSelectedRadioOption(contentDoc, fieldValue, q.options, margin);
                                // Handle follow-up questions
                                if (q.followUp && fieldValue === q.followUp.condition && sectionData) {
                                    yPosition += 3;
                                    contentDoc.setFont('AptosSerif', 'bold');
                                    addWrappedText(q.followUp.label, margin);
                                    yPosition += 2;
                                    contentDoc.setFont(undefined, 'normal');
                                    
                                    const followUpValue = sectionData[q.followUp.field];
                                    if (followUpValue) {
                                        addWrappedText(`Answer: ${followUpValue}`, margin);
                                    } else {
                                        addWrappedText('Answer: (No response provided)', margin);
                                    }
                                }
                            } else if (q.type === 'checkbox') {
                                const fieldValue = sectionData ? sectionData[q.field] : null;
                                
                                if (q.options) {
                                    q.options.forEach(option => {
                                        let isSelected = false;
                                        if (Array.isArray(fieldValue)) {
                                            isSelected = fieldValue.includes(option.value);
                                        }
                                        const symbol = isSelected ? '[✓]' : '[ ]';
                                        addWrappedText(`${symbol} ${option.label}`, margin);
                                        
                                        // Handle follow-up for checkbox with other option
                                        if (q.followUp && option.value === q.followUp.condition && isSelected && sectionData) {
                                            yPosition += 3;
                                            contentDoc.setFont('AptosSerif', 'bold');
                                            addWrappedText(q.followUp.label, margin);
                                            yPosition += 2;
                                            contentDoc.setFont(undefined, 'normal');
                                            
                                            const followUpValue = sectionData[q.followUp.field];
                                            if (followUpValue) {
                                                addWrappedText(`Answer: ${followUpValue}`, margin);
                                            } else {
                                                addWrappedText('Answer: (No response provided)', margin);
                                            }
                                        }
                                    });
                                }
                            } else if (q.type === 'textarea' || q.type === 'text') {
                                const fieldValue = sectionData ? sectionData[q.field] : null;
                                if (fieldValue) {
                                    addWrappedText(`Answer: ${fieldValue}`, margin);
                                } else {
                                    addWrappedText('Answer: (No response provided)', margin);
                                }
                            }
                            
                            yPosition += 8;
                        });
                        
                        yPosition += 5;
                    }

                    // Helper function to add section data
                    function addSectionData(sectionTitle, sectionData) {
                        checkPageBreak(20);
                        addSectionTitle(sectionTitle, margin);
                        
                        contentDoc.setFontSize(10);
                        contentDoc.setFont(undefined, 'normal');
                        
                        if (Object.keys(sectionData).length === 0) {
                            addWrappedText('No data entered for this section', margin);
                            yPosition += 5;
                            return;
                        }
                        
                        Object.entries(sectionData).forEach(([key, value]) => {
                            if (value !== undefined && value !== null && value !== '') {
                                checkPageBreak();
                                // Format field name
                                const fieldName = key.replace(/_/g, ' ').replace(/([A-Z])/g, ' $1').toLowerCase();
                                const capitalizedName = fieldName.charAt(0).toUpperCase() + fieldName.slice(1);
                                
                                // Format value
                                let displayValue = value;
                                if (Array.isArray(value)) {
                                    displayValue = value.join(', ');
                                }
                                
                                addWrappedText(`${capitalizedName}: ${displayValue}`, margin);
                            }
                        });
                        yPosition += 10;
                    }
                    
                    // Section 2: General Information - Enhanced with questions and options
                    sectionPageNumbers['2. General Information'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection2WithQuestions(formData.generalInfo);
                    
                    // Section 3: Operations - Enhanced with questions and options
                    sectionPageNumbers['3. Operations'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection3WithQuestions(formData.operations);
                    
                    // Section 4: Financials - Enhanced with questions and options
                    sectionPageNumbers['4. Financials'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection4WithQuestions(formData.financials);
                    
                    // Section 5: Contractual Controls - Enhanced with questions and options
                    sectionPageNumbers['5. Contractual Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection5WithQuestions(formData.contractualControls);
                    
                    // Section 6: Cybersecurity, Technical & Crime Controls - Enhanced with questions and options
                    sectionPageNumbers['6. Cybersecurity, Technical & Crime Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection6WithQuestions(formData.cybersecurity);
                    
                    // Section 7: Data Backup & Business Continuity & Supply Chain Controls - Enhanced with questions and options
                    sectionPageNumbers['7. Data Backup & Business Continuity & Supply Chain Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection7WithQuestions(formData.dataBackup);
                    
                    // Section 8: Third Party, Vendor & Supply Chain Controls - Enhanced with questions and options
                    sectionPageNumbers['8. Third Party, Vendor & Supply Chain Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection8WithQuestions(formData.thirdParty);
                    
                    // Section 9: Privacy, Data Security & API Controls - Enhanced with questions and options
                    sectionPageNumbers['9. Privacy, Data Security & API Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection9WithQuestions(formData.privacy);
                    
                    // Section 10: Intellectual Property & Content Governance Controls - Enhanced with questions and options
                    sectionPageNumbers['10. Intellectual Property & Content Governance Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection10WithQuestions(formData.intellectualProperty);
                    
                    // Section 11: People, Employment Practices & Insider Controls - Enhanced with questions and options
                    sectionPageNumbers['11. People, Employment Practices & Insider Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection11WithQuestions(formData.employment);
                    
                    // Section 12: Artificial Intelligence Tools & Controls - Enhanced with questions and options
                    sectionPageNumbers['12. Artificial Intelligence Tools & Controls'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection12WithQuestions(formData.aiTools);
                    
                    // Section 13: Prior Incidents & Claims - Enhanced with questions and options
                    sectionPageNumbers['13. Prior Incidents & Claims'] = contentDoc.internal.getNumberOfPages() + 2;
                    addSection13WithQuestions(formData.priorIncidents);
                    
                    // Add all other sections
                    //addSectionData('Section 2: General Information', formData.generalInfo);
                    //addSectionData('Section 3: Operations', formData.operations);
                    //addSectionData('Section 4: Financials', formData.financials);
                    // Note: Sections 11, 12, and 13 are already handled by the enhanced functions above
                    
                    // Conditional sections (only if respective sectors were selected)
                    if (formData.sectors.includes('ai')) {
                        sectionPageNumbers['Additional Questions: Artificial Intelligence'] = contentDoc.internal.getNumberOfPages() + 2;
                        addAISectionWithQuestions(formData.ai);
                    }
                    
                    if (formData.sectors.includes('defi')) {
                        sectionPageNumbers['Additional Questions: Decentralized Finance & Digital Assets'] = contentDoc.internal.getNumberOfPages() + 2;
                        addDeFiSectionWithQuestions(formData.defi);
                    }
                    
                    if (formData.sectors.includes('robotics')) {
                        sectionPageNumbers['Additional Questions: Autonomous Robotics'] = contentDoc.internal.getNumberOfPages() + 2;
                        addRoboticsSectionWithQuestions(formData.robotics);
                    }
                    
                    // Don't add "Thank You" end page - will use static PDF instead
                    
                    // Generate Table of Contents
                    function generateTableOfContents(sectionPages) {
                        // Create a separate PDF document for Table of Contents
                        const tocDoc = new jsPDF();
                        
                        // Register custom fonts
                        window.registerFontsUMD(tocDoc);
                        
                        let tocYPosition = 50;
                        const tocPageHeight = tocDoc.internal.pageSize.height;
                        const tocMargin = 20;
                        const tocLineHeight = 8;
                        
                        // ToC header will be added after title
                        
                        // ToC Title
                        window.useFontUMD(tocDoc, 'PoppinsExtraBold16');
                        tocDoc.setTextColor(brandBlue[0], brandBlue[1], brandBlue[2]); // Blue color matching section titles
                        tocDoc.text('Table of Contents', tocMargin, tocYPosition);
                        tocYPosition += 15;
                        
                        // ToC entries - Use actual page numbers from section tracking
                        const tocEntries = [];
                        
                        // Add main sections in order
                        const mainSections = [
                            '1. Sectors',
                            '2. General Information',
                            '3. Operations',
                            '4. Financials',
                            '5. Contractual Controls',
                            '6. Cybersecurity, Technical & Crime Controls',
                            '7. Data Backup & Business Continuity & Supply Chain Controls',
                            '8. Third Party, Vendor & Supply Chain Controls',
                            '9. Privacy, Data Security & API Controls',
                            '10. Intellectual Property & Content Governance Controls',
                            '11. People, Employment Practices & Insider Controls',
                            '12. Artificial Intelligence Tools & Controls',
                            '13. Prior Incidents & Claims'
                        ];
                        
                        mainSections.forEach(sectionTitle => {
                            if (sectionPages[sectionTitle]) {
                                tocEntries.push({ title: sectionTitle, page: sectionPages[sectionTitle] });
                            }
                        });
                        
                        // Add conditional sections based on selected sectors
                        if (formData.sectors.includes('ai') && sectionPages['Additional Questions: Artificial Intelligence']) {
                            tocEntries.push({ title: 'Additional Questions: Artificial Intelligence', page: sectionPages['Additional Questions: Artificial Intelligence'] });
                        }
                        if (formData.sectors.includes('defi') && sectionPages['Additional Questions: Decentralized Finance & Digital Assets']) {
                            tocEntries.push({ title: 'Additional Questions: Decentralized Finance & Digital Assets', page: sectionPages['Additional Questions: Decentralized Finance & Digital Assets'] });
                        }
                        if (formData.sectors.includes('robotics') && sectionPages['Additional Questions: Autonomous Robotics']) {
                            tocEntries.push({ title: 'Additional Questions: Autonomous Robotics', page: sectionPages['Additional Questions: Autonomous Robotics'] });
                        }
                        
                        // Add ToC entries to the document
                        // tocDoc.setFontSize(12);
                        // tocDoc.setFont(undefined, 'normal');
                        window.useFontUMD(tocDoc, 'PoppinsBlack12');
                        tocDoc.setTextColor(0, 0, 0); // Black text for entries
                        
                        // Helper function to add header to ToC pages
                        function addToCPageHeader(pageNum) {
                            const pageWidth = tocDoc.internal.pageSize.width;
                            
                            // Axis logo image (left side)
                            try {
                                tocDoc.addImage('./pdf/logo.png', 'PNG', tocMargin, 15, 30, 15);
                            } catch (error) {
                                // Fallback to text if image fails to load
                                window.useFontUMD(tocDoc, 'PoppinsExtraBold16');
                                tocDoc.setTextColor(brandBlue[0], brandBlue[1], brandBlue[2]); // Blue color
                                tocDoc.text('AXIS', tocMargin, 25);
                            }
                            
                            // Technology Insurance Application | page number (single line, right side)
                            window.useFontUMD(tocDoc, 'PoppinsBlack12');
                            tocDoc.setTextColor(brandBlue[0], brandBlue[1], brandBlue[2]); // Blue color
                            const headerText = `Technology Insurance Application`;
                            const textWidth = tocDoc.getTextWidth(headerText);
                            tocDoc.text(headerText, pageWidth - tocMargin - textWidth, 25);
                            
                            // Blue border line at bottom of header
                            tocDoc.setDrawColor(brandBlue[0], brandBlue[1], brandBlue[2]); // #0050F0 color
                            tocDoc.setLineWidth(.5);
                            tocDoc.line(tocMargin, 35, pageWidth - tocMargin, 35);
                            
                            // Reset text color to black for content
                            tocDoc.setTextColor(0, 0, 0);
                        }
                        
                        // Add header to first ToC page
                        addToCPageHeader(1);
                        
                        tocEntries.forEach(entry => {
                            // Check if we need a new page
                            if (tocYPosition + tocLineHeight > tocPageHeight - tocMargin) {
                                tocDoc.addPage();
                                tocYPosition = 50; // Start below header area
                                addToCPageHeader(tocDoc.internal.getNumberOfPages());
                            }
                            
                            // Add title
                            window.useFontUMD(tocDoc, 'AptosSerifReg12');
                            tocDoc.text(entry.title, tocMargin + 5, tocYPosition);
                            
                            // Add dotted line
                            const titleWidth = tocDoc.getTextWidth(entry.title);
                            const pageNumWidth = tocDoc.getTextWidth(entry.page.toString());
                            const availableWidth = tocDoc.internal.pageSize.width - tocMargin - 5 - titleWidth - pageNumWidth - 10;
                            const dotCount = Math.floor(availableWidth / 3);
                            const dots = '.'.repeat(Math.max(dotCount, 1));
                            
                            tocDoc.text(dots, tocMargin + 5 + titleWidth + 5, tocYPosition);
                            
                            // Add page number
                            tocDoc.text(entry.page.toString(), tocDoc.internal.pageSize.width - tocMargin - pageNumWidth, tocYPosition);
                            
                            tocYPosition += tocLineHeight;
                        });
                        
                        // Add footer
                        const tocPageCount = tocDoc.internal.getNumberOfPages();
                        // for (let i = 1; i <= tocPageCount; i++) {
                        //     tocDoc.setPage(i);
                        //     tocDoc.setFontSize(8);
                        //     tocDoc.setFont(undefined, 'normal');
                        //     tocDoc.setTextColor(0, 0, 0);
                        //     tocDoc.text(`Page ${i + 1}`, tocDoc.internal.pageSize.width - 40, tocDoc.internal.pageSize.height - 10);
                        //     tocDoc.text('Axis Technology Insurance Application', tocMargin, tocDoc.internal.pageSize.height - 10);
                        // }
                        
                        return tocDoc.output('arraybuffer');
                    }
                    
                    // Generate ToC with actual page numbers
                    const tocPdfBytes = generateTableOfContents(sectionPageNumbers);
                    
                    // Add headers and footers to all content pages (no front/end pages in content PDF)
                    const pageCount = contentDoc.internal.getNumberOfPages();
                    for (let i = 1; i <= pageCount; i++) {
                        contentDoc.setPage(i);
                        
                        // Add header to each content page (will adjust page numbers later when merged)
                        addPageHeader(i + 2, pageCount + 3); // +1 for front cover, +1 for ToC, +1 for end page
                        
                        // Add footer to each content page
                        // contentDoc.setFontSize(8);
                        // contentDoc.setFont(undefined, 'normal');
                        window.useFontUMD(contentDoc, 'Vollkorn14');
                        contentDoc.setTextColor(0, 0, 0); // Ensure footer text is black
                        contentDoc.text(`Page ${i + 2} of ${pageCount + 3}`, contentDoc.internal.pageSize.width - 40, contentDoc.internal.pageSize.height - 10);
                        //contentDoc.text('Technology Insurance Application', margin, contentDoc.internal.pageSize.height - 10);
                    }
                    
                    // Convert the content PDF to arrayBuffer for PDF-lib
                    const contentPdfBytes = contentDoc.output('arraybuffer');
                    
                    // Now merge with static PDFs using PDF-lib
                    const { PDFDocument } = PDFLib;
                    
                    showNotification('🔄 Loading and merging static PDF files...', 'info');
                    
                    let endPageBytes;
                    
                    // Use dynamically generated front cover (already generated above)
                    const frontCoverBytes = frontCoverPdfBytes;
                    
                    try {
                        // Try to load static end page PDF using fetch (works in server environment)
                        const endPageResponse = await fetch('./pdf/end last page.pdf');
                        
                        if (!endPageResponse.ok) {
                            throw new Error(`Failed to load end page PDF: ${endPageResponse.status}`);
                        }
                        
                        endPageBytes = await endPageResponse.arrayBuffer();
                        
                    } catch (fetchError) {
                        // Check if this is a CORS error (common when opening HTML file directly)
                        if (fetchError.message.includes('fetch') || fetchError.name === 'TypeError') {
                            showNotification('⚠️ CORS Error: Please run this application on an HTTP server', 'error');
                            
                            // Provide user-friendly error with instructions
                            const corsErrorModal = `
                                <div id="corsErrorModal" style="
                                    position: fixed; 
                                    top: 0; left: 0; 
                                    width: 100%; height: 100%; 
                                    background: rgba(0,0,0,0.7); 
                                    z-index: 10000; 
                                    display: flex; 
                                    align-items: center; 
                                    justify-content: center;
                                ">
                                    <div style="
                                        background: white; 
                                        padding: 30px; 
                                        border-radius: 10px; 
                                        max-width: 600px; 
                                        margin: 20px;
                                        text-align: center;
                                    ">
                                        <h3 style="color: #dc3545; margin-bottom: 20px;">🚫 CORS Error Detected</h3>
                                        <p><strong>The PDF files cannot be loaded when opening the HTML file directly in the browser.</strong></p>
                                        <p style="margin: 20px 0;">To use the PDF merging feature, please run this application on an HTTP server:</p>
                                        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0; text-align: left;">
                                            <strong>Options:</strong><br>
                                            1. <strong>Python:</strong> <code>python -m http.server 8080</code><br>
                                            2. <strong>Node.js:</strong> <code>npx serve .</code><br>
                                            3. <strong>PHP:</strong> <code>php -S localhost:8080</code><br>
                                            4. <strong>Use a web server like XAMPP/WAMP</strong>
                                        </div>
                                        <p style="font-size: 14px; color: #666;">Then access via <code>http://localhost:8080</code></p>
                                        <button onclick="document.getElementById('corsErrorModal').remove()" style="
                                            background: #007bff; 
                                            color: white; 
                                            border: none; 
                                            padding: 10px 20px; 
                                            border-radius: 5px; 
                                            cursor: pointer;
                                            margin-top: 15px;
                                        ">Close</button>
                                    </div>
                                </div>
                            `;
                            
                            document.body.insertAdjacentHTML('beforeend', corsErrorModal);
                            throw new Error('CORS Error: PDF files cannot be loaded. Please run on HTTP server.');
                        } else {
                            throw fetchError;
                        }
                    }
                    
                    // Create new PDF document for merging
                    const finalPdf = await PDFDocument.create();
                    
                    // Load all PDFs
                    const frontCoverPdf = await PDFDocument.load(frontCoverBytes);
                    //const tocPdf = await PDFDocument.load(tocPdfBytes);
                    const contentPdf = await PDFDocument.load(contentPdfBytes);
                    const endPagePdf = await PDFDocument.load(endPageBytes);
                    
                    // Copy front cover pages
                    const frontCoverPages = await finalPdf.copyPages(frontCoverPdf, frontCoverPdf.getPageIndices());
                    frontCoverPages.forEach((page) => finalPdf.addPage(page));
                    
                    // Copy table of contents pages
                    //const tocPages = await finalPdf.copyPages(tocPdf, tocPdf.getPageIndices());
                    //tocPages.forEach((page) => finalPdf.addPage(page));
                    
                    // Copy content pages
                    const contentPages = await finalPdf.copyPages(contentPdf, contentPdf.getPageIndices());
                    contentPages.forEach((page) => finalPdf.addPage(page));
                    
                    // Copy end page pages
                    const endPages = await finalPdf.copyPages(endPagePdf, endPagePdf.getPageIndices());
                    endPages.forEach((page) => finalPdf.addPage(page));
                    
                    // Generate final PDF
                    const finalPdfBytes = await finalPdf.save();
                    
                    // Generate filename with timestamp
                    const timestamp = new Date().toISOString().slice(0,19).replace(/:/g,'-');
                    const filename = `Axis-Technology-Insurance-Application-${timestamp}.pdf`;
                    
                    // Download the merged PDF
                    const blob = new Blob([finalPdfBytes], { type: 'application/pdf' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = filename;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    showNotification('✅ Axis Technology Insurance Application PDF downloaded successfully!', 'success');
                    
                } catch (error) {
                    console.error('Error generating PDF:', error);
                    
                    if (error.message.includes('CORS Error')) {
                        // CORS error already handled above with modal
                        return;
                    }
                    
                    if (error.message.includes('Failed to load') && error.message.includes('PDF')) {
                        showNotification('❌ Error: Could not load static PDF files. Please check that pdf/end last page.pdf exist.', 'error');
                    } else {
                        showNotification('❌ Error generating PDF. Please try again.', 'error');
                    }
                }
            }

            function showNotification(message, type = 'info') {
                // Remove existing notifications
                $('.notification').remove();
                
                const alertClass = {
                    'success': 'alert-success',
                    'error': 'alert-danger',
                    'warning': 'alert-warning',
                    'info': 'alert-info'
                }[type];

                const $notification = $(`
                    <div class="notification alert ${alertClass} alert-dismissible fade show position-fixed" 
                         style="top: 20px; right: 20px; z-index: 9999; max-width: 400px;">
                        ${message}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);

                $('body').append($notification);

                // Auto-dismiss after 5 seconds
                setTimeout(() => {
                    $notification.alert('close');
                }, 5000);
            }

            // Initialize step indicator click handlers
            $('.step-item').on('click', function() {
                const targetStep = parseInt($(this).data('step'));
                
                // Don't allow navigation to conditional steps if they are not enabled
                if (targetStep >= 14) {
                    const aiStep = $('#ai-section').attr('data-section');
                    const defiStep = $('#defi-section').attr('data-section');
                    const roboticsStep = $('#robotics-section').attr('data-section');
                    
                    const isValidConditionalStep = 
                        (aiStepEnabled && targetStep == aiStep) ||
                        (defiStepEnabled && targetStep == defiStep) ||
                        (roboticsStepEnabled && targetStep == roboticsStep);
                    
                    if (!isValidConditionalStep) {
                        return;
                    }
                }
                
                // Only allow navigation to completed steps or next step
                if (targetStep < currentStep || (targetStep === currentStep + 1 && validateCurrentStep())) {
                    currentStep = targetStep;
                    showStep(currentStep);
                    updateStepIndicator();
                    updateNavigation();
                }
            });

            // Show welcome message
            showNotification('Welcome! Your progress will be automatically saved. Use Ctrl+Arrow keys for quick navigation.', 'info');
        });
    </script>
</body>
</html>